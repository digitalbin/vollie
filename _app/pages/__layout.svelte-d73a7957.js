import{S as C,i as N,s as R,e as g,k as S,t as H,c as $,a as b,m as j,h as L,d as _,b as m,g as q,F as h,l as M,G as U,H as Y,n as O,I as Z,J as x,p as J,q as E,o as I,K,L as B,M as ee,N as te,w as F,x as Q,y as T,B as V,O as se,Q as le,P as re,R as ae,T as ne,U as oe,V as ie}from"../chunks/vendor-cd4e58e1.js";import{p as ce}from"../chunks/stores-687d0d6d.js";import{r as ue}from"../chunks/singletons-a6a7384f.js";import{b as fe}from"../chunks/paths-4b3c6e7e.js";import{k as _e}from"../chunks/index-e02fe488.js";const he=pe;async function pe(n,e){return ue.goto(n,e,[])}function de(n){let e,t,s,o,a,i,r,l,c=_e(n[1])+"",d,k,u;function f(v,w){return v[3]?ve:me}let y=f(n)(n);return{c(){e=g("li"),t=g("a"),y.c(),s=S(),o=g("div"),a=g("h3"),i=H(n[0]),r=S(),l=g("p"),d=H(c),k=H(" members"),this.h()},l(v){e=$(v,"LI",{class:!0});var w=b(e);t=$(w,"A",{href:!0,class:!0});var P=b(t);y.l(P),s=j(P),o=$(P,"DIV",{});var D=b(o);a=$(D,"H3",{class:!0});var G=b(a);i=L(G,n[0]),G.forEach(_),r=j(D),l=$(D,"P",{class:!0});var A=b(l);d=L(A,c),k=L(A," members"),A.forEach(_),D.forEach(_),P.forEach(_),w.forEach(_),this.h()},h(){m(a,"class","svelte-gqef8l"),m(l,"class","svelte-gqef8l"),m(t,"href",u=fe+n[2]),m(t,"class","svelte-gqef8l"),m(e,"class","svelte-gqef8l")},m(v,w){q(v,e,w),h(e,t),y.m(t,null),h(t,s),h(t,o),h(o,a),h(a,i),h(o,r),h(o,l),h(l,d),h(l,k)},p(v,w){y.p(v,w)},d(v){v&&_(e),y.d()}}}function me(n){let e;return{c(){e=g("span"),this.h()},l(t){e=$(t,"SPAN",{class:!0}),b(e).forEach(_),this.h()},h(){m(e,"class","svelte-gqef8l")},m(t,s){q(t,e,s)},p:U,d(t){t&&_(e)}}}function ve(n){let e,t;return{c(){e=g("img"),this.h()},l(s){e=$(s,"IMG",{alt:!0,src:!0,class:!0}),this.h()},h(){m(e,"alt",`Icon for ${n[0]}`),Y(e.src,t=n[3])||m(e,"src",t),m(e,"class","svelte-gqef8l")},m(s,o){q(s,e,o)},p:U,d(s){s&&_(e)}}}function ge(n){let e,t=n[2]&&de(n);return{c(){t&&t.c(),e=M()},l(s){t&&t.l(s),e=M()},m(s,o){t&&t.m(s,o),q(s,e,o)},p(s,[o]){s[2]&&t.p(s,o)},i:U,o:U,d(s){t&&t.d(s),s&&_(e)}}}function $e(n,e,t){let{data:s}=e;const{display_name_prefixed:o,subscribers:a,url:i,icon_img:r="",community_icon:l=""}=s,[c]=(r||l).split("?");return n.$$set=d=>{"data"in d&&t(4,s=d.data)},[o,a,i,c,s]}class be extends C{constructor(e){super();N(this,e,$e,ge,R,{data:4})}}function z(n,e,t){const s=n.slice();return s[10]=e[t].data,s}function W(n){let e,t=[],s=new Map,o,a=n[1];const i=r=>r[10].id;for(let r=0;r<a.length;r+=1){let l=z(n,a,r),c=i(l);s.set(c,t[r]=X(c,l))}return{c(){e=g("ul");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=$(r,"UL",{class:!0});var l=b(e);for(let c=0;c<t.length;c+=1)t[c].l(l);l.forEach(_),this.h()},h(){m(e,"class","svelte-2p3od4")},m(r,l){q(r,e,l);for(let c=0;c<t.length;c+=1)t[c].m(e,null);o=!0},p(r,l){l&2&&(a=r[1],O(),t=Z(t,l,i,1,r,a,s,e,x,X,null,z),J())},i(r){if(!o){for(let l=0;l<a.length;l+=1)E(t[l]);o=!0}},o(r){for(let l=0;l<t.length;l+=1)I(t[l]);o=!1},d(r){r&&_(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function X(n,e){let t,s,o;return s=new be({props:{data:e[10]}}),{key:n,first:null,c(){t=M(),F(s.$$.fragment),this.h()},l(a){t=M(),Q(s.$$.fragment,a),this.h()},h(){this.first=t},m(a,i){q(a,t,i),T(s,a,i),o=!0},p(a,i){e=a;const r={};i&2&&(r.data=e[10]),s.$set(r)},i(a){o||(E(s.$$.fragment,a),o=!0)},o(a){I(s.$$.fragment,a),o=!1},d(a){a&&_(t),V(s,a)}}}function ke(n){let e,t,s,o,a,i,r,l=Boolean(n[1].length),c,d,k,u=l&&W(n);return{c(){e=g("header"),t=g("h2"),s=H(n[2]),o=S(),a=g("form"),i=g("input"),r=S(),u&&u.c(),this.h()},l(f){e=$(f,"HEADER",{class:!0});var p=b(e);t=$(p,"H2",{});var y=b(t);s=L(y,n[2]),y.forEach(_),o=j(p),a=$(p,"FORM",{});var v=b(a);i=$(v,"INPUT",{placeholder:!0,class:!0}),r=j(v),u&&u.l(v),v.forEach(_),p.forEach(_),this.h()},h(){m(i,"placeholder","Search subreddit..."),m(i,"class","svelte-2p3od4"),m(e,"class","svelte-2p3od4")},m(f,p){q(f,e,p),h(e,t),h(t,s),h(e,o),h(e,a),h(a,i),K(i,n[0]),h(a,r),u&&u.m(a,null),c=!0,d||(k=[B(i,"input",n[4]),B(i,"input",n[5]),B(a,"submit",n[3])],d=!0)},p(f,[p]){p&1&&i.value!==f[0]&&K(i,f[0]),p&2&&(l=Boolean(f[1].length)),l?u?(u.p(f,p),p&2&&E(u,1)):(u=W(f),u.c(),E(u,1),u.m(a,null)):u&&(O(),I(u,1,1,()=>{u=null}),J())},i(f){c||(E(u),c=!0)},o(f){I(u),c=!1},d(f){f&&_(e),u&&u.d(),d=!1,ee(k)}}}function ye(n,e,t){let s;te(n,ce,f=>t(6,s=f));const{subreddit:o="popular"}=s.params;let i=s.url.pathname==="/search"?"search":`r/${o}`,r="",l=[];const c=()=>{const f=new URL("https://www.reddit.com/api/subreddit_autocomplete_v2.json");return f.searchParams.append("query",r),fetch(f.toString()).then(p=>p.json()).then(p=>{t(1,l=p.data.children)})},d=f=>{f.preventDefault(),he(`/search?q=${r}`)},k=se(()=>{c()},500);function u(){r=this.value,t(0,r)}return[r,l,i,d,k,u]}class qe extends C{constructor(e){super();N(this,e,ye,ke,R,{})}}function Ee(n){let e,t,s,o,a;t=new qe({});const i=n[1].default,r=ae(i,n,n[2],null);return{c(){e=g("div"),F(t.$$.fragment),s=S(),o=g("main"),r&&r.c(),this.h()},l(l){e=$(l,"DIV",{class:!0});var c=b(e);Q(t.$$.fragment,c),s=j(c),o=$(c,"MAIN",{class:!0});var d=b(o);r&&r.l(d),d.forEach(_),c.forEach(_),this.h()},h(){m(o,"class","svelte-i4ipmx"),m(e,"class","svelte-i4ipmx")},m(l,c){q(l,e,c),T(t,e,null),h(e,s),h(e,o),r&&r.m(o,null),a=!0},p(l,c){r&&r.p&&(!a||c&4)&&ne(r,i,l,l[2],a?ie(i,l[2],c,null):oe(l[2]),null)},i(l){a||(E(t.$$.fragment,l),E(r,l),a=!0)},o(l){I(t.$$.fragment,l),I(r,l),a=!1},d(l){l&&_(e),V(t),r&&r.d(l)}}}function we(n){let e,t;return e=new le({props:{client:n[0],$$slots:{default:[Ee]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment)},l(s){Q(e.$$.fragment,s)},m(s,o){T(e,s,o),t=!0},p(s,[o]){const a={};o&4&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){V(e,s)}}}function Ie(n,e,t){let{$$slots:s={},$$scope:o}=e;const a=new re;return n.$$set=i=>{"$$scope"in i&&t(2,o=i.$$scope)},[a,s,o]}class Le extends C{constructor(e){super();N(this,e,Ie,we,R,{})}}export{Le as default};
