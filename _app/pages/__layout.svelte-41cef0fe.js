import{S as A,i as C,s as N,e as g,k as S,t as D,c as $,a as b,m as j,h as H,d as _,b as m,g as k,F as h,l as L,G as M,H as Z,n as O,I as x,J as ee,p as z,q as E,o as I,K as J,L as R,M as te,N as K,w as V,x as B,y as F,B as Q,O as se,Q as le,P as re,R as ae,T as ne,U as ie,V as oe,W as ce}from"../chunks/vendor-d5673dbd.js";import{p as ue}from"../chunks/index-3bee4c2b.js";import{p as fe}from"../chunks/stores-941d90f5.js";import{r as _e}from"../chunks/singletons-a6a7384f.js";import{b as he}from"../chunks/paths-4b3c6e7e.js";import{k as pe}from"../chunks/index-e02fe488.js";const de=me;async function me(n,e){return _e.goto(n,e,[])}function ve(n){let e,t,s,i,l,o,a,r,c=pe(n[1])+"",d,y,u;function f(v,w){return v[3]?$e:ge}let q=f(n)(n);return{c(){e=g("li"),t=g("a"),q.c(),s=S(),i=g("div"),l=g("h3"),o=D(n[0]),a=S(),r=g("p"),d=D(c),y=D(" members"),this.h()},l(v){e=$(v,"LI",{class:!0});var w=b(e);t=$(w,"A",{href:!0,class:!0});var P=b(t);q.l(P),s=j(P),i=$(P,"DIV",{});var U=b(i);l=$(U,"H3",{class:!0});var G=b(l);o=H(G,n[0]),G.forEach(_),a=j(U),r=$(U,"P",{class:!0});var T=b(r);d=H(T,c),y=H(T," members"),T.forEach(_),U.forEach(_),P.forEach(_),w.forEach(_),this.h()},h(){m(l,"class","svelte-gqef8l"),m(r,"class","svelte-gqef8l"),m(t,"href",u=he+n[2]),m(t,"class","svelte-gqef8l"),m(e,"class","svelte-gqef8l")},m(v,w){k(v,e,w),h(e,t),q.m(t,null),h(t,s),h(t,i),h(i,l),h(l,o),h(i,a),h(i,r),h(r,d),h(r,y)},p(v,w){q.p(v,w)},d(v){v&&_(e),q.d()}}}function ge(n){let e;return{c(){e=g("span"),this.h()},l(t){e=$(t,"SPAN",{class:!0}),b(e).forEach(_),this.h()},h(){m(e,"class","svelte-gqef8l")},m(t,s){k(t,e,s)},p:M,d(t){t&&_(e)}}}function $e(n){let e,t;return{c(){e=g("img"),this.h()},l(s){e=$(s,"IMG",{alt:!0,src:!0,class:!0}),this.h()},h(){m(e,"alt",`Icon for ${n[0]}`),Z(e.src,t=n[3])||m(e,"src",t),m(e,"class","svelte-gqef8l")},m(s,i){k(s,e,i)},p:M,d(s){s&&_(e)}}}function be(n){let e,t=n[2]&&ve(n);return{c(){t&&t.c(),e=L()},l(s){t&&t.l(s),e=L()},m(s,i){t&&t.m(s,i),k(s,e,i)},p(s,[i]){s[2]&&t.p(s,i)},i:M,o:M,d(s){t&&t.d(s),s&&_(e)}}}function ke(n,e,t){let{data:s}=e;const{display_name_prefixed:i,subscribers:l,url:o,icon_img:a="",community_icon:r=""}=s,[c]=(a||r).split("?");return n.$$set=d=>{"data"in d&&t(4,s=d.data)},[i,l,o,c,s]}class ye extends A{constructor(e){super();C(this,e,ke,be,N,{data:4})}}function W(n,e,t){const s=n.slice();return s[10]=e[t].data,s}function X(n){let e,t=[],s=new Map,i,l=n[1];const o=a=>a[10].id;for(let a=0;a<l.length;a+=1){let r=W(n,l,a),c=o(r);s.set(c,t[a]=Y(c,r))}return{c(){e=g("ul");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=$(a,"UL",{class:!0});var r=b(e);for(let c=0;c<t.length;c+=1)t[c].l(r);r.forEach(_),this.h()},h(){m(e,"class","svelte-1iitirn")},m(a,r){k(a,e,r);for(let c=0;c<t.length;c+=1)t[c].m(e,null);i=!0},p(a,r){r&2&&(l=a[1],O(),t=x(t,r,o,1,a,l,s,e,ee,Y,null,W),z())},i(a){if(!i){for(let r=0;r<l.length;r+=1)E(t[r]);i=!0}},o(a){for(let r=0;r<t.length;r+=1)I(t[r]);i=!1},d(a){a&&_(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function Y(n,e){let t,s,i;return s=new ye({props:{data:e[10]}}),{key:n,first:null,c(){t=L(),V(s.$$.fragment),this.h()},l(l){t=L(),B(s.$$.fragment,l),this.h()},h(){this.first=t},m(l,o){k(l,t,o),F(s,l,o),i=!0},p(l,o){e=l;const a={};o&2&&(a.data=e[10]),s.$set(a)},i(l){i||(E(s.$$.fragment,l),i=!0)},o(l){I(s.$$.fragment,l),i=!1},d(l){l&&_(t),Q(s,l)}}}function qe(n){let e,t,s,i,l,o,a,r=Boolean(n[1].length),c,d,y,u=r&&X(n);return{c(){e=g("header"),t=g("h2"),s=D(n[2]),i=S(),l=g("form"),o=g("input"),a=S(),u&&u.c(),this.h()},l(f){e=$(f,"HEADER",{class:!0});var p=b(e);t=$(p,"H2",{});var q=b(t);s=H(q,n[2]),q.forEach(_),i=j(p),l=$(p,"FORM",{});var v=b(l);o=$(v,"INPUT",{placeholder:!0,class:!0}),a=j(v),u&&u.l(v),v.forEach(_),p.forEach(_),this.h()},h(){m(o,"placeholder","Search subreddit..."),m(o,"class","svelte-1iitirn"),m(e,"class","svelte-1iitirn")},m(f,p){k(f,e,p),h(e,t),h(t,s),h(e,i),h(e,l),h(l,o),J(o,n[0]),h(l,a),u&&u.m(l,null),c=!0,d||(y=[R(o,"input",n[4]),R(o,"input",n[5]),R(l,"submit",n[3])],d=!0)},p(f,[p]){p&1&&o.value!==f[0]&&J(o,f[0]),p&2&&(r=Boolean(f[1].length)),r?u?(u.p(f,p),p&2&&E(u,1)):(u=X(f),u.c(),E(u,1),u.m(l,null)):u&&(O(),I(u,1,1,()=>{u=null}),z())},i(f){c||(E(u),c=!0)},o(f){I(u),c=!1},d(f){f&&_(e),u&&u.d(),d=!1,te(y)}}}function Ee(n,e,t){let s;K(n,fe,f=>t(6,s=f));const{subreddit:i="popular"}=s.params;let o=s.url.pathname==="/search"?"search":`r/${i}`,a="",r=[];const c=()=>{const f=new URL("https://www.reddit.com/api/subreddit_autocomplete_v2.json");return f.searchParams.append("query",a),fetch(f.toString()).then(p=>p.json()).then(p=>{t(1,r=p.data.children)})},d=f=>{f.preventDefault(),de(`/search?q=${a}`)},y=se(()=>{c()},500);function u(){a=this.value,t(0,a)}return[a,r,o,d,y,u]}class we extends A{constructor(e){super();C(this,e,Ee,qe,N,{})}}function Ie(n){let e,t,s,i,l;t=new we({});const o=n[3].default,a=ne(o,n,n[4],null);return{c(){e=g("div"),V(t.$$.fragment),s=S(),i=g("main"),a&&a.c(),this.h()},l(r){e=$(r,"DIV",{class:!0});var c=b(e);B(t.$$.fragment,c),s=j(c),i=$(c,"MAIN",{class:!0});var d=b(i);a&&a.l(d),d.forEach(_),c.forEach(_),this.h()},h(){m(i,"class","svelte-i4ipmx"),m(e,"class","svelte-i4ipmx")},m(r,c){k(r,e,c),F(t,e,null),h(e,s),h(e,i),a&&a.m(i,null),l=!0},p(r,c){a&&a.p&&(!l||c&16)&&ie(a,o,r,r[4],l?ce(o,r[4],c,null):oe(r[4]),null)},i(r){l||(E(t.$$.fragment,r),E(a,r),l=!0)},o(r){I(t.$$.fragment,r),I(a,r),l=!1},d(r){r&&_(e),Q(t),a&&a.d(r)}}}function Se(n){let e,t,s,i;return document.title=e=n[0],s=new le({props:{client:n[1],$$slots:{default:[Ie]},$$scope:{ctx:n}}}),{c(){t=S(),V(s.$$.fragment)},l(l){re('[data-svelte="svelte-1az6e94"]',document.head).forEach(_),t=j(l),B(s.$$.fragment,l)},m(l,o){k(l,t,o),F(s,l,o),i=!0},p(l,[o]){(!i||o&1)&&e!==(e=l[0])&&(document.title=e);const a={};o&16&&(a.$$scope={dirty:o,ctx:l}),s.$set(a)},i(l){i||(E(s.$$.fragment,l),i=!0)},o(l){I(s.$$.fragment,l),i=!1},d(l){l&&_(t),Q(s,l)}}}function je(n,e,t){let s;K(n,ue,r=>t(2,s=r));let{$$slots:i={},$$scope:l}=e;const o=new ae;let a;return n.$$set=r=>{"$$scope"in r&&t(4,l=r.$$scope)},n.$$.update=()=>{n.$$.dirty&4&&t(0,a=`Vollie - ${s||"User ixperians"}`)},[a,o,s,i,l]}class Te extends A{constructor(e){super();C(this,e,je,Se,N,{})}}export{Te as default};
