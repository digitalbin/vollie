import{S as A,i as C,s as N,e as g,k as S,t as D,c as $,a as b,m as j,h as H,d as _,b as m,g as k,F as h,l as L,G as M,H as Z,n as O,I as x,J as ee,p as z,q as E,o as I,K as J,L as R,M as te,N as K,w as V,x as B,y as F,B as Q,O as se,Q as le,P as ae,R as re,T as ne,U as ie,V as oe,W as ce}from"../chunks/vendor-aa264adb.js";import{p as ue}from"../chunks/index-90638a40.js";import{p as fe}from"../chunks/stores-f088776d.js";import{r as _e}from"../chunks/singletons-a6a7384f.js";import{b as he}from"../chunks/paths-4b3c6e7e.js";import{k as pe}from"../chunks/index-e02fe488.js";const de=me;async function me(n,e){return _e.goto(n,e,[])}function ve(n){let e,t,s,i,l,o,r,a,c=pe(n[1])+"",d,y,u;function f(v,w){return v[3]?$e:ge}let q=f(n)(n);return{c(){e=g("li"),t=g("a"),q.c(),s=S(),i=g("div"),l=g("h3"),o=D(n[0]),r=S(),a=g("p"),d=D(c),y=D(" members"),this.h()},l(v){e=$(v,"LI",{class:!0});var w=b(e);t=$(w,"A",{href:!0,class:!0});var P=b(t);q.l(P),s=j(P),i=$(P,"DIV",{});var U=b(i);l=$(U,"H3",{class:!0});var G=b(l);o=H(G,n[0]),G.forEach(_),r=j(U),a=$(U,"P",{class:!0});var T=b(a);d=H(T,c),y=H(T," members"),T.forEach(_),U.forEach(_),P.forEach(_),w.forEach(_),this.h()},h(){m(l,"class","svelte-gqef8l"),m(a,"class","svelte-gqef8l"),m(t,"href",u=he+n[2]),m(t,"class","svelte-gqef8l"),m(e,"class","svelte-gqef8l")},m(v,w){k(v,e,w),h(e,t),q.m(t,null),h(t,s),h(t,i),h(i,l),h(l,o),h(i,r),h(i,a),h(a,d),h(a,y)},p(v,w){q.p(v,w)},d(v){v&&_(e),q.d()}}}function ge(n){let e;return{c(){e=g("span"),this.h()},l(t){e=$(t,"SPAN",{class:!0}),b(e).forEach(_),this.h()},h(){m(e,"class","svelte-gqef8l")},m(t,s){k(t,e,s)},p:M,d(t){t&&_(e)}}}function $e(n){let e,t;return{c(){e=g("img"),this.h()},l(s){e=$(s,"IMG",{alt:!0,src:!0,class:!0}),this.h()},h(){m(e,"alt",`Icon for ${n[0]}`),Z(e.src,t=n[3])||m(e,"src",t),m(e,"class","svelte-gqef8l")},m(s,i){k(s,e,i)},p:M,d(s){s&&_(e)}}}function be(n){let e,t=n[2]&&ve(n);return{c(){t&&t.c(),e=L()},l(s){t&&t.l(s),e=L()},m(s,i){t&&t.m(s,i),k(s,e,i)},p(s,[i]){s[2]&&t.p(s,i)},i:M,o:M,d(s){t&&t.d(s),s&&_(e)}}}function ke(n,e,t){let{data:s}=e;const{display_name_prefixed:i,subscribers:l,url:o,icon_img:r="",community_icon:a=""}=s,[c]=(r||a).split("?");return n.$$set=d=>{"data"in d&&t(4,s=d.data)},[i,l,o,c,s]}class ye extends A{constructor(e){super();C(this,e,ke,be,N,{data:4})}}function W(n,e,t){const s=n.slice();return s[10]=e[t].data,s}function X(n){let e,t=[],s=new Map,i,l=n[1];const o=r=>r[10].id;for(let r=0;r<l.length;r+=1){let a=W(n,l,r),c=o(a);s.set(c,t[r]=Y(c,a))}return{c(){e=g("ul");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=$(r,"UL",{class:!0});var a=b(e);for(let c=0;c<t.length;c+=1)t[c].l(a);a.forEach(_),this.h()},h(){m(e,"class","svelte-1iitirn")},m(r,a){k(r,e,a);for(let c=0;c<t.length;c+=1)t[c].m(e,null);i=!0},p(r,a){a&2&&(l=r[1],O(),t=x(t,a,o,1,r,l,s,e,ee,Y,null,W),z())},i(r){if(!i){for(let a=0;a<l.length;a+=1)E(t[a]);i=!0}},o(r){for(let a=0;a<t.length;a+=1)I(t[a]);i=!1},d(r){r&&_(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function Y(n,e){let t,s,i;return s=new ye({props:{data:e[10]}}),{key:n,first:null,c(){t=L(),V(s.$$.fragment),this.h()},l(l){t=L(),B(s.$$.fragment,l),this.h()},h(){this.first=t},m(l,o){k(l,t,o),F(s,l,o),i=!0},p(l,o){e=l;const r={};o&2&&(r.data=e[10]),s.$set(r)},i(l){i||(E(s.$$.fragment,l),i=!0)},o(l){I(s.$$.fragment,l),i=!1},d(l){l&&_(t),Q(s,l)}}}function qe(n){let e,t,s,i,l,o,r,a=Boolean(n[1].length),c,d,y,u=a&&X(n);return{c(){e=g("header"),t=g("h2"),s=D(n[2]),i=S(),l=g("form"),o=g("input"),r=S(),u&&u.c(),this.h()},l(f){e=$(f,"HEADER",{class:!0});var p=b(e);t=$(p,"H2",{});var q=b(t);s=H(q,n[2]),q.forEach(_),i=j(p),l=$(p,"FORM",{});var v=b(l);o=$(v,"INPUT",{placeholder:!0,class:!0}),r=j(v),u&&u.l(v),v.forEach(_),p.forEach(_),this.h()},h(){m(o,"placeholder","Search subreddit..."),m(o,"class","svelte-1iitirn"),m(e,"class","svelte-1iitirn")},m(f,p){k(f,e,p),h(e,t),h(t,s),h(e,i),h(e,l),h(l,o),J(o,n[0]),h(l,r),u&&u.m(l,null),c=!0,d||(y=[R(o,"input",n[4]),R(o,"input",n[5]),R(l,"submit",n[3])],d=!0)},p(f,[p]){p&1&&o.value!==f[0]&&J(o,f[0]),p&2&&(a=Boolean(f[1].length)),a?u?(u.p(f,p),p&2&&E(u,1)):(u=X(f),u.c(),E(u,1),u.m(l,null)):u&&(O(),I(u,1,1,()=>{u=null}),z())},i(f){c||(E(u),c=!0)},o(f){I(u),c=!1},d(f){f&&_(e),u&&u.d(),d=!1,te(y)}}}function Ee(n,e,t){let s;K(n,fe,f=>t(6,s=f));const{subreddit:i="popular"}=s.params;let o=s.url.pathname==="/search"?"search":`r/${i}`,r="",a=[];const c=()=>{const f=new URL("https://www.reddit.com/api/subreddit_autocomplete_v2.json");return f.searchParams.append("query",r),fetch(f.toString()).then(p=>p.json()).then(p=>{t(1,a=p.data.children)})},d=f=>{f.preventDefault(),de(`/search?q=${r}`)},y=se(()=>{c()},500);function u(){r=this.value,t(0,r)}return[r,a,o,d,y,u]}class we extends A{constructor(e){super();C(this,e,Ee,qe,N,{})}}function Ie(n){let e,t,s,i,l;t=new we({});const o=n[3].default,r=ne(o,n,n[4],null);return{c(){e=g("div"),V(t.$$.fragment),s=S(),i=g("main"),r&&r.c(),this.h()},l(a){e=$(a,"DIV",{class:!0});var c=b(e);B(t.$$.fragment,c),s=j(c),i=$(c,"MAIN",{class:!0});var d=b(i);r&&r.l(d),d.forEach(_),c.forEach(_),this.h()},h(){m(i,"class","svelte-i4ipmx"),m(e,"class","svelte-i4ipmx")},m(a,c){k(a,e,c),F(t,e,null),h(e,s),h(e,i),r&&r.m(i,null),l=!0},p(a,c){r&&r.p&&(!l||c&16)&&ie(r,o,a,a[4],l?ce(o,a[4],c,null):oe(a[4]),null)},i(a){l||(E(t.$$.fragment,a),E(r,a),l=!0)},o(a){I(t.$$.fragment,a),I(r,a),l=!1},d(a){a&&_(e),Q(t),r&&r.d(a)}}}function Se(n){let e,t,s,i;return document.title=e=n[0],s=new le({props:{client:n[1],$$slots:{default:[Ie]},$$scope:{ctx:n}}}),{c(){t=S(),V(s.$$.fragment)},l(l){ae('[data-svelte="svelte-1az6e94"]',document.head).forEach(_),t=j(l),B(s.$$.fragment,l)},m(l,o){k(l,t,o),F(s,l,o),i=!0},p(l,[o]){(!i||o&1)&&e!==(e=l[0])&&(document.title=e);const r={};o&16&&(r.$$scope={dirty:o,ctx:l}),s.$set(r)},i(l){i||(E(s.$$.fragment,l),i=!0)},o(l){I(s.$$.fragment,l),i=!1},d(l){l&&_(t),Q(s,l)}}}function je(n,e,t){let s;K(n,ue,a=>t(2,s=a));let{$$slots:i={},$$scope:l}=e;const o=new re;let r;return n.$$set=a=>{"$$scope"in a&&t(4,l=a.$$scope)},n.$$.update=()=>{n.$$.dirty&4&&t(0,r=`Vollie - ${s||"User ixperians"}`)},[r,o,s,i,l]}class Te extends A{constructor(e){super();C(this,e,je,Se,N,{})}}export{Te as default};
