import{S as W,i as X,s as Y,e as $,k as P,w as C,t as U,c as b,a as E,d,m as S,x as F,h as V,b as B,a1 as D,g as j,F as p,y as M,L as fe,G as Z,q as g,o as y,B as R,l as x,a0 as ue,n as z,p as K,a2 as ee,ae as he,I as _e,N as de,J as me}from"../../../chunks/vendor-cd4e58e1.js";import{p as pe}from"../../../chunks/stores-687d0d6d.js";import{A as ge,f as ve,P as ke}from"../../../chunks/index-9ae2ffdc.js";import{t as $e,k as be}from"../../../chunks/index-e02fe488.js";import"../../../chunks/paths-4b3c6e7e.js";const{Boolean:Ee}=he;function te(r,t,a){const e=r.slice();return e[14]=t[a],e[16]=a,e}function ye(r){let t,a,e,l,u,n,s,c,h,w,o,i=$e(r[6])+"",f,I,G=be(r[5])+"",O,q,L,A,J,Q;u=new ge({props:{type:"user",name:r[4]}});let m=!r[1]&&le(r),k=r[8]&&Le(r);return{c(){t=$("li"),a=$("div"),e=$("button"),l=P(),C(u.$$.fragment),n=P(),s=$("div"),m&&m.c(),c=P(),h=$("div"),w=P(),o=$("p"),f=U(i),I=U(" \u2022 "),O=U(G),q=U(" upvotes"),L=P(),k&&k.c(),this.h()},l(_){t=b(_,"LI",{class:!0});var v=E(t);a=b(v,"DIV",{class:!0});var H=E(a);e=b(H,"BUTTON",{class:!0}),E(e).forEach(d),l=S(H),F(u.$$.fragment,H),n=S(H),s=b(H,"DIV",{class:!0});var N=E(s);m&&m.l(N),c=S(N),h=b(N,"DIV",{class:!0});var ce=E(h);ce.forEach(d),w=S(N),o=b(N,"P",{class:!0});var T=E(o);f=V(T,i),I=V(T," \u2022 "),O=V(T,G),q=V(T," upvotes"),T.forEach(d),N.forEach(d),H.forEach(d),L=S(v),k&&k.l(v),v.forEach(d),this.h()},h(){B(e,"class","svelte-v83o"),B(h,"class","comment svelte-v83o"),D(h,"collapsed",!r[1]),B(o,"class","svelte-v83o"),B(s,"class","text-container svelte-v83o"),B(a,"class","container svelte-v83o"),D(a,"thread",r[1]&&(!r[0]||r[8])),B(t,"class","svelte-v83o"),D(t,"thread",!r[0])},m(_,v){j(_,t,v),p(t,a),p(a,e),p(a,l),M(u,a,null),p(a,n),p(a,s),m&&m.m(s,null),p(s,c),p(s,h),h.innerHTML=r[9],p(s,w),p(s,o),p(o,f),p(o,I),p(o,O),p(o,q),p(t,L),k&&k.m(t,null),A=!0,J||(Q=fe(e,"click",r[2]),J=!0)},p(_,v){_[1]?m&&(m.d(1),m=null):m?m.p(_,v):(m=le(_),m.c(),m.m(s,c)),v&2&&D(h,"collapsed",!_[1]),v&259&&D(a,"thread",_[1]&&(!_[0]||_[8])),_[8]&&k.p(_,v),v&1&&D(t,"thread",!_[0])},i(_){A||(g(u.$$.fragment,_),g(k),A=!0)},o(_){y(u.$$.fragment,_),y(k),A=!1},d(_){_&&d(t),R(u),m&&m.d(),k&&k.d(),J=!1,Q()}}}function le(r){let t,a;return{c(){t=$("h3"),a=U(r[4])},l(e){t=b(e,"H3",{});var l=E(t);a=V(l,r[4]),l.forEach(d)},m(e,l){j(e,t,l),p(t,a)},p:Z,d(e){e&&d(t)}}}function Le(r){let t,a,e=r[7],l=[];for(let n=0;n<e.length;n+=1)l[n]=ae(te(r,e,n));const u=n=>y(l[n],1,1,()=>{l[n]=null});return{c(){t=$("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){t=b(n,"UL",{class:!0});var s=E(t);for(let c=0;c<l.length;c+=1)l[c].l(s);s.forEach(d),this.h()},h(){B(t,"class","svelte-v83o"),D(t,"collapsed",!r[1])},m(n,s){j(n,t,s);for(let c=0;c<l.length;c+=1)l[c].m(t,null);a=!0},p(n,s){if(s&128){e=n[7];let c;for(c=0;c<e.length;c+=1){const h=te(n,e,c);l[c]?(l[c].p(h,s),g(l[c],1)):(l[c]=ae(h),l[c].c(),g(l[c],1),l[c].m(t,null))}for(z(),c=e.length;c<l.length;c+=1)u(c);K()}s&2&&D(t,"collapsed",!n[1])},i(n){if(!a){for(let s=0;s<e.length;s+=1)g(l[s]);a=!0}},o(n){l=l.filter(Ee);for(let s=0;s<l.length;s+=1)y(l[s]);a=!1},d(n){n&&d(t),ee(l,n)}}}function ae(r){let t,a;return t=new se({props:{data:r[14].data,isLast:r[16]===r[7].length-1}}),{c(){C(t.$$.fragment)},l(e){F(t.$$.fragment,e)},m(e,l){M(t,e,l),a=!0},p:Z,i(e){a||(g(t.$$.fragment,e),a=!0)},o(e){y(t.$$.fragment,e),a=!1},d(e){R(t,e)}}}function Be(r){let t,a,e=r[3]&&ye(r);return{c(){e&&e.c(),t=x()},l(l){e&&e.l(l),t=x()},m(l,u){e&&e.m(l,u),j(l,t,u),a=!0},p(l,[u]){l[3]&&e.p(l,u)},i(l){a||(g(e),a=!0)},o(l){y(e),a=!1},d(l){e&&e.d(l),l&&d(t)}}}function we(r,t,a){var q;let{data:e}=t,{isLast:l}=t,u=!0;const n=()=>{a(1,u=!u)},{body_html:s="",author:c,replies:h,ups:w,created:o}=e,i=(q=h==null?void 0:h.data)==null?void 0:q.children.filter(({data:{body_html:L}})=>Boolean(L)),f=i&&i.length>0,I=`<h3>${c} </h3>`,O=ue.decode(s).replace(">",">"+I);return r.$$set=L=>{"data"in L&&a(10,e=L.data),"isLast"in L&&a(0,l=L.isLast)},[l,u,n,s,c,w,o,i,f,O,e]}class se extends W{constructor(t){super();X(this,t,we,Be,Y,{data:10,isLast:0})}}function ne(r,t,a){const e=r.slice();return e[5]=t[a],e}function oe(r,t,a){const e=r.slice();return e[8]=t[a],e}function re(r){let t,a,e;return a=new ke({props:{data:r[8].data}}),{c(){t=$("section"),C(a.$$.fragment),this.h()},l(l){t=b(l,"SECTION",{class:!0});var u=E(t);F(a.$$.fragment,u),u.forEach(d),this.h()},h(){B(t,"class","svelte-qgov6")},m(l,u){j(l,t,u),M(a,t,null),e=!0},p(l,u){const n={};u&1&&(n.data=l[8].data),a.$set(n)},i(l){e||(g(a.$$.fragment,l),e=!0)},o(l){y(a.$$.fragment,l),e=!1},d(l){l&&d(t),R(a)}}}function ie(r,t){let a,e,l,u;return e=new se({props:{data:t[5].data,isLast:!1}}),{key:r,first:null,c(){a=$("ul"),C(e.$$.fragment),l=P(),this.h()},l(n){a=b(n,"UL",{});var s=E(a);F(e.$$.fragment,s),l=S(s),s.forEach(d),this.h()},h(){this.first=a},m(n,s){j(n,a,s),M(e,a,null),p(a,l),u=!0},p(n,s){t=n;const c={};s&2&&(c.data=t[5].data),e.$set(c)},i(n){u||(g(e.$$.fragment,n),u=!0)},o(n){y(e.$$.fragment,n),u=!1},d(n){n&&d(a),R(e)}}}function Ie(r){let t,a,e=[],l=new Map,u,n=r[0],s=[];for(let o=0;o<n.length;o+=1)s[o]=re(oe(r,n,o));const c=o=>y(s[o],1,1,()=>{s[o]=null});let h=r[1];const w=o=>o[5].data.id;for(let o=0;o<h.length;o+=1){let i=ne(r,h,o),f=w(i);l.set(f,e[o]=ie(f,i))}return{c(){for(let o=0;o<s.length;o+=1)s[o].c();t=P(),a=$("div");for(let o=0;o<e.length;o+=1)e[o].c();this.h()},l(o){for(let f=0;f<s.length;f+=1)s[f].l(o);t=S(o),a=b(o,"DIV",{class:!0});var i=E(a);for(let f=0;f<e.length;f+=1)e[f].l(i);i.forEach(d),this.h()},h(){B(a,"class","svelte-qgov6")},m(o,i){for(let f=0;f<s.length;f+=1)s[f].m(o,i);j(o,t,i),j(o,a,i);for(let f=0;f<e.length;f+=1)e[f].m(a,null);u=!0},p(o,[i]){if(i&1){n=o[0];let f;for(f=0;f<n.length;f+=1){const I=oe(o,n,f);s[f]?(s[f].p(I,i),g(s[f],1)):(s[f]=re(I),s[f].c(),g(s[f],1),s[f].m(t.parentNode,t))}for(z(),f=n.length;f<s.length;f+=1)c(f);K()}i&2&&(h=o[1],z(),e=_e(e,i,w,1,o,h,l,a,me,ie,null,ne),K())},i(o){if(!u){for(let i=0;i<n.length;i+=1)g(s[i]);for(let i=0;i<h.length;i+=1)g(e[i]);u=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)y(s[i]);for(let i=0;i<e.length;i+=1)y(e[i]);u=!1},d(o){ee(s,o),o&&d(t),o&&d(a);for(let i=0;i<e.length;i+=1)e[i].d()}}}function De(r,t,a){let e;de(r,pe,c=>a(2,e=c));let l=[],u=[],n;const s=()=>ve(e.url.pathname).then(([{data:c},h])=>{a(0,l=[...l,...c.children]),a(1,u=[...u,...h.data.children])});return r.$$.update=()=>{r.$$.dirty&1&&(l.length===0||n===l.length-2)&&s()},[l,u]}class Ne extends W{constructor(t){super();X(this,t,De,Ie,Y,{})}}export{Ne as default};
