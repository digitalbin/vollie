import{S as X,i as Y,s as Z,e as w,c as E,a as L,d as m,I as me,b as y,g as I,G as v,a3 as pe,a4 as ge,M as le,H as V,N as ve,ab as ke,k as M,w as A,t as C,m as O,x as F,h as G,$ as S,y as R,q as b,o as j,B as J,l as T,_ as be,n as K,p as Q,a0 as $e,ac as ye,J as x,ad as je,O as we,K as ee}from"../chunks/vendor-d3fe3e06.js";import{b as Ee}from"../chunks/paths-4b3c6e7e.js";import{A as Ie,P as Pe,f as Le}from"../chunks/index-cc646e0b.js";import{t as Ne,k as De}from"../chunks/index-7cac6c3e.js";import"../chunks/preload-helper-a7b374f3.js";function Be(i){let t,l,e,a,n;return{c(){t=w("div"),l=w("img"),this.h()},l(r){t=E(r,"DIV",{class:!0});var o=L(t);l=E(o,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),o.forEach(m),this.h()},h(){me(l.src,e=Ee+"/vollie.svg")||y(l,"src",e),y(l,"alt","spinner"),y(l,"width",30),y(l,"height",30),y(l,"class","svelte-4taced"),y(t,"class","svelte-4taced")},m(r,o){I(r,t,o),v(t,l),a||(n=[pe(ge.call(null,t)),le(t,"change",i[1])],a=!0)},p:V,i:V,o:V,d(r){r&&m(t),a=!1,ve(n)}}}function Me(i){const t=ke();return[t,({detail:e})=>t("inview",e)]}class Oe extends X{constructor(t){super();Y(this,t,Me,Be,Z,{})}}const{Boolean:Se}=ye;function ae(i,t,l){const e=i.slice();return e[14]=t[l],e[16]=l,e}function Te(i){let t,l,e,a,n,r,o,u,f,h,p,$=Ne(i[6])+"",N,d,c=De(i[5])+"",s,_,B,z,W,te;n=new Ie({props:{type:"user",name:i[4]}});let k=!i[1]&&se(i),D=i[8]&&qe(i);return{c(){t=w("li"),l=w("div"),e=w("button"),a=M(),A(n.$$.fragment),r=M(),o=w("div"),k&&k.c(),u=M(),f=w("div"),h=M(),p=w("p"),N=C($),d=C(" \u2022 "),s=C(c),_=C(" upvotes"),B=M(),D&&D.c(),this.h()},l(g){t=E(g,"LI",{class:!0});var P=L(t);l=E(P,"DIV",{class:!0});var q=L(l);e=E(q,"BUTTON",{class:!0}),L(e).forEach(m),a=O(q),F(n.$$.fragment,q),r=O(q),o=E(q,"DIV",{class:!0});var H=L(o);k&&k.l(H),u=O(H),f=E(H,"DIV",{class:!0});var de=L(f);de.forEach(m),h=O(H),p=E(H,"P",{class:!0});var U=L(p);N=G(U,$),d=G(U," \u2022 "),s=G(U,c),_=G(U," upvotes"),U.forEach(m),H.forEach(m),q.forEach(m),B=O(P),D&&D.l(P),P.forEach(m),this.h()},h(){y(e,"class","svelte-13pjjkd"),y(f,"class","comment svelte-13pjjkd"),S(f,"collapsed",!i[1]),y(p,"class","svelte-13pjjkd"),y(o,"class","text-container svelte-13pjjkd"),y(l,"class","container svelte-13pjjkd"),S(l,"thread",i[1]&&(!i[0]||i[8])),y(t,"class","svelte-13pjjkd"),S(t,"thread",!i[0])},m(g,P){I(g,t,P),v(t,l),v(l,e),v(l,a),R(n,l,null),v(l,r),v(l,o),k&&k.m(o,null),v(o,u),v(o,f),f.innerHTML=i[9],v(o,h),v(o,p),v(p,N),v(p,d),v(p,s),v(p,_),v(t,B),D&&D.m(t,null),z=!0,W||(te=le(e,"click",i[2]),W=!0)},p(g,P){g[1]?k&&(k.d(1),k=null):k?k.p(g,P):(k=se(g),k.c(),k.m(o,u)),P&2&&S(f,"collapsed",!g[1]),P&259&&S(l,"thread",g[1]&&(!g[0]||g[8])),g[8]&&D.p(g,P),P&1&&S(t,"thread",!g[0])},i(g){z||(b(n.$$.fragment,g),b(D),z=!0)},o(g){j(n.$$.fragment,g),j(D),z=!1},d(g){g&&m(t),J(n),k&&k.d(),D&&D.d(),W=!1,te()}}}function se(i){let t,l;return{c(){t=w("h3"),l=C(i[4])},l(e){t=E(e,"H3",{});var a=L(t);l=G(a,i[4]),a.forEach(m)},m(e,a){I(e,t,a),v(t,l)},p:V,d(e){e&&m(t)}}}function qe(i){let t,l,e=i[7],a=[];for(let r=0;r<e.length;r+=1)a[r]=ne(ae(i,e,r));const n=r=>j(a[r],1,1,()=>{a[r]=null});return{c(){t=w("ul");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){t=E(r,"UL",{class:!0});var o=L(t);for(let u=0;u<a.length;u+=1)a[u].l(o);o.forEach(m),this.h()},h(){y(t,"class","svelte-13pjjkd"),S(t,"collapsed",!i[1])},m(r,o){I(r,t,o);for(let u=0;u<a.length;u+=1)a[u].m(t,null);l=!0},p(r,o){if(o&128){e=r[7];let u;for(u=0;u<e.length;u+=1){const f=ae(r,e,u);a[u]?(a[u].p(f,o),b(a[u],1)):(a[u]=ne(f),a[u].c(),b(a[u],1),a[u].m(t,null))}for(K(),u=e.length;u<a.length;u+=1)n(u);Q()}o&2&&S(t,"collapsed",!r[1])},i(r){if(!l){for(let o=0;o<e.length;o+=1)b(a[o]);l=!0}},o(r){a=a.filter(Se);for(let o=0;o<a.length;o+=1)j(a[o]);l=!1},d(r){r&&m(t),$e(a,r)}}}function ne(i){let t,l;return t=new re({props:{data:i[14].data,isLast:i[16]===i[7].length-1}}),{c(){A(t.$$.fragment)},l(e){F(t.$$.fragment,e)},m(e,a){R(t,e,a),l=!0},p:V,i(e){l||(b(t.$$.fragment,e),l=!0)},o(e){j(t.$$.fragment,e),l=!1},d(e){J(t,e)}}}function He(i){let t,l,e=i[3]&&Te(i);return{c(){e&&e.c(),t=T()},l(a){e&&e.l(a),t=T()},m(a,n){e&&e.m(a,n),I(a,t,n),l=!0},p(a,[n]){a[3]&&e.p(a,n)},i(a){l||(b(e),l=!0)},o(a){j(e),l=!1},d(a){e&&e.d(a),a&&m(t)}}}function Ve(i,t,l){var _;let{data:e}=t,{isLast:a}=t,n=!0;const r=()=>{l(1,n=!n)},{body_html:o="",author:u,replies:f,ups:h,created:p}=e,$=(_=f==null?void 0:f.data)==null?void 0:_.children.filter(({data:{body_html:B}})=>Boolean(B)),N=$&&$.length>0,d=`<h3>${u} </h3>`,s=be.decode(o).replace(">",">"+d);return i.$$set=B=>{"data"in B&&l(10,e=B.data),"isLast"in B&&l(0,a=B.isLast)},[a,n,r,o,u,h,p,$,N,s,e]}class re extends X{constructor(t){super();Y(this,t,Ve,He,Z,{data:10,isLast:0})}}function ie(i,t,l){const e=i.slice();return e[9]=t[l].data,e}function oe(i,t,l){const e=i.slice();return e[4]=t[l].after,e[12]=t[l].children,e}function ce(i,t,l){const e=i.slice();return e[9]=t[l].data,e}function fe(i,t){let l,e,a;return e=new Pe({props:{data:t[9]}}),{key:i,first:null,c(){l=w("section"),A(e.$$.fragment),this.h()},l(n){l=E(n,"SECTION",{class:!0});var r=L(l);F(e.$$.fragment,r),r.forEach(m),this.h()},h(){y(l,"class","svelte-qgov6"),this.first=l},m(n,r){I(n,l,r),R(e,l,null),a=!0},p(n,r){t=n;const o={};r&1&&(o.data=t[9]),e.$set(o)},i(n){a||(b(e.$$.fragment,n),a=!0)},o(n){j(e.$$.fragment,n),a=!1},d(n){n&&m(l),J(e)}}}function ue(i,t){let l,e=[],a=new Map,n,r,o=t[12];const u=f=>f[9].id;for(let f=0;f<o.length;f+=1){let h=ce(t,o,f),p=u(h);a.set(p,e[f]=fe(p,h))}return{key:i,first:null,c(){l=T();for(let f=0;f<e.length;f+=1)e[f].c();n=T(),this.h()},l(f){l=T();for(let h=0;h<e.length;h+=1)e[h].l(f);n=T(),this.h()},h(){this.first=l},m(f,h){I(f,l,h);for(let p=0;p<e.length;p+=1)e[p].m(f,h);I(f,n,h),r=!0},p(f,h){t=f,h&1&&(o=t[12],K(),e=x(e,h,u,1,t,o,a,n.parentNode,ee,fe,n,ce),Q())},i(f){if(!r){for(let h=0;h<o.length;h+=1)b(e[h]);r=!0}},o(f){for(let h=0;h<e.length;h+=1)j(e[h]);r=!1},d(f){f&&m(l);for(let h=0;h<e.length;h+=1)e[h].d(f);f&&m(n)}}}function he(i,t){let l,e,a,n;return e=new re({props:{data:t[9],isLast:!1}}),{key:i,first:null,c(){l=w("ul"),A(e.$$.fragment),a=M(),this.h()},l(r){l=E(r,"UL",{});var o=L(l);F(e.$$.fragment,o),a=O(o),o.forEach(m),this.h()},h(){this.first=l},m(r,o){I(r,l,o),R(e,l,null),v(l,a),n=!0},p(r,o){t=r},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){r&&m(l),J(e)}}}function _e(i){let t,l;return t=new Oe({}),t.$on("inview",i[3]),{c(){A(t.$$.fragment)},l(e){F(t.$$.fragment,e)},m(e,a){R(t,e,a),l=!0},p:V,i(e){l||(b(t.$$.fragment,e),l=!0)},o(e){j(t.$$.fragment,e),l=!1},d(e){J(t,e)}}}function Ue(i){let t=[],l=new Map,e,a,n=[],r=new Map,o,u,f,h=i[0].data.pages;const p=c=>c[4];for(let c=0;c<h.length;c+=1){let s=oe(i,h,c),_=p(s);l.set(_,t[c]=ue(_,s))}let $=i[1];const N=c=>c[9].id;for(let c=0;c<$.length;c+=1){let s=ie(i,$,c),_=N(s);r.set(_,n[c]=he(_,s))}let d=i[0].hasNextPage&&_e(i);return{c(){for(let c=0;c<t.length;c+=1)t[c].c();e=M(),a=w("div");for(let c=0;c<n.length;c+=1)n[c].c();o=M(),d&&d.c(),u=T(),this.h()},l(c){for(let _=0;_<t.length;_+=1)t[_].l(c);e=O(c),a=E(c,"DIV",{class:!0});var s=L(a);for(let _=0;_<n.length;_+=1)n[_].l(s);s.forEach(m),o=O(c),d&&d.l(c),u=T(),this.h()},h(){y(a,"class","svelte-qgov6")},m(c,s){for(let _=0;_<t.length;_+=1)t[_].m(c,s);I(c,e,s),I(c,a,s);for(let _=0;_<n.length;_+=1)n[_].m(a,null);I(c,o,s),d&&d.m(c,s),I(c,u,s),f=!0},p(c,[s]){s&1&&(h=c[0].data.pages,K(),t=x(t,s,p,1,c,h,l,e.parentNode,ee,ue,e,oe),Q()),s&2&&($=c[1],K(),n=x(n,s,N,1,c,$,r,a,ee,he,null,ie),Q()),c[0].hasNextPage?d?(d.p(c,s),s&1&&b(d,1)):(d=_e(c),d.c(),b(d,1),d.m(u.parentNode,u)):d&&(K(),j(d,1,1,()=>{d=null}),Q())},i(c){if(!f){for(let s=0;s<h.length;s+=1)b(t[s]);for(let s=0;s<$.length;s+=1)b(n[s]);b(d),f=!0}},o(c){for(let s=0;s<t.length;s+=1)j(t[s]);for(let s=0;s<n.length;s+=1)j(n[s]);j(d),f=!1},d(c){for(let s=0;s<t.length;s+=1)t[s].d(c);c&&m(e),c&&m(a);for(let s=0;s<n.length;s+=1)n[s].d();c&&m(o),d&&d.d(c),c&&m(u)}}}function Ke({stuff:i,params:t}){return{props:{path:t.path,stuff:i}}}function Ae(i,t,l){var $,N,d,c;let e,{stuff:a={}}=t,{path:n}=t;const r=($=a[0]||a)==null?void 0:$.data,o=(N=a==null?void 0:a.data)==null?void 0:N.after,u=((c=(d=a[1])==null?void 0:d.data)==null?void 0:c.children)||[],h=je(n,async({pageParam:s})=>{console.log("Fetching");const{data:_}=await Le(n,{after:s});return _},{getNextPageParam:s=>s==null?void 0:s.after,initialData:{pages:[r],pageParams:[o]},refetchOnMount:!1,cacheTime:1/0,staleTime:1/0});we(i,h,s=>l(0,e=s));const p=({detail:{inView:s}})=>{s&&e.fetchNextPage()};return i.$$set=s=>{"stuff"in s&&l(5,a=s.stuff),"path"in s&&l(6,n=s.path)},[e,u,h,p,o,a,n]}class Qe extends X{constructor(t){super();Y(this,t,Ae,Ue,Z,{stuff:5,path:6})}}export{Qe as default,Ke as load};
