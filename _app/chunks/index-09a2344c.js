var nt=Object.defineProperty,at=Object.defineProperties;var it=Object.getOwnPropertyDescriptors;var $e=Object.getOwnPropertySymbols;var Ue=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable;var Re=(l,e,s)=>e in l?nt(l,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[e]=s,be=(l,e)=>{for(var s in e||(e={}))Ue.call(e,s)&&Re(l,s,e[s]);if($e)for(var s of $e(e))qe.call(e,s)&&Re(l,s,e[s]);return l},Fe=(l,e)=>at(l,it(e));var Me=(l,e)=>{var s={};for(var t in l)Ue.call(l,t)&&e.indexOf(t)<0&&(s[t]=l[t]);if(l!=null&&$e)for(var t of $e(l))e.indexOf(t)<0&&qe.call(l,t)&&(s[t]=l[t]);return s};import{S as q,i as R,s as F,e as b,c as w,a as g,d as h,b as o,g as C,H as te,G as L,a0 as ot,N as ct,w as j,k as B,t as P,x as N,m as A,h as D,F as p,y as O,q as y,o as I,B as H,a1 as ut,j as de,a2 as Ge,L as G,a3 as Ie,a4 as we,a5 as Le,Z as Ve,_ as Se,n as ue,p as fe,M as _e,a6 as ft,a7 as ht,a8 as dt,l as ke,a9 as _t,f as se,$ as mt,aa as ze,ab as z,ac as W,v as pt,ad as gt,ae as vt,af as $t}from"./vendor-d5673dbd.js";import{b as Te}from"./paths-4b3c6e7e.js";import{t as bt,k as wt,a as ye}from"./index-e02fe488.js";const Be=l=>fetch(l).then(e=>e.json()).catch(e=>console.error("Error fetching: ",l,e)),We=l=>{const{icon_img:e,community_icon:s}=(l==null?void 0:l.data)||{},t=e||s||"",[r]=t.split("?");return r},kt=l=>Be(`https://www.reddit.com/r/${l}/about.json`).then(We),yt=l=>Be(`https://www.reddit.com/user/${l}/about.json`).then(We),Ds=(l="",e={})=>{const s=new URL(l,"https://www.reddit.com");return Object.entries(e).filter(t=>Boolean(t[1])).forEach(([t,r])=>{s.searchParams.append(t,r)}),s.pathname=s.pathname+".json",Be(s.toString())};function Xe(l){let e,s,t;return{c(){e=b("img"),this.h()},l(r){e=w(r,"IMG",{src:!0,width:!0,height:!0,alt:!0}),this.h()},h(){te(e.src,s=l[1].data)||o(e,"src",s),o(e,"width",20),o(e,"height",20),o(e,"alt",t=`Avatar for ${l[2]}/${l[0]}`)},m(r,n){C(r,e,n)},p(r,n){n&2&&!te(e.src,s=r[1].data)&&o(e,"src",s),n&1&&t!==(t=`Avatar for ${r[2]}/${r[0]}`)&&o(e,"alt",t)},d(r){r&&h(e)}}}function Et(l){let e,s=l[1].isSuccess&&Boolean(l[1].data),t=s&&Xe(l);return{c(){e=b("figure"),t&&t.c(),this.h()},l(r){e=w(r,"FIGURE",{class:!0});var n=g(e);t&&t.l(n),n.forEach(h),this.h()},h(){o(e,"class","svelte-1jtk5eu")},m(r,n){C(r,e,n),t&&t.m(e,null)},p(r,[n]){n&2&&(s=r[1].isSuccess&&Boolean(r[1].data)),s?t?t.p(r,n):(t=Xe(r),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:L,o:L,d(r){r&&h(e),t&&t.d()}}}function Ct(l,e,s){let t,{type:r}=e,{name:n}=e;const a=r==="user"?"u":"r",c={user:yt,subreddit:kt},i=ot([n,r],()=>c[r](n),{refetchOnMount:!1,cacheTime:1/0,staleTime:1/0,enabled:n!=="[deleted]"});return ct(l,i,f=>s(1,t=f)),l.$$set=f=>{"type"in f&&s(4,r=f.type),"name"in f&&s(0,n=f.name)},[n,t,a,i,r]}class Mt extends q{constructor(e){super();R(this,e,Ct,Et,F,{type:4,name:0})}}function It(l){let e,s,t,r,n,a,c,i,f,m,_,u,d,v,E,k;return t=new Mt({props:{type:"subreddit",name:l[0]}}),{c(){e=b("div"),s=b("a"),j(t.$$.fragment),r=B(),n=b("span"),a=P(l[3]),c=B(),i=b("span"),f=P("\xA0\u2022\xA0"),m=P(l[5]),_=B(),u=b("a"),d=b("h3"),v=P(l[2]),this.h()},l(M){e=w(M,"DIV",{class:!0});var V=g(e);s=w(V,"A",{href:!0,class:!0});var T=g(s);N(t.$$.fragment,T),r=A(T),n=w(T,"SPAN",{class:!0});var x=g(n);a=D(x,l[3]),x.forEach(h),c=A(T),i=w(T,"SPAN",{class:!0});var Q=g(i);f=D(Q,"\xA0\u2022\xA0"),m=D(Q,l[5]),Q.forEach(h),T.forEach(h),V.forEach(h),_=A(M),u=w(M,"A",{href:!0,class:!0});var U=g(u);d=w(U,"H3",{class:!0});var X=g(d);v=D(X,l[2]),X.forEach(h),U.forEach(h),this.h()},h(){o(n,"class","sub-title svelte-11d0cjd"),o(i,"class","created svelte-11d0cjd"),o(s,"href",Te+l[4]),o(s,"class","svelte-11d0cjd"),o(e,"class","svelte-11d0cjd"),o(d,"class","svelte-11d0cjd"),o(u,"href",E=Te+l[1]),o(u,"class","title svelte-11d0cjd")},m(M,V){C(M,e,V),p(e,s),O(t,s,null),p(s,r),p(s,n),p(n,a),p(s,c),p(s,i),p(i,f),p(i,m),C(M,_,V),C(M,u,V),p(u,d),p(d,v),k=!0},p(M,[V]){const T={};V&1&&(T.name=M[0]),t.$set(T),(!k||V&2&&E!==(E=Te+M[1]))&&o(u,"href",E)},i(M){k||(y(t.$$.fragment,M),k=!0)},o(M){I(t.$$.fragment,M),k=!1},d(M){M&&h(e),H(t),M&&h(_),M&&h(u)}}}function Lt(l,e,s){let{title:t}=e,{subreddit:r}=e,{permalink:n}=e,{created:a}=e;const c=ut.decode(t),i=`r/${r}`,f=`/${i}`,m=bt(a);return l.$$set=_=>{"title"in _&&s(6,t=_.title),"subreddit"in _&&s(0,r=_.subreddit),"permalink"in _&&s(1,n=_.permalink),"created"in _&&s(7,a=_.created)},[r,n,c,i,f,m,t,a]}class Vt extends q{constructor(e){super();R(this,e,Lt,It,F,{title:6,subreddit:0,permalink:1,created:7})}}function St(l){let e,s,t,r,n,a,c;return{c(){e=b("div"),s=b("span"),t=P(l[0]),r=P(" comments"),n=B(),a=P(l[1]),c=P(" upvotes"),this.h()},l(i){e=w(i,"DIV",{class:!0});var f=g(e);s=w(f,"SPAN",{class:!0});var m=g(s);t=D(m,l[0]),r=D(m," comments"),m.forEach(h),n=A(f),a=D(f,l[1]),c=D(f," upvotes"),f.forEach(h),this.h()},h(){o(s,"class","svelte-1vq0x5a"),o(e,"class","svelte-1vq0x5a")},m(i,f){C(i,e,f),p(e,s),p(s,t),p(s,r),p(e,n),p(e,a),p(e,c)},p(i,[f]){f&1&&de(t,i[0])},i:L,o:L,d(i){i&&h(e)}}}function Tt(l,e,s){let{ups:t}=e,{num_comments:r}=e;const n=wt(t);return l.$$set=a=>{"ups"in a&&s(2,t=a.ups),"num_comments"in a&&s(0,r=a.num_comments)},[r,n,t]}class Bt extends q{constructor(e){super();R(this,e,Tt,St,F,{ups:2,num_comments:0})}}function Qe(l){let e,s,t,r;return{c(){e=b("img"),this.h()},l(n){e=w(n,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),this.h()},h(){te(e.src,s=l[0].toString())||o(e,"src",s),o(e,"alt",l[2]),o(e,"width",t=160),o(e,"height",r=90),o(e,"class","svelte-1104bsu")},m(n,a){C(n,e,a)},p(n,a){a&1&&!te(e.src,s=n[0].toString())&&o(e,"src",s)},d(n){n&&h(e)}}}function Pt(l){let e,s,t,r,n=l[0]&&Qe(l);return{c(){e=b("a"),s=b("span"),t=P(l[1]),r=B(),n&&n.c(),this.h()},l(a){e=w(a,"A",{href:!0,target:!0,rel:!0});var c=g(e);s=w(c,"SPAN",{class:!0});var i=g(s);t=D(i,l[1]),i.forEach(h),r=A(c),n&&n.l(c),c.forEach(h),this.h()},h(){o(s,"class","svelte-1104bsu"),o(e,"href",l[1]),o(e,"target","_blank"),o(e,"rel","noreferrer")},m(a,c){C(a,e,c),p(e,s),p(s,t),p(e,r),n&&n.m(e,null)},p(a,[c]){a[0]?n?n.p(a,c):(n=Qe(a),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:L,o:L,d(a){a&&h(e),n&&n.d()}}}function At(l,e,s){let{data:t}=e;const{url_overridden_by_dest:r,thumbnail:n,title:a}=t;let c;try{c=new URL(n)}catch{}return l.$$set=i=>{"data"in i&&s(3,t=i.data)},[c,r,a,t]}class Dt extends q{constructor(e){super();R(this,e,At,Pt,F,{data:3})}}function Ye(l,e,s){const t=l.slice();return t[5]=e[s],t}function Je(l){let e,s=l[5]+"",t;return{c(){e=b("p"),t=P(s),this.h()},l(r){e=w(r,"P",{class:!0});var n=g(e);t=D(n,s),n.forEach(h),this.h()},h(){o(e,"class","svelte-uqcnk3")},m(r,n){C(r,e,n),p(e,t)},p:L,d(r){r&&h(e)}}}function Zt(l){let e,s,t,r,n,a,c=l[1],i=[];for(let f=0;f<c.length;f+=1)i[f]=Je(Ye(l,c,f));return{c(){e=b("div");for(let f=0;f<i.length;f+=1)i[f].c();s=B(),t=b("span"),r=P("Expand +"),this.h()},l(f){e=w(f,"DIV",{class:!0});var m=g(e);for(let u=0;u<i.length;u+=1)i[u].l(m);s=A(m),t=w(m,"SPAN",{class:!0});var _=g(t);r=D(_,"Expand +"),_.forEach(h),m.forEach(h),this.h()},h(){o(t,"class","svelte-uqcnk3"),o(e,"class","svelte-uqcnk3"),Ge(e,"open",l[0])},m(f,m){C(f,e,m);for(let _=0;_<i.length;_+=1)i[_].m(e,null);p(e,s),p(e,t),p(t,r),n||(a=G(e,"click",l[2]),n=!0)},p(f,[m]){if(m&2){c=f[1];let _;for(_=0;_<c.length;_+=1){const u=Ye(f,c,_);i[_]?i[_].p(u,m):(i[_]=Je(u),i[_].c(),i[_].m(e,s))}for(;_<i.length;_+=1)i[_].d(1);i.length=c.length}m&1&&Ge(e,"open",f[0])},i:L,o:L,d(f){f&&h(e),Ie(i,f),n=!1,a()}}}function jt(l,e,s){let{data:t}=e;const{selftext:r}=t,n=r.split(`
`);let a=!1;const c=()=>s(0,a=!a);return l.$$set=i=>{"data"in i&&s(3,t=i.data)},[a,n,c,t]}class Nt extends q{constructor(e){super();R(this,e,jt,Zt,F,{data:3})}}function Ot(l){let e,s,t,r;return{c(){e=b("div"),s=b("img"),this.h()},l(n){e=w(n,"DIV",{});var a=g(e);s=w(a,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),a.forEach(h),this.h()},h(){te(s.src,t=l[1])||o(s,"src",t),o(s,"alt",l[2]),o(s,"width",l[3]),o(s,"height",l[4]),o(s,"class","svelte-k4fcs4"),we(()=>l[6].call(e))},m(n,a){C(n,e,a),p(e,s),r=Le(e,l[6].bind(e))},p:L,i:L,o:L,d(n){n&&h(e),r()}}}function Ht(l,e,s){var _,u;let{data:t}=e,r;const{url_overridden_by_dest:n="",title:a,preview:c}=t,{width:i,height:f}=((u=(_=c==null?void 0:c.images)==null?void 0:_[0])==null?void 0:u.source)||{};function m(){r=this.clientWidth,s(0,r)}return l.$$set=d=>{"data"in d&&s(5,t=d.data)},[r,n,a,i,f,t,m]}class Ut extends q{constructor(e){super();R(this,e,Ht,Ot,F,{data:5})}}function Ke(l,e,s){const t=l.slice();return t[13]=e[s],t}function xe(l){let e,s;return e=new ft({props:{modules:[ht,dt],pagination:!0,spaceBetween:10,speed:1e3,loop:!1,autoplay:{disableOnInteraction:!1},$$slots:{default:[Rt]},$$scope:{ctx:l}}}),e.$on("slideChange",l[7]),e.$on("swiper",l[8]),{c(){j(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){O(e,t,r),s=!0},p(t,r){const n={};r&65542&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){s||(y(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){H(e,t)}}}function qt(l){let e,s,t,r;return{c(){e=b("div"),s=b("img"),r=B(),this.h()},l(n){e=w(n,"DIV",{style:!0,class:!0});var a=g(e);s=w(a,"IMG",{src:!0,alt:!0,class:!0}),a.forEach(h),r=A(n),this.h()},h(){te(s.src,t=l[13].slug)||o(s,"src",t),o(s,"alt",l[5]),o(s,"class","svelte-tny0i7"),se(e,"height",l[2]+"px"),o(e,"class","svelte-tny0i7")},m(n,a){C(n,e,a),p(e,s),C(n,r,a)},p(n,a){a&2&&!te(s.src,t=n[13].slug)&&o(s,"src",t),a&4&&se(e,"height",n[2]+"px")},d(n){n&&h(e),n&&h(r)}}}function et(l){let e,s;return e=new _t({props:{$$slots:{default:[qt]},$$scope:{ctx:l}}}),{c(){j(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){O(e,t,r),s=!0},p(t,r){const n={};r&65542&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){s||(y(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){H(e,t)}}}function Rt(l){let e,s,t=l[1],r=[];for(let a=0;a<t.length;a+=1)r[a]=et(Ke(l,t,a));const n=a=>I(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=ke()},l(a){for(let c=0;c<r.length;c+=1)r[c].l(a);e=ke()},m(a,c){for(let i=0;i<r.length;i+=1)r[i].m(a,c);C(a,e,c),s=!0},p(a,c){if(c&38){t=a[1];let i;for(i=0;i<t.length;i+=1){const f=Ke(a,t,i);r[i]?(r[i].p(f,c),y(r[i],1)):(r[i]=et(f),r[i].c(),y(r[i],1),r[i].m(e.parentNode,e))}for(ue(),i=t.length;i<r.length;i+=1)n(i);fe()}},i(a){if(!s){for(let c=0;c<t.length;c+=1)y(r[c]);s=!0}},o(a){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)I(r[c]);s=!1},d(a){Ie(r,a),a&&h(e)}}}function Ft(l){let e,s,t=l[4]+1+"",r,n,a,c,i,f,m,_,u=l[2]&&xe(l);return{c(){e=b("div"),s=b("span"),r=P(t),n=P("/"),a=P(l[3]),c=B(),u&&u.c(),this.h()},l(d){e=w(d,"DIV",{class:!0});var v=g(e);s=w(v,"SPAN",{class:!0});var E=g(s);r=D(E,t),n=D(E,"/"),a=D(E,l[3]),E.forEach(h),c=A(v),u&&u.l(v),v.forEach(h),this.h()},h(){o(s,"class","svelte-tny0i7"),o(e,"class","svelte-tny0i7"),we(()=>l[10].call(e))},m(d,v){C(d,e,v),p(e,s),p(s,r),p(s,n),p(s,a),p(e,c),u&&u.m(e,null),i=Le(e,l[10].bind(e)),f=!0,m||(_=[Ve(Se.call(null,e)),G(e,"change",l[6])],m=!0)},p(d,[v]){(!f||v&16)&&t!==(t=d[4]+1+"")&&de(r,t),(!f||v&8)&&de(a,d[3]),d[2]?u?(u.p(d,v),v&4&&y(u,1)):(u=xe(d),u.c(),y(u,1),u.m(e,null)):u&&(ue(),I(u,1,1,()=>{u=null}),fe())},i(d){f||(y(u),f=!0)},o(d){I(u),f=!1},d(d){d&&h(e),u&&u.d(),i(),m=!1,_e(_)}}}function Gt(l,e,s){let{data:t}=e,r,n,a,c=0,i=[];const{media_metadata:f,title:m}=t;let _;const u=({detail:k})=>{(k==null?void 0:k.inView)?_.autoplay.run():_.autoplay.pause()},d=({detail:k})=>{const U=k[0][0],{realIndex:M,activeIndex:V,loopedSlides:T,snapIndex:x}=U,Q=Me(U,["realIndex","activeIndex","loopedSlides","snapIndex"]);s(4,c=M)},v=k=>{_=k.detail[0]};function E(){r=this.clientWidth,s(0,r)}return l.$$set=k=>{"data"in k&&s(9,t=k.data)},l.$$.update=()=>{l.$$.dirty&3&&(s(1,i=Object.values(f).map(({id:k,m:M,s:V})=>{const T=r/V.x;return{slug:`https://i.redd.it/${k}.${M.replace("image/","")}`,width:V.x*T,height:V.y*T}})),s(2,n=Math.min(...i.map(k=>k.height))),s(3,a=i.length))},[r,i,n,a,c,m,u,d,v,t,E]}class zt extends q{constructor(e){super();R(this,e,Gt,Ft,F,{data:9})}}function Wt(l){let e,s;return e=new Ut({props:{data:l[0]}}),{c(){j(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){O(e,t,r),s=!0},p(t,r){const n={};r&1&&(n.data=t[0]),e.$set(n)},i(t){s||(y(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){H(e,t)}}}function Xt(l){let e,s;return e=new zt({props:{data:l[0]}}),{c(){j(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){O(e,t,r),s=!0},p(t,r){const n={};r&1&&(n.data=t[0]),e.$set(n)},i(t){s||(y(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){H(e,t)}}}function Qt(l){let e,s,t,r;const n=[Xt,Wt],a=[];function c(i,f){return i[1]?0:1}return e=c(l),s=a[e]=n[e](l),{c(){s.c(),t=ke()},l(i){s.l(i),t=ke()},m(i,f){a[e].m(i,f),C(i,t,f),r=!0},p(i,[f]){s.p(i,f)},i(i){r||(y(s),r=!0)},o(i){I(s),r=!1},d(i){a[e].d(i),i&&h(t)}}}function Yt(l,e,s){let{data:t}=e;const{media_metadata:r}=t;return l.$$set=n=>{"data"in n&&s(0,t=n.data)},[t,r]}class Jt extends q{constructor(e){super();R(this,e,Yt,Qt,F,{data:0})}}function Kt(l){let e,s,t,r,n,a,c,i;return{c(){e=b("div"),s=b("div"),t=B(),r=b("div"),n=B(),a=b("div"),this.h()},l(f){e=w(f,"DIV",{class:!0});var m=g(e);s=w(m,"DIV",{class:!0}),g(s).forEach(h),t=A(m),r=w(m,"DIV",{class:!0}),g(r).forEach(h),n=A(m),a=w(m,"DIV",{class:!0}),g(a).forEach(h),m.forEach(h),this.h()},h(){o(s,"class","progress svelte-i2emd3"),o(r,"class","duration svelte-i2emd3"),o(a,"class","thumb svelte-i2emd3"),o(e,"class","wrapper svelte-i2emd3"),se(e,"--progress",String(l[0]),!1),se(e,"--scrubPos",l[2]+"px",!1)},m(f,m){C(f,e,m),p(e,s),p(e,t),p(e,r),p(e,n),p(e,a),l[7](e),c||(i=[G(window,"mouseup",l[5]),G(window,"touchend",l[5]),G(window,"mousemove",l[4]),G(window,"touchmove",l[4]),G(e,"mousedown",l[3]),G(e,"touchstart",l[3])],c=!0)},p(f,[m]){m&1&&se(e,"--progress",String(f[0]),!1),m&4&&se(e,"--scrubPos",f[2]+"px",!1)},i:L,o:L,d(f){f&&h(e),l[7](null),c=!1,_e(i)}}}function xt(l,e,s){let{progress:t=0}=e,r=!1,n,a;const c=mt(),i=d=>{const v=d.clientX||d.targetTouches[0].clientX,E=a.getBoundingClientRect(),{x:k,width:M}=E,V=Math.min(Math.max(0,v-k),M);s(2,n=V)},f=d=>{s(6,r=!0),i(d)},m=d=>{r&&i(d)},_=()=>{s(6,r=!1);const d=n/a.getBoundingClientRect().width;c("changeend",d)};function u(d){ze[d?"unshift":"push"](()=>{a=d,s(1,a)})}return l.$$set=d=>{"progress"in d&&s(0,t=d.progress)},l.$$.update=()=>{l.$$.dirty&67&&(r||s(2,n=(a==null?void 0:a.getBoundingClientRect().width)*t))},[t,a,n,f,m,_,r,u]}class es extends q{constructor(e){super();R(this,e,xt,Kt,F,{progress:0})}}function ts(l){let e,s;return{c(){e=z("svg"),s=z("path"),this.h()},l(t){e=W(t,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var r=g(e);s=W(r,"path",{d:!0,fill:!0}),g(s).forEach(h),r.forEach(h),this.h()},h(){o(s,"d","M13.5 6.63396C14.1667 7.01886 14.1667 7.98111 13.5 8.36601L5.25 13.1291C4.58333 13.514 3.75 13.0329 3.75 12.2631L3.75 2.73684C3.75 1.96704 4.58333 1.48592 5.25 1.87082L13.5 6.63396Z"),o(s,"fill","white"),o(e,"width","15"),o(e,"height","15"),o(e,"viewBox","0 0 15 15"),o(e,"fill","none"),o(e,"xmlns","http://www.w3.org/2000/svg")},m(t,r){C(t,e,r),p(e,s)},p:L,i:L,o:L,d(t){t&&h(e)}}}class ss extends q{constructor(e){super();R(this,e,null,ts,F,{})}}function rs(l){let e,s,t;return{c(){e=z("svg"),s=z("path"),t=z("path"),this.h()},l(r){e=W(r,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var n=g(e);s=W(n,"path",{d:!0,fill:!0}),g(s).forEach(h),t=W(n,"path",{d:!0,fill:!0}),g(t).forEach(h),n.forEach(h),this.h()},h(){o(s,"d","M4 3C4 2.44771 4.44772 2 5 2C5.55228 2 6 2.44772 6 3V12C6 12.5523 5.55228 13 5 13C4.44772 13 4 12.5523 4 12V3Z"),o(s,"fill","white"),o(t,"d","M9 3C9 2.44771 9.44772 2 10 2C10.5523 2 11 2.44772 11 3V12C11 12.5523 10.5523 13 10 13C9.44772 13 9 12.5523 9 12V3Z"),o(t,"fill","white"),o(e,"width","15"),o(e,"height","15"),o(e,"viewBox","0 0 15 15"),o(e,"fill","none"),o(e,"xmlns","http://www.w3.org/2000/svg")},m(r,n){C(r,e,n),p(e,s),p(e,t)},p:L,i:L,o:L,d(r){r&&h(e)}}}class ls extends q{constructor(e){super();R(this,e,null,rs,F,{})}}function ns(l){let e,s;return{c(){e=z("svg"),s=z("path"),this.h()},l(t){e=W(t,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var r=g(e);s=W(r,"path",{d:!0,stroke:!0,"stroke-linecap":!0}),g(s).forEach(h),r.forEach(h),this.h()},h(){o(s,"d","M4 1H1V4M14 4V1L11 1M11 14H14V11M1 11L1 14H4"),o(s,"stroke","white"),o(s,"stroke-linecap","round"),o(e,"width","15"),o(e,"height","15"),o(e,"viewBox","0 0 15 15"),o(e,"fill","none"),o(e,"xmlns","http://www.w3.org/2000/svg")},m(t,r){C(t,e,r),p(e,s)},p:L,i:L,o:L,d(t){t&&h(e)}}}class as extends q{constructor(e){super();R(this,e,null,ns,F,{})}}function is(l){let e,s,t;return{c(){e=z("svg"),s=z("path"),t=z("path"),this.h()},l(r){e=W(r,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var n=g(e);s=W(n,"path",{d:!0,fill:!0}),g(s).forEach(h),t=W(n,"path",{d:!0,stroke:!0,"stroke-linecap":!0}),g(t).forEach(h),n.forEach(h),this.h()},h(){o(s,"d","M0 5C0 4.44772 0.447715 4 1 4H2.64922C2.87629 4 3.0966 3.92272 3.27391 3.78087L6.3753 1.29976C7.03007 0.775946 8 1.24212 8 2.08062V12.9194C8 13.7579 7.03007 14.2241 6.37531 13.7002L3.27391 11.2191C3.0966 11.0773 2.87629 11 2.64922 11H1C0.447715 11 0 10.5523 0 10V5Z"),o(s,"fill","white"),o(t,"d","M10 5L15 10M15 5L10 10"),o(t,"stroke","white"),o(t,"stroke-linecap","round"),o(e,"width","16"),o(e,"height","15"),o(e,"viewBox","0 0 16 15"),o(e,"fill","none"),o(e,"xmlns","http://www.w3.org/2000/svg")},m(r,n){C(r,e,n),p(e,s),p(e,t)},p:L,i:L,o:L,d(r){r&&h(e)}}}class os extends q{constructor(e){super();R(this,e,null,is,F,{})}}function cs(l){let e,s,t,r;return{c(){e=z("svg"),s=z("path"),t=z("path"),r=z("path"),this.h()},l(n){e=W(n,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var a=g(e);s=W(a,"path",{d:!0,fill:!0}),g(s).forEach(h),t=W(a,"path",{d:!0,fill:!0}),g(t).forEach(h),r=W(a,"path",{d:!0,fill:!0}),g(r).forEach(h),a.forEach(h),this.h()},h(){o(s,"d","M0 5C0 4.44772 0.447715 4 1 4H2.64922C2.87629 4 3.0966 3.92272 3.27391 3.78087L6.3753 1.29976C7.03007 0.775946 8 1.24212 8 2.08062V12.9194C8 13.7579 7.03007 14.2241 6.37531 13.7002L3.27391 11.2191C3.0966 11.0773 2.87629 11 2.64922 11H1C0.447715 11 0 10.5523 0 10V5Z"),o(s,"fill","white"),o(t,"d","M12.3211 0.616753C12.1095 0.4394 11.7941 0.467213 11.6168 0.678875C11.4394 0.890536 11.4672 1.20589 11.6789 1.38325L12.3211 0.616753ZM11.6789 13.6168C11.4672 13.7941 11.4394 14.1095 11.6168 14.3211C11.7941 14.5328 12.1095 14.5606 12.3211 14.3832L11.6789 13.6168ZM11.6789 1.38325C15.4404 4.53503 15.4404 10.465 11.6789 13.6168L12.3211 14.3832C16.5596 10.8318 16.5596 4.16822 12.3211 0.616753L11.6789 1.38325Z"),o(t,"fill","white"),o(r,"d","M10.3536 2.64645C10.1583 2.45118 9.84171 2.45118 9.64645 2.64645C9.45118 2.84171 9.45118 3.15829 9.64645 3.35355L10.3536 2.64645ZM10.5 3.5L10.8536 3.14645L10.5 3.5ZM10.5 11.5L10.1464 11.1464H10.1464L10.5 11.5ZM9.64645 11.6464C9.45118 11.8417 9.45118 12.1583 9.64645 12.3536C9.84171 12.5488 10.1583 12.5488 10.3536 12.3536L9.64645 11.6464ZM9.64645 3.35355L10.1464 3.85355L10.8536 3.14645L10.3536 2.64645L9.64645 3.35355ZM10.1464 11.1464L9.64645 11.6464L10.3536 12.3536L10.8536 11.8536L10.1464 11.1464ZM10.1464 3.85355C11.0315 4.73857 11.5 6.09924 11.5 7.5C11.5 8.90076 11.0315 10.2614 10.1464 11.1464L10.8536 11.8536C11.9685 10.7386 12.5 9.09924 12.5 7.5C12.5 5.90076 11.9685 4.26143 10.8536 3.14645L10.1464 3.85355Z"),o(r,"fill","white"),o(e,"width","16"),o(e,"height","15"),o(e,"viewBox","0 0 16 15"),o(e,"fill","none"),o(e,"xmlns","http://www.w3.org/2000/svg")},m(n,a){C(n,e,a),p(e,s),p(e,t),p(e,r)},p:L,i:L,o:L,d(n){n&&h(e)}}}class us extends q{constructor(e){super();R(this,e,null,cs,F,{})}}function tt(l){let e,s,t,r,n,a,c,i,f,m,_,u=ye(l[1])+"",d,v,E=" ",k,M,V,T=ye(l[2])+"",x,Q,U,X,ne,S,he,me,Y,J,K,pe,ae,Ee,ie,Ce,Pe;const Ae=[hs,fs],re=[];function De($,Z){return $[3]?0:1}s=De(l),t=re[s]=Ae[s](l),i=new es({props:{progress:l[1]/l[2]}}),i.$on("changeend",l[8]),X=new as({});const Ze=[_s,ds],le=[];function je($,Z){return $[4]?0:1}return J=je(l),K=le[J]=Ze[J](l),{c(){e=b("button"),t.c(),r=B(),n=b("span"),a=P("Toggle play"),c=B(),j(i.$$.fragment),f=B(),m=b("div"),_=b("time"),d=P(u),v=P(" /"),k=P(E),M=B(),V=b("time"),x=P(T),Q=B(),U=b("button"),j(X.$$.fragment),ne=B(),S=b("span"),he=P("Toggle fullscreen"),me=B(),Y=b("button"),K.c(),pe=B(),ae=b("span"),Ee=P("Toggle mute"),this.h()},l($){e=w($,"BUTTON",{class:!0});var Z=g(e);t.l(Z),r=A(Z),n=w(Z,"SPAN",{class:!0});var oe=g(n);a=D(oe,"Toggle play"),oe.forEach(h),Z.forEach(h),c=A($),N(i.$$.fragment,$),f=A($),m=w($,"DIV",{class:!0});var ee=g(m);_=w(ee,"TIME",{});var ce=g(_);d=D(ce,u),ce.forEach(h),v=D(ee," /"),k=D(ee,E),M=A(ee),V=w(ee,"TIME",{});var Ne=g(V);x=D(Ne,T),Ne.forEach(h),ee.forEach(h),Q=A($),U=w($,"BUTTON",{class:!0});var ge=g(U);N(X.$$.fragment,ge),ne=A(ge),S=w(ge,"SPAN",{class:!0});var Oe=g(S);he=D(Oe,"Toggle fullscreen"),Oe.forEach(h),ge.forEach(h),me=A($),Y=w($,"BUTTON",{class:!0});var ve=g(Y);K.l(ve),pe=A(ve),ae=w(ve,"SPAN",{class:!0});var He=g(ae);Ee=D(He,"Toggle mute"),He.forEach(h),ve.forEach(h),this.h()},h(){o(n,"class","svelte-1xm3u6"),o(e,"class","svelte-1xm3u6"),o(m,"class","time svelte-1xm3u6"),o(S,"class","svelte-1xm3u6"),o(U,"class","svelte-1xm3u6"),o(ae,"class","svelte-1xm3u6"),o(Y,"class","mute svelte-1xm3u6")},m($,Z){C($,e,Z),re[s].m(e,null),p(e,r),p(e,n),p(n,a),C($,c,Z),O(i,$,Z),C($,f,Z),C($,m,Z),p(m,_),p(_,d),p(m,v),p(m,k),p(m,M),p(m,V),p(V,x),C($,Q,Z),C($,U,Z),O(X,U,null),p(U,ne),p(U,S),p(S,he),C($,me,Z),C($,Y,Z),le[J].m(Y,null),p(Y,pe),p(Y,ae),p(ae,Ee),ie=!0,Ce||(Pe=[G(e,"click",l[5]),G(U,"click",l[6]),G(Y,"click",l[7])],Ce=!0)},p($,Z){let oe=s;s=De($),s!==oe&&(ue(),I(re[oe],1,1,()=>{re[oe]=null}),fe(),t=re[s],t||(t=re[s]=Ae[s]($),t.c()),y(t,1),t.m(e,r));const ee={};Z&6&&(ee.progress=$[1]/$[2]),i.$set(ee),(!ie||Z&2)&&u!==(u=ye($[1])+"")&&de(d,u),(!ie||Z&4)&&T!==(T=ye($[2])+"")&&de(x,T);let ce=J;J=je($),J!==ce&&(ue(),I(le[ce],1,1,()=>{le[ce]=null}),fe(),K=le[J],K||(K=le[J]=Ze[J]($),K.c()),y(K,1),K.m(Y,pe))},i($){ie||(y(t),y(i.$$.fragment,$),y(X.$$.fragment,$),y(K),ie=!0)},o($){I(t),I(i.$$.fragment,$),I(X.$$.fragment,$),I(K),ie=!1},d($){$&&h(e),re[s].d(),$&&h(c),H(i,$),$&&h(f),$&&h(m),$&&h(Q),$&&h(U),H(X),$&&h(me),$&&h(Y),le[J].d(),Ce=!1,_e(Pe)}}}function fs(l){let e,s;return e=new ss({}),{c(){j(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){O(e,t,r),s=!0},i(t){s||(y(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){H(e,t)}}}function hs(l){let e,s;return e=new ls({}),{c(){j(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){O(e,t,r),s=!0},i(t){s||(y(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){H(e,t)}}}function ds(l){let e,s;return e=new us({}),{c(){j(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){O(e,t,r),s=!0},i(t){s||(y(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){H(e,t)}}}function _s(l){let e,s;return e=new os({}),{c(){j(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){O(e,t,r),s=!0},i(t){s||(y(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){H(e,t)}}}function ms(l){let e,s,t=l[0]&&tt(l);return{c(){e=b("div"),t&&t.c(),this.h()},l(r){e=w(r,"DIV",{class:!0});var n=g(e);t&&t.l(n),n.forEach(h),this.h()},h(){o(e,"class","wrapper svelte-1xm3u6")},m(r,n){C(r,e,n),t&&t.m(e,null),s=!0},p(r,[n]){r[0]?t?(t.p(r,n),n&1&&y(t,1)):(t=tt(r),t.c(),y(t,1),t.m(e,null)):t&&(ue(),I(t,1,1,()=>{t=null}),fe())},i(r){s||(y(t),s=!0)},o(r){I(t),s=!1},d(r){r&&h(e),t&&t.d()}}}function ps(l,e,s){let{player:t}=e,r=0,n=1,a,c=!0;const i=()=>{t.paused()?t.play():t.pause()},f=()=>{t.isFullscreen()?t.exitFullscreen():t.requestFullscreen()},m=()=>t.muted(!t.muted()),_=u=>{const d=u.detail;t.isReady_&&t.currentTime(t.duration()*d)};return l.$$set=u=>{"player"in u&&s(0,t=u.player)},l.$$.update=()=>{l.$$.dirty&1&&t&&(t.volume(1),t.on("timeupdate",()=>{const u=t.currentTime();u&&s(1,r=u)}),t.on("durationchange",()=>{const u=t.duration();u&&s(2,n=u)}),t.on("play",()=>s(3,a=!0)),t.on("pause",()=>s(3,a=!1)),t.on("volumechange",()=>{s(4,c=t.muted())}))},[t,r,n,a,c,i,f,m,_]}class gs extends q{constructor(e){super();R(this,e,ps,ms,F,{player:0})}}function st(l,e,s){const t=l.slice();return t[21]=e[s].src,t[22]=e[s].type,t}function rt(l){let e,s,t;return{c(){e=b("source"),this.h()},l(r){e=w(r,"SOURCE",{src:!0,type:!0}),this.h()},h(){te(e.src,s=l[21])||o(e,"src",s),o(e,"type",t=l[22])},m(r,n){C(r,e,n)},p:L,d(r){r&&h(e)}}}function vs(l){let e,s,t,r,n,a,c,i,f,m=l[3],_=[];for(let u=0;u<m.length;u+=1)_[u]=rt(st(l,m,u));return n=new gs({props:{player:l[0]}}),{c(){e=b("div"),s=b("div"),t=b("video");for(let u=0;u<_.length;u+=1)_[u].c();r=B(),j(n.$$.fragment),this.h()},l(u){e=w(u,"DIV",{class:!0});var d=g(e);s=w(d,"DIV",{class:!0});var v=g(s);t=w(v,"VIDEO",{});var E=g(t);for(let k=0;k<_.length;k+=1)_[k].l(E);E.forEach(h),v.forEach(h),r=A(d),N(n.$$.fragment,d),d.forEach(h),this.h()},h(){t.playsInline=!0,o(s,"class","svelte-179ai5y"),o(e,"class","svelte-179ai5y"),we(()=>l[9].call(e))},m(u,d){C(u,e,d),p(e,s),p(s,t);for(let v=0;v<_.length;v+=1)_[v].m(t,null);l[8](t),p(e,r),O(n,e,null),a=Le(e,l[9].bind(e)),c=!0,i||(f=[G(s,"click",l[5]),Ve(Se.call(null,e,{threshold:.8})),G(e,"change",l[4])],i=!0)},p(u,[d]){if(d&8){m=u[3];let E;for(E=0;E<m.length;E+=1){const k=st(u,m,E);_[E]?_[E].p(k,d):(_[E]=rt(k),_[E].c(),_[E].m(t,null))}for(;E<_.length;E+=1)_[E].d(1);_.length=m.length}const v={};d&1&&(v.player=u[0]),n.$set(v)},i(u){c||(y(n.$$.fragment,u),c=!0)},o(u){I(n.$$.fragment,u),c=!1},d(u){u&&h(e),Ie(_,u),l[8](null),H(n),a(),i=!1,_e(f)}}}const $s=500;function bs(l,e,s){let{data:t}=e;const{media:r,preview:n,secure_media_embed:a,url_overridden_by_dest:c}=t;let i,f,m,_,u,d;const v={dash_url:"application/dash+xml",hls_url:"application/x-mpegURL",fallback_url:"video/mp4",yt_url:"video/youtube"},E=Boolean(r.oembed),ne=Fe(be(be(be({},r.reddit_video),r.reddit_video_preview),r.oembed),{yt_url:E&&c}),{width:k,height:M}=ne,V=Me(ne,["width","height"]),T=Object.entries(V).map(([S,he])=>{if(v[S])return{src:he,type:v[S]}}).filter(S=>Boolean(S&&S.src));pt(()=>{const S=Math.min($s/M,f/k);m=k*S,_=M*S,s(0,u=gt(i,{loop:!0,width:Math.floor(m),height:Math.floor(_),techOrder:["html5","youtube"],muted:!0,preload:"auto",children:["MediaLoader"]}))});const x=({detail:S})=>{S&&s(7,d=S.inView)},Q=()=>{u.paused()?u.play():u.pause()};function U(S){ze[S?"unshift":"push"](()=>{i=S,s(1,i)})}function X(){f=this.clientWidth,s(2,f)}return l.$$set=S=>{"data"in S&&s(6,t=S.data)},l.$$.update=()=>{l.$$.dirty&129&&u&&(d?u.play():u.pause())},[u,i,f,T,x,Q,t,d,U,X]}class ws extends q{constructor(e){super();R(this,e,bs,vs,F,{data:6})}}function lt(l){let e,s,t,r,n,a,c,i,f;s=new Vt({props:{title:l[7],subreddit:l[2],permalink:l[6],created:l[3]}});const m=[Ms,Cs,Es,ys,ks],_=[];function u(d,v){return d[8]?0:d[10]==="link"?1:d[10]=="text"?2:d[10]=="image"?3:d[10]=="video"?4:-1}return~(r=u(l))&&(n=_[r]=m[r](l)),c=new Bt({props:{num_comments:l[4],ups:l[5]}}),{c(){e=b("article"),j(s.$$.fragment),t=B(),n&&n.c(),a=B(),j(c.$$.fragment),this.h()},l(d){e=w(d,"ARTICLE",{class:!0});var v=g(e);N(s.$$.fragment,v),t=A(v),n&&n.l(v),a=A(v),N(c.$$.fragment,v),v.forEach(h),this.h()},h(){o(e,"class","svelte-kiyad0")},m(d,v){C(d,e,v),O(s,e,null),p(e,t),~r&&_[r].m(e,null),p(e,a),O(c,e,null),f=!0},p(d,v){n&&n.p(d,v)},i(d){f||(y(s.$$.fragment,d),y(n),y(c.$$.fragment,d),i||we(()=>{i=vt(e,$t,{}),i.start()}),f=!0)},o(d){I(s.$$.fragment,d),I(n),I(c.$$.fragment,d),f=!1},d(d){d&&h(e),H(s),~r&&_[r].d(),H(c)}}}function ks(l){let e,s;return e=new ws({props:{data:l[0]}}),{c(){j(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){O(e,t,r),s=!0},p(t,r){const n={};r&1&&(n.data=t[0]),e.$set(n)},i(t){s||(y(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){H(e,t)}}}function ys(l){let e,s;return e=new Jt({props:{data:l[0]}}),{c(){j(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){O(e,t,r),s=!0},p(t,r){const n={};r&1&&(n.data=t[0]),e.$set(n)},i(t){s||(y(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){H(e,t)}}}function Es(l){let e,s;return e=new Nt({props:{data:l[0]}}),{c(){j(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){O(e,t,r),s=!0},p(t,r){const n={};r&1&&(n.data=t[0]),e.$set(n)},i(t){s||(y(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){H(e,t)}}}function Cs(l){let e,s;return e=new Dt({props:{data:l[0]}}),{c(){j(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){O(e,t,r),s=!0},p(t,r){const n={};r&1&&(n.data=t[0]),e.$set(n)},i(t){s||(y(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){H(e,t)}}}function Ms(l){let e,s,t;return s=new Ss({props:{data:l[9]}}),{c(){e=b("div"),j(s.$$.fragment),this.h()},l(r){e=w(r,"DIV",{class:!0});var n=g(e);N(s.$$.fragment,n),n.forEach(h),this.h()},h(){o(e,"class","svelte-kiyad0")},m(r,n){C(r,e,n),O(s,e,null),t=!0},p:L,i(r){t||(y(s.$$.fragment,r),t=!0)},o(r){I(s.$$.fragment,r),t=!1},d(r){r&&h(e),H(s)}}}function Is(l){let e,s,t,r,n=l[1]&&lt(l);return{c(){e=b("div"),n&&n.c(),this.h()},l(a){e=w(a,"DIV",{style:!0,class:!0});var c=g(e);n&&n.l(c),c.forEach(h),this.h()},h(){se(e,"height",l[1]?"auto":"500px"),o(e,"class","svelte-kiyad0")},m(a,c){C(a,e,c),n&&n.m(e,null),s=!0,t||(r=[Ve(Se.call(null,e,l[12])),G(e,"change",l[11])],t=!0)},p(a,[c]){a[1]?n?(n.p(a,c),c&2&&y(n,1)):(n=lt(a),n.c(),y(n,1),n.m(e,null)):n&&(ue(),I(n,1,1,()=>{n=null}),fe()),(!s||c&2)&&se(e,"height",a[1]?"auto":"500px")},i(a){s||(y(n),s=!0)},o(a){I(n),s=!1},d(a){a&&h(e),n&&n.d(),t=!1,_e(r)}}}function Ls(l){const{post_hint:e,media_metadata:s}=l;switch(e){case"image":case"link":return e;case"rich:video":case"hosted:video":return"video";default:return s?"image":"text"}}function Vs(l,e,s){let t,{data:r}=e;const{crosspost_parent:n,crosspost_parent_list:a=[],subreddit:c,created:i,num_comments:f,ups:m,permalink:_,title:u}=r,d=Boolean(n),[v]=a,E=Ls(r),k=({detail:V})=>s(1,t=V.inView),M={unobserveOnEnter:!0};return l.$$set=V=>{"data"in V&&s(0,r=V.data)},[r,t,c,i,f,m,_,u,d,v,E,k,M]}class Ss extends q{constructor(e){super();R(this,e,Vs,Is,F,{data:0})}}export{Mt as A,Ss as P,Ds as f};
