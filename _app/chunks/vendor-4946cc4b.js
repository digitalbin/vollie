function Ft(){}function Lr(a,e){for(const r in e)a[r]=e[r];return a}function cc(a){return a()}function dc(){return Object.create(null)}function zi(a){a.forEach(cc)}function fc(a){return typeof a=="function"}function Wi(a,e){return a!=a?e==e:a!==e||a&&typeof a=="object"||typeof a=="function"}let la;function s1(a,e){return la||(la=document.createElement("a")),la.href=e,a===la.href}function Jg(a){return Object.keys(a).length===0}function Zg(a,...e){if(a==null)return Ft;const r=a.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function o1(a,e,r){a.$$.on_destroy.push(Zg(e,r))}function Wt(a,e,r,i){if(a){const t=hc(a,e,r,i);return a[0](t)}}function hc(a,e,r,i){return a[1]&&i?Lr(r.ctx.slice(),a[1](i(e))):r.ctx}function $t(a,e,r,i){if(a[2]&&i){const t=a[2](i(r));if(e.dirty===void 0)return t;if(typeof t=="object"){const n=[],s=Math.max(e.dirty.length,t.length);for(let o=0;o<s;o+=1)n[o]=e.dirty[o]|t[o];return n}return e.dirty|t}return e.dirty}function Kt(a,e,r,i,t,n){if(t){const s=hc(e,r,i,n);a.p(s,t)}}function Xt(a){if(a.ctx.length>32){const e=[],r=a.ctx.length/32;for(let i=0;i<r;i++)e[i]=-1;return e}return-1}function pc(a){const e={};for(const r in a)r[0]!=="$"&&(e[r]=a[r]);return e}function ca(a,e){const r={};e=new Set(e);for(const i in a)!e.has(i)&&i[0]!=="$"&&(r[i]=a[i]);return r}function u1(a){return a&&fc(a.destroy)?a.destroy:Ft}let da=!1;function ev(){da=!0}function tv(){da=!1}function rv(a,e,r,i){for(;a<e;){const t=a+(e-a>>1);r(t)<=i?a=t+1:e=t}return a}function iv(a){if(a.hydrate_init)return;a.hydrate_init=!0;let e=a.childNodes;if(a.nodeName==="HEAD"){const u=[];for(let l=0;l<e.length;l++){const c=e[l];c.claim_order!==void 0&&u.push(c)}e=u}const r=new Int32Array(e.length+1),i=new Int32Array(e.length);r[0]=-1;let t=0;for(let u=0;u<e.length;u++){const l=e[u].claim_order,c=(t>0&&e[r[t]].claim_order<=l?t+1:rv(1,t,h=>e[r[h]].claim_order,l))-1;i[u]=r[c]+1;const d=c+1;r[d]=u,t=Math.max(d,t)}const n=[],s=[];let o=e.length-1;for(let u=r[t]+1;u!=0;u=i[u-1]){for(n.push(e[u-1]);o>=u;o--)s.push(e[o]);o--}for(;o>=0;o--)s.push(e[o]);n.reverse(),s.sort((u,l)=>u.claim_order-l.claim_order);for(let u=0,l=0;u<s.length;u++){for(;l<n.length&&s[u].claim_order>=n[l].claim_order;)l++;const c=l<n.length?n[l]:null;a.insertBefore(s[u],c)}}function nv(a,e){a.appendChild(e)}function Et(a,e){if(da){for(iv(a),(a.actual_end_child===void 0||a.actual_end_child!==null&&a.actual_end_child.parentElement!==a)&&(a.actual_end_child=a.firstChild);a.actual_end_child!==null&&a.actual_end_child.claim_order===void 0;)a.actual_end_child=a.actual_end_child.nextSibling;e!==a.actual_end_child?(e.claim_order!==void 0||e.parentNode!==a)&&a.insertBefore(e,a.actual_end_child):a.actual_end_child=e.nextSibling}else(e.parentNode!==a||e.nextSibling!==null)&&a.appendChild(e)}function Ct(a,e,r){da&&!r?Et(a,e):(e.parentNode!==a||e.nextSibling!=r)&&a.insertBefore(e,r||null)}function Te(a){a.parentNode.removeChild(a)}function l1(a,e){for(let r=0;r<a.length;r+=1)a[r]&&a[r].d(e)}function ct(a){return document.createElement(a)}function av(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function fa(a){return document.createTextNode(a)}function Qt(){return fa(" ")}function c1(){return fa("")}function to(a,e,r,i){return a.addEventListener(e,r,i),()=>a.removeEventListener(e,r,i)}function Bt(a,e,r){r==null?a.removeAttribute(e):a.getAttribute(e)!==r&&a.setAttribute(e,r)}function ha(a,e){const r=Object.getOwnPropertyDescriptors(a.__proto__);for(const i in e)e[i]==null?a.removeAttribute(i):i==="style"?a.style.cssText=e[i]:i==="__value"?a.value=a[i]=e[i]:r[i]&&r[i].set?a[i]=e[i]:Bt(a,i,e[i])}function ro(a,e,r){e in a?a[e]=typeof a[e]=="boolean"&&r===""?!0:r:Bt(a,e,r)}function yt(a){return Array.from(a.childNodes)}function sv(a){a.claim_info===void 0&&(a.claim_info={last_index:0,total_claimed:0})}function mc(a,e,r,i,t=!1){sv(a);const n=(()=>{for(let s=a.claim_info.last_index;s<a.length;s++){const o=a[s];if(e(o)){const u=r(o);return u===void 0?a.splice(s,1):a[s]=u,t||(a.claim_info.last_index=s),o}}for(let s=a.claim_info.last_index-1;s>=0;s--){const o=a[s];if(e(o)){const u=r(o);return u===void 0?a.splice(s,1):a[s]=u,t?u===void 0&&a.claim_info.last_index--:a.claim_info.last_index=s,o}}return i()})();return n.claim_order=a.claim_info.total_claimed,a.claim_info.total_claimed+=1,n}function gc(a,e,r,i){return mc(a,t=>t.nodeName===e,t=>{const n=[];for(let s=0;s<t.attributes.length;s++){const o=t.attributes[s];r[o.name]||n.push(o.name)}n.forEach(s=>t.removeAttribute(s))},()=>i(e))}function Dt(a,e,r){return gc(a,e,r,ct)}function d1(a,e,r){return gc(a,e,r,av)}function vc(a,e){return mc(a,r=>r.nodeType===3,r=>{const i=""+e;if(r.data.startsWith(i)){if(r.data.length!==i.length)return r.splitText(i.length)}else r.data=i},()=>fa(e),!0)}function Yt(a){return vc(a," ")}function f1(a,e){e=""+e,a.wholeText!==e&&(a.data=e)}function h1(a,e){a.value=e==null?"":e}function ii(a,e,r,i){r===null?a.style.removeProperty(e):a.style.setProperty(e,r,i?"important":"")}let pa;function ov(){if(pa===void 0){pa=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch{pa=!0}}return pa}function uv(a,e){getComputedStyle(a).position==="static"&&(a.style.position="relative");const i=ct("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const t=ov();let n;return t?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",n=to(window,"message",s=>{s.source===i.contentWindow&&e()})):(i.src="about:blank",i.onload=()=>{n=to(i.contentWindow,"resize",e)}),nv(a,i),()=>{(t||n&&i.contentWindow)&&n(),Te(i)}}function p1(a,e,r){a.classList[r?"add":"remove"](e)}function lv(a,e,r=!1){const i=document.createEvent("CustomEvent");return i.initCustomEvent(a,r,!1,e),i}let $i;function Ki(a){$i=a}function Or(){if(!$i)throw new Error("Function called outside component initialization");return $i}function cv(a){Or().$$.before_update.push(a)}function ma(a){Or().$$.on_mount.push(a)}function yc(a){Or().$$.after_update.push(a)}function io(a){Or().$$.on_destroy.push(a)}function dv(){const a=Or();return(e,r)=>{const i=a.$$.callbacks[e];if(i){const t=lv(e,r);i.slice().forEach(n=>{n.call(a,t)})}}}function fv(a,e){Or().$$.context.set(a,e)}function hv(a){return Or().$$.context.get(a)}const Xi=[],Rt=[],ga=[],no=[],_c=Promise.resolve();let ao=!1;function Tc(){ao||(ao=!0,_c.then(bc))}function va(){return Tc(),_c}function ya(a){ga.push(a)}function m1(a){no.push(a)}const so=new Set;let _a=0;function bc(){const a=$i;do{for(;_a<Xi.length;){const e=Xi[_a];_a++,Ki(e),pv(e.$$)}for(Ki(null),Xi.length=0,_a=0;Rt.length;)Rt.pop()();for(let e=0;e<ga.length;e+=1){const r=ga[e];so.has(r)||(so.add(r),r())}ga.length=0}while(Xi.length);for(;no.length;)no.pop()();ao=!1,so.clear(),Ki(a)}function pv(a){if(a.fragment!==null){a.update(),zi(a.before_update);const e=a.dirty;a.dirty=[-1],a.fragment&&a.fragment.p(a.ctx,e),a.after_update.forEach(ya)}}const Ta=new Set;let Fr;function xc(){Fr={r:0,c:[],p:Fr}}function Sc(){Fr.r||zi(Fr.c),Fr=Fr.p}function rt(a,e){a&&a.i&&(Ta.delete(a),a.i(e))}function dt(a,e,r,i){if(a&&a.o){if(Ta.has(a))return;Ta.add(a),Fr.c.push(()=>{Ta.delete(a),i&&(r&&a.d(1),i())}),a.o(e)}}function mv(a,e){dt(a,1,1,()=>{e.delete(a.key)})}function gv(a,e,r,i,t,n,s,o,u,l,c,d){let h=a.length,v=n.length,T=h;const x={};for(;T--;)x[a[T].key]=T;const y=[],E=new Map,D=new Map;for(T=v;T--;){const N=d(t,n,T),V=r(N);let M=s.get(V);M?i&&M.p(N,e):(M=l(V,N),M.c()),E.set(V,y[T]=M),V in x&&D.set(V,Math.abs(T-x[V]))}const A=new Set,L=new Set;function O(N){rt(N,1),N.m(o,c),s.set(N.key,N),c=N.first,v--}for(;h&&v;){const N=y[v-1],V=a[h-1],M=N.key,R=V.key;N===V?(c=N.first,h--,v--):E.has(R)?!s.has(M)||A.has(M)?O(N):L.has(R)?h--:D.get(M)>D.get(R)?(L.add(M),O(N)):(A.add(R),h--):(u(V,s),h--)}for(;h--;){const N=a[h];E.has(N.key)||u(N,s)}for(;v;)O(y[v-1]);return y}function Ec(a,e){const r={},i={},t={$$scope:1};let n=a.length;for(;n--;){const s=a[n],o=e[n];if(o){for(const u in s)u in o||(i[u]=1);for(const u in o)t[u]||(r[u]=o[u],t[u]=1);a[n]=o}else for(const u in s)t[u]=1}for(const s in i)s in r||(r[s]=void 0);return r}function g1(a){return typeof a=="object"&&a!==null?a:{}}function v1(a,e,r){const i=a.$$.props[e];i!==void 0&&(a.$$.bound[i]=r,r(a.$$.ctx[i]))}function y1(a){a&&a.c()}function _1(a,e){a&&a.l(e)}function vv(a,e,r,i){const{fragment:t,on_mount:n,on_destroy:s,after_update:o}=a.$$;t&&t.m(e,r),i||ya(()=>{const u=n.map(cc).filter(fc);s?s.push(...u):zi(u),a.$$.on_mount=[]}),o.forEach(ya)}function yv(a,e){const r=a.$$;r.fragment!==null&&(zi(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function _v(a,e){a.$$.dirty[0]===-1&&(Xi.push(a),Tc(),a.$$.dirty.fill(0)),a.$$.dirty[e/31|0]|=1<<e%31}function ba(a,e,r,i,t,n,s,o=[-1]){const u=$i;Ki(a);const l=a.$$={fragment:null,ctx:null,props:n,update:Ft,not_equal:t,bound:dc(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:dc(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};s&&s(l.root);let c=!1;if(l.ctx=r?r(a,e.props||{},(d,h,...v)=>{const T=v.length?v[0]:h;return l.ctx&&t(l.ctx[d],l.ctx[d]=T)&&(!l.skip_bound&&l.bound[d]&&l.bound[d](T),c&&_v(a,d)),h}):[],l.update(),c=!0,zi(l.before_update),l.fragment=i?i(l.ctx):!1,e.target){if(e.hydrate){ev();const d=yt(e.target);l.fragment&&l.fragment.l(d),d.forEach(Te)}else l.fragment&&l.fragment.c();e.intro&&rt(a.$$.fragment),vv(a,e.target,e.anchor,e.customElement),tv(),bc()}Ki(u)}class xa{$destroy(){yv(this,1),this.$destroy=Ft}$on(e,r){const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(r),()=>{const t=i.indexOf(r);t!==-1&&i.splice(t,1)}}$set(e){this.$$set&&!Jg(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ni=[];function Tv(a,e){return{subscribe:bv(a,e).subscribe}}function bv(a,e=Ft){let r;const i=new Set;function t(o){if(Wi(a,o)&&(a=o,r)){const u=!ni.length;for(const l of i)l[1](),ni.push(l,a);if(u){for(let l=0;l<ni.length;l+=2)ni[l][0](ni[l+1]);ni.length=0}}}function n(o){t(o(a))}function s(o,u=Ft){const l=[o,u];return i.add(l),i.size===1&&(r=e(t)||Ft),o(a),()=>{i.delete(l),i.size===0&&(r(),r=null)}}return{set:t,update:n,subscribe:s}}class Qi{constructor(){this.listeners=[]}subscribe(e){const r=e||(()=>{});return this.listeners.push(r),this.onSubscribe(),()=>{this.listeners=this.listeners.filter(i=>i!==r),this.onUnsubscribe()}}hasListeners(){return this.listeners.length>0}onSubscribe(){}onUnsubscribe(){}}const Sa=typeof window=="undefined";function Le(){}function xv(a,e){return typeof a=="function"?a(e):a}function oo(a){return typeof a=="number"&&a>=0&&a!==1/0}function Cc(a){return Array.isArray(a)?a:[a]}function Dc(a,e){return Math.max(a+(e||0)-Date.now(),0)}function Yi(a,e,r){return Da(a)?typeof e=="function"?Object.assign(Object.assign({},r),{queryKey:a,queryFn:e}):Object.assign(Object.assign({},e),{queryKey:a}):a}function pr(a,e,r){return Da(a)?[Object.assign(Object.assign({},e),{queryKey:a}),r]:[a||{},e]}function Ac(a,e){const{active:r,exact:i,fetching:t,inactive:n,predicate:s,queryKey:o,stale:u}=a;if(Da(o)){if(i){if(e.queryHash!==Ea(o,e.options))return!1}else if(!Ca(e.queryKey,o))return!1}let l;return n===!1||r&&!n?l=!0:(r===!1||n&&!r)&&(l=!1),!(typeof l=="boolean"&&e.isActive()!==l||typeof u=="boolean"&&e.isStale()!==u||typeof t=="boolean"&&e.isFetching()!==t||s&&!s(e))}function wc(a,e){const{exact:r,fetching:i,predicate:t,mutationKey:n}=a;if(Da(n)){if(!e.options.mutationKey)return!1;if(r){if(Br(e.options.mutationKey)!==Br(n))return!1}else if(!Ca(e.options.mutationKey,n))return!1}return!(typeof i=="boolean"&&e.state.status==="loading"!==i||t&&!t(e))}function Ea(a,e){return((e==null?void 0:e.queryKeyHashFn)||Br)(a)}function Br(a){const e=Array.isArray(a)?a:[a];return Sv(e)}function Sv(a){return JSON.stringify(a,(e,r)=>lo(r)?Object.keys(r).sort().reduce((i,t)=>(i[t]=r[t],i),{}):r)}function Ca(a,e){return kc(Cc(a),Cc(e))}function kc(a,e){return a===e?!0:typeof a!=typeof e?!1:a&&e&&typeof a=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!kc(a[r],e[r])):!1}function uo(a,e){if(a===e)return a;const r=Array.isArray(a)&&Array.isArray(e);if(r||lo(a)&&lo(e)){const i=r?a.length:Object.keys(a).length,t=r?e:Object.keys(e),n=t.length,s=r?[]:{};let o=0;for(let u=0;u<n;u++){const l=r?u:t[u];s[l]=uo(a[l],e[l]),s[l]===a[l]&&o++}return i===n&&o===i?a:s}return e}function Ev(a,e){if(a&&!e||e&&!a)return!1;for(const r in a)if(a[r]!==e[r])return!1;return!0}function lo(a){if(!Pc(a))return!1;const e=a.constructor;if(typeof e=="undefined")return!0;const r=e.prototype;return!(!Pc(r)||!r.hasOwnProperty("isPrototypeOf"))}function Pc(a){return Object.prototype.toString.call(a)==="[object Object]"}function Da(a){return typeof a=="string"||Array.isArray(a)}function Cv(a){return new Promise(e=>{setTimeout(e,a)})}function Ic(a){Promise.resolve().then(a).catch(e=>setTimeout(()=>{throw e}))}class Dv extends Qi{onSubscribe(){this.removeEventListener||this.setDefaultEventListener()}setEventListener(e){this.removeEventListener&&this.removeEventListener(),this.removeEventListener=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused=e,e&&this.onFocus()}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document=="undefined"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}setDefaultEventListener(){!Sa&&(window==null?void 0:window.addEventListener)&&this.setEventListener(e=>(window.addEventListener("visibilitychange",e,!1),window.addEventListener("focus",e,!1),()=>{window.removeEventListener("visibilitychange",e),window.removeEventListener("focus",e)}))}}const Ji=new Dv;class Av extends Qi{onSubscribe(){this.removeEventListener||this.setDefaultEventListener()}setEventListener(e){this.removeEventListener&&this.removeEventListener(),this.removeEventListener=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online=e,e&&this.onOnline()}onOnline(){this.listeners.forEach(e=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator=="undefined"||typeof navigator.onLine=="undefined"?!0:navigator.onLine}setDefaultEventListener(){!Sa&&(window==null?void 0:window.addEventListener)&&this.setEventListener(e=>{const r=()=>e();return window.addEventListener("online",r,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",r)}})}}const Aa=new Av;function wv(a){return Math.min(1e3*2**a,3e4)}function wa(a){return typeof(a==null?void 0:a.cancel)=="function"}class Lc{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function co(a){return a instanceof Lc}class Oc{constructor(e){let r=!1,i,t,n,s;this.cancel=d=>i==null?void 0:i(d),this.cancelRetry=()=>{r=!0},this.continue=()=>t==null?void 0:t(),this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise((d,h)=>{n=d,s=h});const o=d=>{var h;this.isResolved||(this.isResolved=!0,(h=e.onSuccess)===null||h===void 0||h.call(e,d),t==null||t(),n(d))},u=d=>{var h;this.isResolved||(this.isResolved=!0,(h=e.onError)===null||h===void 0||h.call(e,d),t==null||t(),s(d))},l=()=>new Promise(d=>{var h;t=d,this.isPaused=!0,(h=e.onPause)===null||h===void 0||h.call(e)}).then(()=>{var d;t=void 0,this.isPaused=!1,(d=e.onContinue)===null||d===void 0||d.call(e)}),c=()=>{if(this.isResolved)return;let d;try{d=e.fn()}catch(h){d=Promise.reject(h)}i=h=>{if(!this.isResolved&&(u(new Lc(h)),wa(d)))try{d.cancel()}catch{}},this.isTransportCancelable=wa(d),Promise.resolve(d).then(o).catch(h=>{var v,T,x;if(this.isResolved)return;const y=(v=e.retry)!==null&&v!==void 0?v:3,E=(T=e.retryDelay)!==null&&T!==void 0?T:wv,D=typeof E=="function"?E(this.failureCount,h):E,A=y===!0||typeof y=="number"&&this.failureCount<y||typeof y=="function"&&y(this.failureCount,h);if(r||!A){u(h);return}this.failureCount++,(x=e.onFail)===null||x===void 0||x.call(e,this.failureCount,h),Cv(D).then(()=>{if(!Ji.isFocused()||!Aa.isOnline())return l()}).then(()=>{r?u(h):c()})})};c()}}class kv{constructor(){this.queue=[],this.transactions=0,this.notifyFn=e=>{e()},this.batchNotifyFn=e=>{e()}}batch(e){this.transactions++;const r=e();return this.transactions--,this.transactions||this.flush(),r}schedule(e){this.transactions?this.queue.push(e):Ic(()=>{this.notifyFn(e)})}batchCalls(e){return(...r)=>{this.schedule(()=>{e(...r)})}}flush(){const e=this.queue;this.queue=[],e.length&&Ic(()=>{this.batchNotifyFn(()=>{e.forEach(r=>{this.notifyFn(r)})})})}setNotifyFunction(e){this.notifyFn=e}setBatchNotifyFunction(e){this.batchNotifyFn=e}}const ke=new kv;let Pv=console||{error:Le,warn:Le,log:Le};function fo(){return Pv}class Iv{constructor(e){this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||this.getDefaultState(this.options),this.state=this.initialState,this.scheduleGc()}setOptions(e){var r;this.options=Object.assign(Object.assign({},this.defaultOptions),e),this.cacheTime=Math.max(this.cacheTime||0,(r=this.options.cacheTime)!==null&&r!==void 0?r:5*60*1e3)}setDefaultOptions(e){this.defaultOptions=e}scheduleGc(){this.clearGcTimeout(),oo(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}clearGcTimeout(){clearTimeout(this.gcTimeout),this.gcTimeout=void 0}optionalRemove(){!this.observers.length&&!this.state.isFetching&&this.cache.remove(this)}setData(e,r){var i,t;const n=this.state.data;let s=xv(e,n);return((t=(i=this.options).isDataEqual)===null||t===void 0?void 0:t.call(i,n,s))?s=n:this.options.structuralSharing!==!1&&(s=uo(n,s)),this.dispatch({data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt}),s}setState(e,r){this.dispatch({type:"setState",state:e,setStateOptions:r})}cancel(e){var r;const i=this.promise;return(r=this.retryer)===null||r===void 0||r.cancel(e),i?i.then(Le).catch(Le):Promise.resolve()}destroy(){this.clearGcTimeout(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isFetching(){return this.state.isFetching}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Dc(this.state.dataUpdatedAt,e)}onFocus(){var e;const r=this.observers.find(i=>i.shouldFetchOnWindowFocus());r&&r.refetch(),(e=this.retryer)===null||e===void 0||e.continue()}onOnline(){var e;const r=this.observers.find(i=>i.shouldFetchOnReconnect());r&&r.refetch(),(e=this.retryer)===null||e===void 0||e.continue()}addObserver(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.indexOf(e)!==-1&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,r){var i,t,n,s;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(r==null?void 0:r.cancelRefetch))this.cancel({silent:!0});else if(this.promise)return this.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const o={queryKey:this.queryKey,pageParam:void 0},u=()=>this.options.queryFn?this.options.queryFn(o):Promise.reject("Missing queryFn"),l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};return((i=this.options.behavior)===null||i===void 0?void 0:i.onFetch)&&((t=this.options.behavior)===null||t===void 0||t.onFetch(l)),this.revertState=this.state,(!this.state.isFetching||this.state.fetchMeta!==((n=l.fetchOptions)===null||n===void 0?void 0:n.meta))&&this.dispatch({type:"fetch",meta:(s=l.fetchOptions)===null||s===void 0?void 0:s.meta}),this.retryer=new Oc({fn:l.fetchFn,onSuccess:c=>{this.setData(c),this.cacheTime===0&&this.optionalRemove()},onError:c=>{co(c)&&c.silent||this.dispatch({type:"error",error:c}),co(c)||(this.cache.config.onError&&this.cache.config.onError(c,this),fo().error(c)),this.cacheTime===0&&this.optionalRemove()},onFail:()=>{this.dispatch({type:"failed"})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay}),this.promise=this.retryer.promise,this.promise}dispatch(e){this.state=this.reducer(this.state,e),ke.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"queryUpdated",action:e})})}getDefaultState(e){const r=typeof e.initialData=="function"?e.initialData():e.initialData,t=typeof e.initialData!="undefined"?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0,n=typeof r!="undefined";return{data:r,dataUpdateCount:0,dataUpdatedAt:n?t!=null?t:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:n?"success":"idle"}}reducer(e,r){var i,t;switch(r.type){case"failed":return Object.assign(Object.assign({},e),{fetchFailureCount:e.fetchFailureCount+1});case"pause":return Object.assign(Object.assign({},e),{isPaused:!0});case"continue":return Object.assign(Object.assign({},e),{isPaused:!1});case"fetch":return Object.assign(Object.assign({},e),{fetchFailureCount:0,fetchMeta:(i=r.meta)!==null&&i!==void 0?i:null,isFetching:!0,isPaused:!1,status:e.dataUpdatedAt?e.status:"loading"});case"success":return Object.assign(Object.assign({},e),{data:r.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:(t=r.dataUpdatedAt)!==null&&t!==void 0?t:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":const n=r.error;return co(n)&&n.revert&&this.revertState?Object.assign({},this.revertState):Object.assign(Object.assign({},e),{error:n,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return Object.assign(Object.assign({},e),{isInvalidated:!0});case"setState":return Object.assign(Object.assign({},e),r.state);default:return e}}}class Lv extends Qi{constructor(e,r){super();this.client=e,this.options=r,this.trackedProps=[],this.previousSelectError=null,this.bindMethods(),this.setOptions(r)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Fc(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return Bv(this.currentQuery,this.options)}shouldFetchOnWindowFocus(){return Rv(this.currentQuery,this.options)}destroy(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)}setOptions(e,r){const i=this.options,t=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),typeof this.options.enabled!="undefined"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=i.queryKey),this.updateQuery();const n=this.hasListeners();n&&Bc(this.currentQuery,t,this.options,i)&&this.executeFetch(),this.updateResult(r),n&&(this.currentQuery!==t||this.options.enabled!==i.enabled||this.options.staleTime!==i.staleTime)&&this.updateStaleTimeout(),n&&(this.currentQuery!==t||this.options.enabled!==i.enabled||this.options.refetchInterval!==i.refetchInterval)&&this.updateRefetchInterval()}updateOptions(e,r){const i=Object.assign(Object.assign({},this.options),e);e.queryKey&&!e.queryHash&&e.queryKey!==this.options.queryKey&&(i.queryHash=Ea(e.queryKey,i)),this.setOptions(i,r)}getOptimisticResult(e){const r=this.client.defaultQueryObserverOptions(e),i=this.client.getQueryCache().build(this.client,r);return this.createResult(i,r)}getCurrentResult(){return this.currentResult}trackResult(e){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>{const t=i;return this.trackedProps.includes(t)||this.trackedProps.push(t),e[t]}})}),r}getNextResult(e){return new Promise((r,i)=>{const t=this.subscribe(n=>{n.isFetching||(t(),n.isError&&(e==null?void 0:e.throwOnError)?i(n.error):r(n))})})}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch(e){return this.fetch(e)}fetchOptimistic(e){const r=this.client.defaultQueryObserverOptions(e),i=this.client.getQueryCache().build(this.client,r);return i.fetch().then(()=>this.createResult(i,r))}fetch(e){return this.executeFetch(e).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let r=this.currentQuery.fetch(this.options,e);return(e==null?void 0:e.throwOnError)||(r=r.catch(Le)),r}updateStaleTimeout(){if(this.clearStaleTimeout(),Sa||this.currentResult.isStale||!oo(this.options.staleTime))return;const r=Dc(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},r)}updateRefetchInterval(){this.clearRefetchInterval(),!(Sa||this.options.enabled===!1||!oo(this.options.refetchInterval))&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Ji.isFocused())&&this.executeFetch()},this.options.refetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval()}clearTimers(){this.clearStaleTimeout(),this.clearRefetchInterval()}clearStaleTimeout(){clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0}clearRefetchInterval(){clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0}createResult(e,r){const i=this.currentQuery,t=this.options,n=this.currentResult,s=this.currentResultState,o=this.currentResultOptions,u=e!==i,l=u?e.state:this.currentQueryInitialState,c=u?this.currentResult:this.previousQueryResult,{state:d}=e;let{dataUpdatedAt:h,error:v,errorUpdatedAt:T,isFetching:x,status:y}=d,E=!1,D=!1,A;if(r.optimisticResults){const O=this.hasListeners(),N=!O&&Fc(e,r),V=O&&Bc(e,i,r,t);(N||V)&&(x=!0,h||(y="loading"))}if(r.keepPreviousData&&!d.dataUpdateCount&&(c==null?void 0:c.isSuccess)&&y!=="error")A=c.data,h=c.dataUpdatedAt,y=c.status,E=!0;else if(r.select&&typeof d.data!="undefined")if(n&&d.data===(s==null?void 0:s.data)&&r.select===(o==null?void 0:o.select)&&!this.previousSelectError)A=n.data;else try{A=r.select(d.data),r.structuralSharing!==!1&&(A=uo(n==null?void 0:n.data,A)),this.previousSelectError=null}catch(O){fo().error(O),v=O,this.previousSelectError=O,T=Date.now(),y="error"}else A=d.data;if(typeof r.placeholderData!="undefined"&&typeof A=="undefined"&&y==="loading"){let O;(n==null?void 0:n.isPlaceholderData)&&r.placeholderData===(o==null?void 0:o.placeholderData)?O=n.data:O=typeof r.placeholderData=="function"?r.placeholderData():r.placeholderData,typeof O!="undefined"&&(y="success",A=O,D=!0)}return{status:y,isLoading:y==="loading",isSuccess:y==="success",isError:y==="error",isIdle:y==="idle",data:A,dataUpdatedAt:h,error:v,errorUpdatedAt:T,failureCount:d.fetchFailureCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:x,isLoadingError:y==="error"&&d.dataUpdatedAt===0,isPlaceholderData:D,isPreviousData:E,isRefetchError:y==="error"&&d.dataUpdatedAt!==0,isStale:Zi(e,r),refetch:this.refetch,remove:this.remove}}shouldNotifyListeners(e,r){if(!r)return!0;if(e===r)return!1;const{notifyOnChangeProps:i,notifyOnChangePropsExclusions:t}=this.options;if(!i&&!t||i==="tracked"&&!this.trackedProps.length)return!0;const n=i==="tracked"?this.trackedProps:i;return Object.keys(e).some(s=>{const o=s,u=e[o]!==r[o],l=n==null?void 0:n.some(d=>d===s),c=t==null?void 0:t.some(d=>d===s);return u&&!c&&(!n||l)})}updateResult(e){const r=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Ev(this.currentResult,r))return;const i={cache:!0};(e==null?void 0:e.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,r)&&(i.listeners=!0),this.notify(Object.assign(Object.assign({},i),e))}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const r=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const r={};e.type==="success"?r.onSuccess=!0:e.type==="error"&&(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()}notify(e){ke.batch(()=>{var r,i,t,n,s,o,u,l;e.onSuccess?((i=(r=this.options).onSuccess)===null||i===void 0||i.call(r,this.currentResult.data),(n=(t=this.options).onSettled)===null||n===void 0||n.call(t,this.currentResult.data,null)):e.onError&&((o=(s=this.options).onError)===null||o===void 0||o.call(s,this.currentResult.error),(l=(u=this.options).onSettled)===null||l===void 0||l.call(u,void 0,this.currentResult.error)),e.listeners&&this.listeners.forEach(c=>{c(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Ov(a,e){return e.enabled!==!1&&!a.state.dataUpdatedAt&&!(a.state.status==="error"&&e.retryOnMount===!1)}function Fv(a,e){return e.enabled!==!1&&a.state.dataUpdatedAt>0&&(e.refetchOnMount==="always"||e.refetchOnMount!==!1&&Zi(a,e))}function Fc(a,e){return Ov(a,e)||Fv(a,e)}function Bv(a,e){return e.enabled!==!1&&(e.refetchOnReconnect==="always"||e.refetchOnReconnect!==!1&&Zi(a,e))}function Rv(a,e){return e.enabled!==!1&&(e.refetchOnWindowFocus==="always"||e.refetchOnWindowFocus!==!1&&Zi(a,e))}function Bc(a,e,r,i){return r.enabled!==!1&&(a!==e||i.enabled===!1)&&Zi(a,r)}function Zi(a,e){return a.isStaleByTime(e.staleTime)}class Rc extends Qi{constructor(e){super();this.config=e||{},this.queries=[],this.queriesMap={}}build(e,r,i){var t;const n=r.queryKey,s=(t=r.queryHash)!==null&&t!==void 0?t:Ea(n,r);let o=this.get(s);return o||(o=new Iv({cache:this,queryKey:n,queryHash:s,options:e.defaultQueryOptions(r),state:i,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"queryAdded",query:e}))}remove(e){const r=this.queriesMap[e.queryHash];r&&(e.destroy(),this.queries=this.queries.filter(i=>i!==e),r===e&&delete this.queriesMap[e.queryHash],this.notify({type:"queryRemoved",query:e}))}clear(){ke.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,r){const[i]=pr(e,r);return typeof i.exact=="undefined"&&(i.exact=!0),this.queries.find(t=>Ac(i,t))}findAll(e,r){const[i]=pr(e,r);return i?this.queries.filter(t=>Ac(i,t)):this.queries}notify(e){ke.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){ke.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){ke.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class Mv{constructor(e){this.options=Object.assign(Object.assign({},e.defaultOptions),e.options),this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.observers=[],this.state=e.state||Nv()}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.indexOf(e)===-1&&this.observers.push(e)}removeObserver(e){this.observers=this.observers.filter(r=>r!==e)}cancel(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Le).catch(Le)):Promise.resolve()}continue(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()}execute(){let e;const r=this.state.status==="loading";let i=Promise.resolve();return r||(this.dispatch({type:"loading",variables:this.options.variables}),i=i.then(()=>{var t,n;return(n=(t=this.options).onMutate)===null||n===void 0?void 0:n.call(t,this.state.variables)}).then(t=>{t!==this.state.context&&this.dispatch({type:"loading",context:t,variables:this.state.variables})})),i.then(()=>this.executeMutation()).then(t=>{e=t}).then(()=>{var t,n;return(n=(t=this.options).onSuccess)===null||n===void 0?void 0:n.call(t,e,this.state.variables,this.state.context)}).then(()=>{var t,n;return(n=(t=this.options).onSettled)===null||n===void 0?void 0:n.call(t,e,null,this.state.variables,this.state.context)}).then(()=>(this.dispatch({type:"success",data:e}),e)).catch(t=>(this.mutationCache.config.onError&&this.mutationCache.config.onError(t,this.state.variables,this.state.context,this),fo().error(t),Promise.resolve().then(()=>{var n,s;return(s=(n=this.options).onError)===null||s===void 0?void 0:s.call(n,t,this.state.variables,this.state.context)}).then(()=>{var n,s;return(s=(n=this.options).onSettled)===null||s===void 0?void 0:s.call(n,void 0,t,this.state.variables,this.state.context)}).then(()=>{throw this.dispatch({type:"error",error:t}),t})))}executeMutation(){var e;return this.retryer=new Oc({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:()=>{this.dispatch({type:"failed"})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(e=this.options.retry)!==null&&e!==void 0?e:0,retryDelay:this.options.retryDelay}),this.retryer.promise}dispatch(e){this.state=Uv(this.state,e),ke.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify(this)})}}function Nv(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Uv(a,e){switch(e.type){case"failed":return Object.assign(Object.assign({},a),{failureCount:a.failureCount+1});case"pause":return Object.assign(Object.assign({},a),{isPaused:!0});case"continue":return Object.assign(Object.assign({},a),{isPaused:!1});case"loading":return Object.assign(Object.assign({},a),{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return Object.assign(Object.assign({},a),{data:e.data,error:null,status:"success",isPaused:!1});case"error":return Object.assign(Object.assign({},a),{data:void 0,error:e.error,failureCount:a.failureCount+1,isPaused:!1,status:"error"});case"setState":return Object.assign(Object.assign({},a),e.state);default:return a}}class Mc extends Qi{constructor(e){super();this.config=e||{},this.mutations=[],this.mutationId=0}build(e,r,i){const t=new Mv({mutationCache:this,mutationId:++this.mutationId,options:e.defaultMutationOptions(r),state:i,defaultOptions:r.mutationKey?e.getMutationDefaults(r.mutationKey):void 0});return this.add(t),t}add(e){this.mutations.push(e),this.notify(e)}remove(e){this.mutations=this.mutations.filter(r=>r!==e),e.cancel(),this.notify(e)}clear(){ke.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact=="undefined"&&(e.exact=!0),this.mutations.find(r=>wc(e,r))}findAll(e){return this.mutations.filter(r=>wc(e,r))}notify(e){ke.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){this.resumePausedMutations()}onOnline(){this.resumePausedMutations()}resumePausedMutations(){const e=this.mutations.filter(r=>r.state.isPaused);return ke.batch(()=>e.reduce((r,i)=>r.then(()=>i.continue().catch(Le)),Promise.resolve()))}}function qv(){return{onFetch:a=>{a.fetchFn=()=>{var e,r,i,t;const n=(r=(e=a.fetchOptions)===null||e===void 0?void 0:e.meta)===null||r===void 0?void 0:r.fetchMore,s=n==null?void 0:n.pageParam,o=(n==null?void 0:n.direction)==="forward",u=(n==null?void 0:n.direction)==="backward",l=((i=a.state.data)===null||i===void 0?void 0:i.pages)||[],c=((t=a.state.data)===null||t===void 0?void 0:t.pageParams)||[];let d=c,h=!1;const v=a.options.queryFn||(()=>Promise.reject("Missing queryFn")),T=(D,A,L,O)=>{if(h)return Promise.reject("Cancelled");if(typeof L=="undefined"&&!A&&D.length)return Promise.resolve(D);const N={queryKey:a.queryKey,pageParam:L},V=v(N),M=Promise.resolve(V).then(R=>(d=O?[L,...d]:[...d,L],O?[R,...D]:[...D,R]));if(wa(V)){const R=M;R.cancel=V.cancel}return M};let x;if(!l.length)x=T([]);else if(o){const D=typeof s!="undefined",A=D?s:Nc(a.options,l);x=T(l,D,A)}else if(u){const D=typeof s!="undefined",A=D?s:Vv(a.options,l);x=T(l,D,A,!0)}else{d=[];const D=typeof a.options.getNextPageParam=="undefined";x=T([],D,c[0]);for(let A=1;A<l.length;A++)x=x.then(L=>{const O=D?c[A]:Nc(a.options,L);return T(L,D,O)})}const y=x.then(D=>({pages:D,pageParams:d})),E=y;return E.cancel=()=>{h=!0,wa(x)&&x.cancel()},y}}}}function Nc(a,e){var r;return(r=a.getNextPageParam)===null||r===void 0?void 0:r.call(a,e[e.length-1],e)}function Vv(a,e){var r;return(r=a.getPreviousPageParam)===null||r===void 0?void 0:r.call(a,e[0],e)}class Hv{constructor(e={}){this.queryCache=e.queryCache||new Rc,this.mutationCache=e.mutationCache||new Mc,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}mount(){this.unsubscribeFocus=Ji.subscribe(()=>{Ji.isFocused()&&Aa.isOnline()&&(this.mutationCache.onFocus(),this.queryCache.onFocus())}),this.unsubscribeOnline=Aa.subscribe(()=>{Ji.isFocused()&&Aa.isOnline()&&(this.mutationCache.onOnline(),this.queryCache.onOnline())})}unmount(){var e,r;(e=this.unsubscribeFocus)===null||e===void 0||e.call(this),(r=this.unsubscribeOnline)===null||r===void 0||r.call(this)}isFetching(e,r){const[i]=pr(e,r);return i.fetching=!0,this.queryCache.findAll(i).length}isMutating(e){return this.mutationCache.findAll(Object.assign(Object.assign({},e),{fetching:!0})).length}getQueryData(e,r){var i;return(i=this.queryCache.find(e,r))===null||i===void 0?void 0:i.state.data}setQueryData(e,r,i){const t=Yi(e),n=this.defaultQueryOptions(t);return this.queryCache.build(this,n).setData(r,i)}getQueryState(e,r){var i;return(i=this.queryCache.find(e,r))===null||i===void 0?void 0:i.state}removeQueries(e,r){const[i]=pr(e,r),t=this.queryCache;ke.batch(()=>{t.findAll(i).forEach(n=>{t.remove(n)})})}resetQueries(e,r,i){const[t,n]=pr(e,r,i),s=this.queryCache,o=Object.assign(Object.assign({},t),{active:!0});return ke.batch(()=>(s.findAll(t).forEach(u=>{u.reset()}),this.refetchQueries(o,n)))}cancelQueries(e,r,i){const[t,n={}]=pr(e,r,i);typeof n.revert=="undefined"&&(n.revert=!0);const s=ke.batch(()=>this.queryCache.findAll(t).map(o=>o.cancel(n)));return Promise.all(s).then(Le).catch(Le)}invalidateQueries(e,r,i){var t;const[n,s]=pr(e,r,i),o=Object.assign(Object.assign({},n),{active:(t=n.refetchActive)!==null&&t!==void 0?t:!0,inactive:n.refetchInactive});return ke.batch(()=>(this.queryCache.findAll(n).forEach(u=>{u.invalidate()}),this.refetchQueries(o,s)))}refetchQueries(e,r,i){const[t,n]=pr(e,r,i),s=ke.batch(()=>this.queryCache.findAll(t).map(u=>u.fetch()));let o=Promise.all(s).then(Le);return(n==null?void 0:n.throwOnError)||(o=o.catch(Le)),o}fetchQuery(e,r,i){const t=Yi(e,r,i),n=this.defaultQueryOptions(t);typeof n.retry=="undefined"&&(n.retry=!1);const s=this.queryCache.build(this,n);return s.isStaleByTime(n.staleTime)?s.fetch(n):Promise.resolve(s.state.data)}prefetchQuery(e,r,i){return this.fetchQuery(e,r,i).then(Le).catch(Le)}fetchInfiniteQuery(e,r,i){const t=Yi(e,r,i);return t.behavior=qv(),this.fetchQuery(t)}prefetchInfiniteQuery(e,r,i){return this.fetchInfiniteQuery(e,r,i).then(Le).catch(Le)}cancelMutations(){const e=ke.batch(()=>this.mutationCache.getAll().map(r=>r.cancel()));return Promise.all(e).then(Le).catch(Le)}resumePausedMutations(){return this.getMutationCache().resumePausedMutations()}executeMutation(e){return this.mutationCache.build(this,e).execute()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,r){const i=this.queryDefaults.find(t=>Br(e)===Br(t.queryKey));i?i.defaultOptions=r:this.queryDefaults.push({queryKey:e,defaultOptions:r})}getQueryDefaults(e){var r;return e?(r=this.queryDefaults.find(i=>Ca(e,i.queryKey)))===null||r===void 0?void 0:r.defaultOptions:void 0}setMutationDefaults(e,r){const i=this.mutationDefaults.find(t=>Br(e)===Br(t.mutationKey));i?i.defaultOptions=r:this.mutationDefaults.push({mutationKey:e,defaultOptions:r})}getMutationDefaults(e){var r;return e?(r=this.mutationDefaults.find(i=>Ca(e,i.mutationKey)))===null||r===void 0?void 0:r.defaultOptions:void 0}defaultQueryOptions(e){if(e==null?void 0:e._defaulted)return e;const r=Object.assign(Object.assign(Object.assign(Object.assign({},this.defaultOptions.queries),this.getQueryDefaults(e==null?void 0:e.queryKey)),e),{_defaulted:!0});return!r.queryHash&&r.queryKey&&(r.queryHash=Ea(r.queryKey,r)),r}defaultQueryObserverOptions(e){return this.defaultQueryOptions(e)}defaultMutationOptions(e){return(e==null?void 0:e._defaulted)?e:Object.assign(Object.assign(Object.assign(Object.assign({},this.defaultOptions.mutations),this.getMutationDefaults(e==null?void 0:e.mutationKey)),e),{_defaulted:!0})}clear(){this.queryCache.clear(),this.mutationCache.clear()}}function jv(a){let e;const r=a[5].default,i=Wt(r,a,a[4],null);return{c(){i&&i.c()},l(t){i&&i.l(t)},m(t,n){i&&i.m(t,n),e=!0},p(t,[n]){i&&i.p&&(!e||n&16)&&Kt(i,r,t,t[4],e?$t(r,t[4],n,null):Xt(t[4]),null)},i(t){e||(rt(i,t),e=!0)},o(t){dt(i,t),e=!1},d(t){i&&i.d(t)}}}function Gv(a,e,r){let{$$slots:i={},$$scope:t}=e,{queryCache:n=new Rc}=e,{mutationCache:s=new Mc}=e,{defaultOptions:o={}}=e,{client:u=new Hv({queryCache:n,mutationCache:s,defaultOptions:o})}=e;return ma(()=>{u.mount()}),fv("queryClient",u),io(()=>{u.unmount()}),a.$$set=l=>{"queryCache"in l&&r(0,n=l.queryCache),"mutationCache"in l&&r(1,s=l.mutationCache),"defaultOptions"in l&&r(2,o=l.defaultOptions),"client"in l&&r(3,u=l.client),"$$scope"in l&&r(4,t=l.$$scope)},[n,s,o,u,t,i]}class T1 extends xa{constructor(e){super();ba(this,e,Gv,jv,Wi,{queryCache:0,mutationCache:1,defaultOptions:2,client:3})}}function zv(){const a=hv("queryClient");if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a}function Uc(a){return a.optimisticResults=!0,a.onError&&(a.onError=ke.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=ke.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=ke.batchCalls(a.onSettled)),a}function b1(a,e,r){const i=Yi(a,e,r),t=zv();let n=t.defaultQueryObserverOptions(i);n=Uc(n);const s=new Lv(t,n),{subscribe:o}=Tv(s.getCurrentResult(),d=>s.subscribe(ke.batchCalls(d)));s.updateResult();function u(d,h,v){const T=Yi(d,h,v);let x=t.defaultQueryObserverOptions(T);x=Uc(x),s.hasListeners()&&s.setOptions(x)}function l(d){s.updateOptions(d)}function c(d){l({enabled:d})}return{subscribe:o,setOptions:u,updateOptions:l,setEnabled:c}}var x1=Wv;function Wv(a,e,r){var i=null,t=null,n=function(){i&&(clearTimeout(i),t=null,i=null)},s=function(){var u=t;n(),u&&u()},o=function(){if(!e)return a.apply(this,arguments);var u=this,l=arguments,c=r&&!i;if(n(),t=function(){a.apply(u,l)},i=setTimeout(function(){if(i=null,!c){var d=t;return t=null,d()}},e),c)return t()};return o.cancel=n,o.flush=s,o}function qc(a,e,r){const i=a.slice();return i[23]=e[r],i}const $v=a=>({item:a&16}),Vc=a=>({item:a[23].data});function Kv(a){let e;return{c(){e=fa("Missing template")},l(r){e=vc(r,"Missing template")},m(r,i){Ct(r,e,i)},d(r){r&&Te(e)}}}function Hc(a,e){let r,i,t;const n=e[14].default,s=Wt(n,e,e[13],Vc),o=s||Kv();return{key:a,first:null,c(){r=ct("svelte-virtual-list-row"),o&&o.c(),i=Qt(),this.h()},l(u){r=Dt(u,"SVELTE-VIRTUAL-LIST-ROW",{class:!0});var l=yt(r);o&&o.l(l),i=Yt(l),l.forEach(Te),this.h()},h(){ro(r,"class","svelte-1tqh76q"),this.first=r},m(u,l){Ct(u,r,l),o&&o.m(r,null),Et(r,i),t=!0},p(u,l){e=u,s&&s.p&&(!t||l&8208)&&Kt(s,n,e,e[13],t?$t(n,e[13],l,$v):Xt(e[13]),Vc)},i(u){t||(rt(o,u),t=!0)},o(u){dt(o,u),t=!1},d(u){u&&Te(r),o&&o.d(u)}}}function Xv(a){let e,r,i=[],t=new Map,n,s,o,u,l=a[4];const c=d=>d[23].index;for(let d=0;d<l.length;d+=1){let h=qc(a,l,d),v=c(h);t.set(v,i[d]=Hc(v,h))}return{c(){e=ct("svelte-virtual-list-viewport"),r=ct("svelte-virtual-list-contents");for(let d=0;d<i.length;d+=1)i[d].c();this.h()},l(d){e=Dt(d,"SVELTE-VIRTUAL-LIST-VIEWPORT",{style:!0,class:!0});var h=yt(e);r=Dt(h,"SVELTE-VIRTUAL-LIST-CONTENTS",{style:!0,class:!0});var v=yt(r);for(let T=0;T<i.length;T+=1)i[T].l(v);v.forEach(Te),h.forEach(Te),this.h()},h(){ii(r,"padding-top",a[5]+"px"),ii(r,"padding-bottom",a[6]+"px"),ro(r,"class","svelte-1tqh76q"),ii(e,"height",a[0]),ro(e,"class","svelte-1tqh76q"),ya(()=>a[17].call(e))},m(d,h){Ct(d,e,h),Et(e,r);for(let v=0;v<i.length;v+=1)i[v].m(r,null);a[15](r),a[16](e),n=uv(e,a[17].bind(e)),s=!0,o||(u=to(e,"scroll",a[7]),o=!0)},p(d,[h]){h&8208&&(l=d[4],xc(),i=gv(i,h,c,1,d,l,t,r,mv,Hc,null,qc),Sc()),(!s||h&32)&&ii(r,"padding-top",d[5]+"px"),(!s||h&64)&&ii(r,"padding-bottom",d[6]+"px"),(!s||h&1)&&ii(e,"height",d[0])},i(d){if(!s){for(let h=0;h<l.length;h+=1)rt(i[h]);s=!0}},o(d){for(let h=0;h<i.length;h+=1)dt(i[h]);s=!1},d(d){d&&Te(e);for(let h=0;h<i.length;h+=1)i[h].d();a[15](null),a[16](null),n(),o=!1,u()}}}function Qv(a,e,r){let{$$slots:i={},$$scope:t}=e,{items:n}=e,{height:s="100%"}=e,{itemHeight:o=void 0}=e,{start:u=0}=e,{end:l=0}=e,c=[],d,h,v,T=0,x,y,E=0,D=0,A;async function L(R,U,G){const{scrollTop:Y}=h;await va();let te=E-Y,H=u;for(;te<U&&H<R.length;){let X=d[H-u];X||(r(9,l=H+1),await va(),X=d[H-u]),te+=c[H]=G||X.offsetHeight,H+=1}r(9,l=H);const K=R.length-l;A=(E+te)/l,r(6,D=K*A),c.length=R.length}async function O(){const{scrollTop:R}=h,U=u;for(let H=0;H<d.length;H+=1)c[u+H]=o||d[H].offsetHeight;let G=0,Y=0;for(;G<n.length;){const H=c[G]||A;if(Y+H>R){r(8,u=G),r(5,E=Y);break}Y+=H,G+=1}for(;G<n.length&&(Y+=c[G]||A,G+=1,!(Y>R+T)););r(9,l=G);const te=n.length-l;for(A=Y/l;G<n.length;)c[G++]=A;if(r(6,D=te*A),u<U){await va();let H=0,K=0;for(let ae=u;ae<U;ae+=1)d[ae-u]&&(H+=c[ae],K+=o||d[ae-u].offsetHeight);const X=K-H;h.scrollTo(0,R+X)}}ma(()=>{d=v.getElementsByTagName("svelte-virtual-list-row"),r(12,y=!0)});function N(R){Rt[R?"unshift":"push"](()=>{v=R,r(3,v)})}function V(R){Rt[R?"unshift":"push"](()=>{h=R,r(2,h)})}function M(){T=this.offsetHeight,r(1,T)}return a.$$set=R=>{"items"in R&&r(10,n=R.items),"height"in R&&r(0,s=R.height),"itemHeight"in R&&r(11,o=R.itemHeight),"start"in R&&r(8,u=R.start),"end"in R&&r(9,l=R.end),"$$scope"in R&&r(13,t=R.$$scope)},a.$$.update=()=>{a.$$.dirty&1792&&r(4,x=n.slice(u,l).map((R,U)=>({index:U+u,data:R}))),a.$$.dirty&7170&&y&&L(n,T,o)},[s,T,h,v,x,E,D,O,u,l,n,o,y,t,i,N,V,M]}class S1 extends xa{constructor(e){super();ba(this,e,Qv,Xv,Wi,{items:10,height:0,itemHeight:11,start:8,end:9})}}var mr=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function ho(a){if(a.__esModule)return a;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(a).forEach(function(r){var i=Object.getOwnPropertyDescriptor(a,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return a[r]}})}),e}var po={exports:{}};/*! https://mths.be/he v1.2.0 by @mathias | MIT license */(function(a,e){(function(r){var i=e,t=a&&a.exports==i&&a,n=typeof mr=="object"&&mr;(n.global===n||n.window===n)&&(r=n);var s=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,o=/[\x01-\x7F]/g,u=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,l=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,c={"\xAD":"shy","\u200C":"zwnj","\u200D":"zwj","\u200E":"lrm","\u2063":"ic","\u2062":"it","\u2061":"af","\u200F":"rlm","\u200B":"ZeroWidthSpace","\u2060":"NoBreak","\u0311":"DownBreve","\u20DB":"tdot","\u20DC":"DotDot","	":"Tab","\n":"NewLine","\u2008":"puncsp","\u205F":"MediumSpace","\u2009":"thinsp","\u200A":"hairsp","\u2004":"emsp13","\u2002":"ensp","\u2005":"emsp14","\u2003":"emsp","\u2007":"numsp","\xA0":"nbsp","\u205F\u200A":"ThickSpace","\u203E":"oline",_:"lowbar","\u2010":"dash","\u2013":"ndash","\u2014":"mdash","\u2015":"horbar",",":"comma",";":"semi","\u204F":"bsemi",":":"colon","\u2A74":"Colone","!":"excl","\xA1":"iexcl","?":"quest","\xBF":"iquest",".":"period","\u2025":"nldr","\u2026":"mldr","\xB7":"middot","'":"apos","\u2018":"lsquo","\u2019":"rsquo","\u201A":"sbquo","\u2039":"lsaquo","\u203A":"rsaquo",'"':"quot","\u201C":"ldquo","\u201D":"rdquo","\u201E":"bdquo","\xAB":"laquo","\xBB":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","\u2308":"lceil","\u2309":"rceil","\u230A":"lfloor","\u230B":"rfloor","\u2985":"lopar","\u2986":"ropar","\u298B":"lbrke","\u298C":"rbrke","\u298D":"lbrkslu","\u298E":"rbrksld","\u298F":"lbrksld","\u2990":"rbrkslu","\u2991":"langd","\u2992":"rangd","\u2993":"lparlt","\u2994":"rpargt","\u2995":"gtlPar","\u2996":"ltrPar","\u27E6":"lobrk","\u27E7":"robrk","\u27E8":"lang","\u27E9":"rang","\u27EA":"Lang","\u27EB":"Rang","\u27EC":"loang","\u27ED":"roang","\u2772":"lbbrk","\u2773":"rbbrk","\u2016":"Vert","\xA7":"sect","\xB6":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","\u2030":"permil","\u2031":"pertenk","\u2020":"dagger","\u2021":"Dagger","\u2022":"bull","\u2043":"hybull","\u2032":"prime","\u2033":"Prime","\u2034":"tprime","\u2057":"qprime","\u2035":"bprime","\u2041":"caret","`":"grave","\xB4":"acute","\u02DC":"tilde","^":"Hat","\xAF":"macr","\u02D8":"breve","\u02D9":"dot","\xA8":"die","\u02DA":"ring","\u02DD":"dblac","\xB8":"cedil","\u02DB":"ogon","\u02C6":"circ","\u02C7":"caron","\xB0":"deg","\xA9":"copy","\xAE":"reg","\u2117":"copysr","\u2118":"wp","\u211E":"rx","\u2127":"mho","\u2129":"iiota","\u2190":"larr","\u219A":"nlarr","\u2192":"rarr","\u219B":"nrarr","\u2191":"uarr","\u2193":"darr","\u2194":"harr","\u21AE":"nharr","\u2195":"varr","\u2196":"nwarr","\u2197":"nearr","\u2198":"searr","\u2199":"swarr","\u219D":"rarrw","\u219D\u0338":"nrarrw","\u219E":"Larr","\u219F":"Uarr","\u21A0":"Rarr","\u21A1":"Darr","\u21A2":"larrtl","\u21A3":"rarrtl","\u21A4":"mapstoleft","\u21A5":"mapstoup","\u21A6":"map","\u21A7":"mapstodown","\u21A9":"larrhk","\u21AA":"rarrhk","\u21AB":"larrlp","\u21AC":"rarrlp","\u21AD":"harrw","\u21B0":"lsh","\u21B1":"rsh","\u21B2":"ldsh","\u21B3":"rdsh","\u21B5":"crarr","\u21B6":"cularr","\u21B7":"curarr","\u21BA":"olarr","\u21BB":"orarr","\u21BC":"lharu","\u21BD":"lhard","\u21BE":"uharr","\u21BF":"uharl","\u21C0":"rharu","\u21C1":"rhard","\u21C2":"dharr","\u21C3":"dharl","\u21C4":"rlarr","\u21C5":"udarr","\u21C6":"lrarr","\u21C7":"llarr","\u21C8":"uuarr","\u21C9":"rrarr","\u21CA":"ddarr","\u21CB":"lrhar","\u21CC":"rlhar","\u21D0":"lArr","\u21CD":"nlArr","\u21D1":"uArr","\u21D2":"rArr","\u21CF":"nrArr","\u21D3":"dArr","\u21D4":"iff","\u21CE":"nhArr","\u21D5":"vArr","\u21D6":"nwArr","\u21D7":"neArr","\u21D8":"seArr","\u21D9":"swArr","\u21DA":"lAarr","\u21DB":"rAarr","\u21DD":"zigrarr","\u21E4":"larrb","\u21E5":"rarrb","\u21F5":"duarr","\u21FD":"loarr","\u21FE":"roarr","\u21FF":"hoarr","\u2200":"forall","\u2201":"comp","\u2202":"part","\u2202\u0338":"npart","\u2203":"exist","\u2204":"nexist","\u2205":"empty","\u2207":"Del","\u2208":"in","\u2209":"notin","\u220B":"ni","\u220C":"notni","\u03F6":"bepsi","\u220F":"prod","\u2210":"coprod","\u2211":"sum","+":"plus","\xB1":"pm","\xF7":"div","\xD7":"times","<":"lt","\u226E":"nlt","<\u20D2":"nvlt","=":"equals","\u2260":"ne","=\u20E5":"bne","\u2A75":"Equal",">":"gt","\u226F":"ngt",">\u20D2":"nvgt","\xAC":"not","|":"vert","\xA6":"brvbar","\u2212":"minus","\u2213":"mp","\u2214":"plusdo","\u2044":"frasl","\u2216":"setmn","\u2217":"lowast","\u2218":"compfn","\u221A":"Sqrt","\u221D":"prop","\u221E":"infin","\u221F":"angrt","\u2220":"ang","\u2220\u20D2":"nang","\u2221":"angmsd","\u2222":"angsph","\u2223":"mid","\u2224":"nmid","\u2225":"par","\u2226":"npar","\u2227":"and","\u2228":"or","\u2229":"cap","\u2229\uFE00":"caps","\u222A":"cup","\u222A\uFE00":"cups","\u222B":"int","\u222C":"Int","\u222D":"tint","\u2A0C":"qint","\u222E":"oint","\u222F":"Conint","\u2230":"Cconint","\u2231":"cwint","\u2232":"cwconint","\u2233":"awconint","\u2234":"there4","\u2235":"becaus","\u2236":"ratio","\u2237":"Colon","\u2238":"minusd","\u223A":"mDDot","\u223B":"homtht","\u223C":"sim","\u2241":"nsim","\u223C\u20D2":"nvsim","\u223D":"bsim","\u223D\u0331":"race","\u223E":"ac","\u223E\u0333":"acE","\u223F":"acd","\u2240":"wr","\u2242":"esim","\u2242\u0338":"nesim","\u2243":"sime","\u2244":"nsime","\u2245":"cong","\u2247":"ncong","\u2246":"simne","\u2248":"ap","\u2249":"nap","\u224A":"ape","\u224B":"apid","\u224B\u0338":"napid","\u224C":"bcong","\u224D":"CupCap","\u226D":"NotCupCap","\u224D\u20D2":"nvap","\u224E":"bump","\u224E\u0338":"nbump","\u224F":"bumpe","\u224F\u0338":"nbumpe","\u2250":"doteq","\u2250\u0338":"nedot","\u2251":"eDot","\u2252":"efDot","\u2253":"erDot","\u2254":"colone","\u2255":"ecolon","\u2256":"ecir","\u2257":"cire","\u2259":"wedgeq","\u225A":"veeeq","\u225C":"trie","\u225F":"equest","\u2261":"equiv","\u2262":"nequiv","\u2261\u20E5":"bnequiv","\u2264":"le","\u2270":"nle","\u2264\u20D2":"nvle","\u2265":"ge","\u2271":"nge","\u2265\u20D2":"nvge","\u2266":"lE","\u2266\u0338":"nlE","\u2267":"gE","\u2267\u0338":"ngE","\u2268\uFE00":"lvnE","\u2268":"lnE","\u2269":"gnE","\u2269\uFE00":"gvnE","\u226A":"ll","\u226A\u0338":"nLtv","\u226A\u20D2":"nLt","\u226B":"gg","\u226B\u0338":"nGtv","\u226B\u20D2":"nGt","\u226C":"twixt","\u2272":"lsim","\u2274":"nlsim","\u2273":"gsim","\u2275":"ngsim","\u2276":"lg","\u2278":"ntlg","\u2277":"gl","\u2279":"ntgl","\u227A":"pr","\u2280":"npr","\u227B":"sc","\u2281":"nsc","\u227C":"prcue","\u22E0":"nprcue","\u227D":"sccue","\u22E1":"nsccue","\u227E":"prsim","\u227F":"scsim","\u227F\u0338":"NotSucceedsTilde","\u2282":"sub","\u2284":"nsub","\u2282\u20D2":"vnsub","\u2283":"sup","\u2285":"nsup","\u2283\u20D2":"vnsup","\u2286":"sube","\u2288":"nsube","\u2287":"supe","\u2289":"nsupe","\u228A\uFE00":"vsubne","\u228A":"subne","\u228B\uFE00":"vsupne","\u228B":"supne","\u228D":"cupdot","\u228E":"uplus","\u228F":"sqsub","\u228F\u0338":"NotSquareSubset","\u2290":"sqsup","\u2290\u0338":"NotSquareSuperset","\u2291":"sqsube","\u22E2":"nsqsube","\u2292":"sqsupe","\u22E3":"nsqsupe","\u2293":"sqcap","\u2293\uFE00":"sqcaps","\u2294":"sqcup","\u2294\uFE00":"sqcups","\u2295":"oplus","\u2296":"ominus","\u2297":"otimes","\u2298":"osol","\u2299":"odot","\u229A":"ocir","\u229B":"oast","\u229D":"odash","\u229E":"plusb","\u229F":"minusb","\u22A0":"timesb","\u22A1":"sdotb","\u22A2":"vdash","\u22AC":"nvdash","\u22A3":"dashv","\u22A4":"top","\u22A5":"bot","\u22A7":"models","\u22A8":"vDash","\u22AD":"nvDash","\u22A9":"Vdash","\u22AE":"nVdash","\u22AA":"Vvdash","\u22AB":"VDash","\u22AF":"nVDash","\u22B0":"prurel","\u22B2":"vltri","\u22EA":"nltri","\u22B3":"vrtri","\u22EB":"nrtri","\u22B4":"ltrie","\u22EC":"nltrie","\u22B4\u20D2":"nvltrie","\u22B5":"rtrie","\u22ED":"nrtrie","\u22B5\u20D2":"nvrtrie","\u22B6":"origof","\u22B7":"imof","\u22B8":"mumap","\u22B9":"hercon","\u22BA":"intcal","\u22BB":"veebar","\u22BD":"barvee","\u22BE":"angrtvb","\u22BF":"lrtri","\u22C0":"Wedge","\u22C1":"Vee","\u22C2":"xcap","\u22C3":"xcup","\u22C4":"diam","\u22C5":"sdot","\u22C6":"Star","\u22C7":"divonx","\u22C8":"bowtie","\u22C9":"ltimes","\u22CA":"rtimes","\u22CB":"lthree","\u22CC":"rthree","\u22CD":"bsime","\u22CE":"cuvee","\u22CF":"cuwed","\u22D0":"Sub","\u22D1":"Sup","\u22D2":"Cap","\u22D3":"Cup","\u22D4":"fork","\u22D5":"epar","\u22D6":"ltdot","\u22D7":"gtdot","\u22D8":"Ll","\u22D8\u0338":"nLl","\u22D9":"Gg","\u22D9\u0338":"nGg","\u22DA\uFE00":"lesg","\u22DA":"leg","\u22DB":"gel","\u22DB\uFE00":"gesl","\u22DE":"cuepr","\u22DF":"cuesc","\u22E6":"lnsim","\u22E7":"gnsim","\u22E8":"prnsim","\u22E9":"scnsim","\u22EE":"vellip","\u22EF":"ctdot","\u22F0":"utdot","\u22F1":"dtdot","\u22F2":"disin","\u22F3":"isinsv","\u22F4":"isins","\u22F5":"isindot","\u22F5\u0338":"notindot","\u22F6":"notinvc","\u22F7":"notinvb","\u22F9":"isinE","\u22F9\u0338":"notinE","\u22FA":"nisd","\u22FB":"xnis","\u22FC":"nis","\u22FD":"notnivc","\u22FE":"notnivb","\u2305":"barwed","\u2306":"Barwed","\u230C":"drcrop","\u230D":"dlcrop","\u230E":"urcrop","\u230F":"ulcrop","\u2310":"bnot","\u2312":"profline","\u2313":"profsurf","\u2315":"telrec","\u2316":"target","\u231C":"ulcorn","\u231D":"urcorn","\u231E":"dlcorn","\u231F":"drcorn","\u2322":"frown","\u2323":"smile","\u232D":"cylcty","\u232E":"profalar","\u2336":"topbot","\u233D":"ovbar","\u233F":"solbar","\u237C":"angzarr","\u23B0":"lmoust","\u23B1":"rmoust","\u23B4":"tbrk","\u23B5":"bbrk","\u23B6":"bbrktbrk","\u23DC":"OverParenthesis","\u23DD":"UnderParenthesis","\u23DE":"OverBrace","\u23DF":"UnderBrace","\u23E2":"trpezium","\u23E7":"elinters","\u2423":"blank","\u2500":"boxh","\u2502":"boxv","\u250C":"boxdr","\u2510":"boxdl","\u2514":"boxur","\u2518":"boxul","\u251C":"boxvr","\u2524":"boxvl","\u252C":"boxhd","\u2534":"boxhu","\u253C":"boxvh","\u2550":"boxH","\u2551":"boxV","\u2552":"boxdR","\u2553":"boxDr","\u2554":"boxDR","\u2555":"boxdL","\u2556":"boxDl","\u2557":"boxDL","\u2558":"boxuR","\u2559":"boxUr","\u255A":"boxUR","\u255B":"boxuL","\u255C":"boxUl","\u255D":"boxUL","\u255E":"boxvR","\u255F":"boxVr","\u2560":"boxVR","\u2561":"boxvL","\u2562":"boxVl","\u2563":"boxVL","\u2564":"boxHd","\u2565":"boxhD","\u2566":"boxHD","\u2567":"boxHu","\u2568":"boxhU","\u2569":"boxHU","\u256A":"boxvH","\u256B":"boxVh","\u256C":"boxVH","\u2580":"uhblk","\u2584":"lhblk","\u2588":"block","\u2591":"blk14","\u2592":"blk12","\u2593":"blk34","\u25A1":"squ","\u25AA":"squf","\u25AB":"EmptyVerySmallSquare","\u25AD":"rect","\u25AE":"marker","\u25B1":"fltns","\u25B3":"xutri","\u25B4":"utrif","\u25B5":"utri","\u25B8":"rtrif","\u25B9":"rtri","\u25BD":"xdtri","\u25BE":"dtrif","\u25BF":"dtri","\u25C2":"ltrif","\u25C3":"ltri","\u25CA":"loz","\u25CB":"cir","\u25EC":"tridot","\u25EF":"xcirc","\u25F8":"ultri","\u25F9":"urtri","\u25FA":"lltri","\u25FB":"EmptySmallSquare","\u25FC":"FilledSmallSquare","\u2605":"starf","\u2606":"star","\u260E":"phone","\u2640":"female","\u2642":"male","\u2660":"spades","\u2663":"clubs","\u2665":"hearts","\u2666":"diams","\u266A":"sung","\u2713":"check","\u2717":"cross","\u2720":"malt","\u2736":"sext","\u2758":"VerticalSeparator","\u27C8":"bsolhsub","\u27C9":"suphsol","\u27F5":"xlarr","\u27F6":"xrarr","\u27F7":"xharr","\u27F8":"xlArr","\u27F9":"xrArr","\u27FA":"xhArr","\u27FC":"xmap","\u27FF":"dzigrarr","\u2902":"nvlArr","\u2903":"nvrArr","\u2904":"nvHarr","\u2905":"Map","\u290C":"lbarr","\u290D":"rbarr","\u290E":"lBarr","\u290F":"rBarr","\u2910":"RBarr","\u2911":"DDotrahd","\u2912":"UpArrowBar","\u2913":"DownArrowBar","\u2916":"Rarrtl","\u2919":"latail","\u291A":"ratail","\u291B":"lAtail","\u291C":"rAtail","\u291D":"larrfs","\u291E":"rarrfs","\u291F":"larrbfs","\u2920":"rarrbfs","\u2923":"nwarhk","\u2924":"nearhk","\u2925":"searhk","\u2926":"swarhk","\u2927":"nwnear","\u2928":"toea","\u2929":"tosa","\u292A":"swnwar","\u2933":"rarrc","\u2933\u0338":"nrarrc","\u2935":"cudarrr","\u2936":"ldca","\u2937":"rdca","\u2938":"cudarrl","\u2939":"larrpl","\u293C":"curarrm","\u293D":"cularrp","\u2945":"rarrpl","\u2948":"harrcir","\u2949":"Uarrocir","\u294A":"lurdshar","\u294B":"ldrushar","\u294E":"LeftRightVector","\u294F":"RightUpDownVector","\u2950":"DownLeftRightVector","\u2951":"LeftUpDownVector","\u2952":"LeftVectorBar","\u2953":"RightVectorBar","\u2954":"RightUpVectorBar","\u2955":"RightDownVectorBar","\u2956":"DownLeftVectorBar","\u2957":"DownRightVectorBar","\u2958":"LeftUpVectorBar","\u2959":"LeftDownVectorBar","\u295A":"LeftTeeVector","\u295B":"RightTeeVector","\u295C":"RightUpTeeVector","\u295D":"RightDownTeeVector","\u295E":"DownLeftTeeVector","\u295F":"DownRightTeeVector","\u2960":"LeftUpTeeVector","\u2961":"LeftDownTeeVector","\u2962":"lHar","\u2963":"uHar","\u2964":"rHar","\u2965":"dHar","\u2966":"luruhar","\u2967":"ldrdhar","\u2968":"ruluhar","\u2969":"rdldhar","\u296A":"lharul","\u296B":"llhard","\u296C":"rharul","\u296D":"lrhard","\u296E":"udhar","\u296F":"duhar","\u2970":"RoundImplies","\u2971":"erarr","\u2972":"simrarr","\u2973":"larrsim","\u2974":"rarrsim","\u2975":"rarrap","\u2976":"ltlarr","\u2978":"gtrarr","\u2979":"subrarr","\u297B":"suplarr","\u297C":"lfisht","\u297D":"rfisht","\u297E":"ufisht","\u297F":"dfisht","\u299A":"vzigzag","\u299C":"vangrt","\u299D":"angrtvbd","\u29A4":"ange","\u29A5":"range","\u29A6":"dwangle","\u29A7":"uwangle","\u29A8":"angmsdaa","\u29A9":"angmsdab","\u29AA":"angmsdac","\u29AB":"angmsdad","\u29AC":"angmsdae","\u29AD":"angmsdaf","\u29AE":"angmsdag","\u29AF":"angmsdah","\u29B0":"bemptyv","\u29B1":"demptyv","\u29B2":"cemptyv","\u29B3":"raemptyv","\u29B4":"laemptyv","\u29B5":"ohbar","\u29B6":"omid","\u29B7":"opar","\u29B9":"operp","\u29BB":"olcross","\u29BC":"odsold","\u29BE":"olcir","\u29BF":"ofcir","\u29C0":"olt","\u29C1":"ogt","\u29C2":"cirscir","\u29C3":"cirE","\u29C4":"solb","\u29C5":"bsolb","\u29C9":"boxbox","\u29CD":"trisb","\u29CE":"rtriltri","\u29CF":"LeftTriangleBar","\u29CF\u0338":"NotLeftTriangleBar","\u29D0":"RightTriangleBar","\u29D0\u0338":"NotRightTriangleBar","\u29DC":"iinfin","\u29DD":"infintie","\u29DE":"nvinfin","\u29E3":"eparsl","\u29E4":"smeparsl","\u29E5":"eqvparsl","\u29EB":"lozf","\u29F4":"RuleDelayed","\u29F6":"dsol","\u2A00":"xodot","\u2A01":"xoplus","\u2A02":"xotime","\u2A04":"xuplus","\u2A06":"xsqcup","\u2A0D":"fpartint","\u2A10":"cirfnint","\u2A11":"awint","\u2A12":"rppolint","\u2A13":"scpolint","\u2A14":"npolint","\u2A15":"pointint","\u2A16":"quatint","\u2A17":"intlarhk","\u2A22":"pluscir","\u2A23":"plusacir","\u2A24":"simplus","\u2A25":"plusdu","\u2A26":"plussim","\u2A27":"plustwo","\u2A29":"mcomma","\u2A2A":"minusdu","\u2A2D":"loplus","\u2A2E":"roplus","\u2A2F":"Cross","\u2A30":"timesd","\u2A31":"timesbar","\u2A33":"smashp","\u2A34":"lotimes","\u2A35":"rotimes","\u2A36":"otimesas","\u2A37":"Otimes","\u2A38":"odiv","\u2A39":"triplus","\u2A3A":"triminus","\u2A3B":"tritime","\u2A3C":"iprod","\u2A3F":"amalg","\u2A40":"capdot","\u2A42":"ncup","\u2A43":"ncap","\u2A44":"capand","\u2A45":"cupor","\u2A46":"cupcap","\u2A47":"capcup","\u2A48":"cupbrcap","\u2A49":"capbrcup","\u2A4A":"cupcup","\u2A4B":"capcap","\u2A4C":"ccups","\u2A4D":"ccaps","\u2A50":"ccupssm","\u2A53":"And","\u2A54":"Or","\u2A55":"andand","\u2A56":"oror","\u2A57":"orslope","\u2A58":"andslope","\u2A5A":"andv","\u2A5B":"orv","\u2A5C":"andd","\u2A5D":"ord","\u2A5F":"wedbar","\u2A66":"sdote","\u2A6A":"simdot","\u2A6D":"congdot","\u2A6D\u0338":"ncongdot","\u2A6E":"easter","\u2A6F":"apacir","\u2A70":"apE","\u2A70\u0338":"napE","\u2A71":"eplus","\u2A72":"pluse","\u2A73":"Esim","\u2A77":"eDDot","\u2A78":"equivDD","\u2A79":"ltcir","\u2A7A":"gtcir","\u2A7B":"ltquest","\u2A7C":"gtquest","\u2A7D":"les","\u2A7D\u0338":"nles","\u2A7E":"ges","\u2A7E\u0338":"nges","\u2A7F":"lesdot","\u2A80":"gesdot","\u2A81":"lesdoto","\u2A82":"gesdoto","\u2A83":"lesdotor","\u2A84":"gesdotol","\u2A85":"lap","\u2A86":"gap","\u2A87":"lne","\u2A88":"gne","\u2A89":"lnap","\u2A8A":"gnap","\u2A8B":"lEg","\u2A8C":"gEl","\u2A8D":"lsime","\u2A8E":"gsime","\u2A8F":"lsimg","\u2A90":"gsiml","\u2A91":"lgE","\u2A92":"glE","\u2A93":"lesges","\u2A94":"gesles","\u2A95":"els","\u2A96":"egs","\u2A97":"elsdot","\u2A98":"egsdot","\u2A99":"el","\u2A9A":"eg","\u2A9D":"siml","\u2A9E":"simg","\u2A9F":"simlE","\u2AA0":"simgE","\u2AA1":"LessLess","\u2AA1\u0338":"NotNestedLessLess","\u2AA2":"GreaterGreater","\u2AA2\u0338":"NotNestedGreaterGreater","\u2AA4":"glj","\u2AA5":"gla","\u2AA6":"ltcc","\u2AA7":"gtcc","\u2AA8":"lescc","\u2AA9":"gescc","\u2AAA":"smt","\u2AAB":"lat","\u2AAC":"smte","\u2AAC\uFE00":"smtes","\u2AAD":"late","\u2AAD\uFE00":"lates","\u2AAE":"bumpE","\u2AAF":"pre","\u2AAF\u0338":"npre","\u2AB0":"sce","\u2AB0\u0338":"nsce","\u2AB3":"prE","\u2AB4":"scE","\u2AB5":"prnE","\u2AB6":"scnE","\u2AB7":"prap","\u2AB8":"scap","\u2AB9":"prnap","\u2ABA":"scnap","\u2ABB":"Pr","\u2ABC":"Sc","\u2ABD":"subdot","\u2ABE":"supdot","\u2ABF":"subplus","\u2AC0":"supplus","\u2AC1":"submult","\u2AC2":"supmult","\u2AC3":"subedot","\u2AC4":"supedot","\u2AC5":"subE","\u2AC5\u0338":"nsubE","\u2AC6":"supE","\u2AC6\u0338":"nsupE","\u2AC7":"subsim","\u2AC8":"supsim","\u2ACB\uFE00":"vsubnE","\u2ACB":"subnE","\u2ACC\uFE00":"vsupnE","\u2ACC":"supnE","\u2ACF":"csub","\u2AD0":"csup","\u2AD1":"csube","\u2AD2":"csupe","\u2AD3":"subsup","\u2AD4":"supsub","\u2AD5":"subsub","\u2AD6":"supsup","\u2AD7":"suphsub","\u2AD8":"supdsub","\u2AD9":"forkv","\u2ADA":"topfork","\u2ADB":"mlcp","\u2AE4":"Dashv","\u2AE6":"Vdashl","\u2AE7":"Barv","\u2AE8":"vBar","\u2AE9":"vBarv","\u2AEB":"Vbar","\u2AEC":"Not","\u2AED":"bNot","\u2AEE":"rnmid","\u2AEF":"cirmid","\u2AF0":"midcir","\u2AF1":"topcir","\u2AF2":"nhpar","\u2AF3":"parsim","\u2AFD":"parsl","\u2AFD\u20E5":"nparsl","\u266D":"flat","\u266E":"natur","\u266F":"sharp","\xA4":"curren","\xA2":"cent",$:"dollar","\xA3":"pound","\xA5":"yen","\u20AC":"euro","\xB9":"sup1","\xBD":"half","\u2153":"frac13","\xBC":"frac14","\u2155":"frac15","\u2159":"frac16","\u215B":"frac18","\xB2":"sup2","\u2154":"frac23","\u2156":"frac25","\xB3":"sup3","\xBE":"frac34","\u2157":"frac35","\u215C":"frac38","\u2158":"frac45","\u215A":"frac56","\u215D":"frac58","\u215E":"frac78","\u{1D4B6}":"ascr","\u{1D552}":"aopf","\u{1D51E}":"afr","\u{1D538}":"Aopf","\u{1D504}":"Afr","\u{1D49C}":"Ascr",\u00AA:"ordf",\u00E1:"aacute",\u00C1:"Aacute",\u00E0:"agrave",\u00C0:"Agrave",\u0103:"abreve",\u0102:"Abreve",\u00E2:"acirc",\u00C2:"Acirc",\u00E5:"aring",\u00C5:"angst",\u00E4:"auml",\u00C4:"Auml",\u00E3:"atilde",\u00C3:"Atilde",\u0105:"aogon",\u0104:"Aogon",\u0101:"amacr",\u0100:"Amacr",\u00E6:"aelig",\u00C6:"AElig","\u{1D4B7}":"bscr","\u{1D553}":"bopf","\u{1D51F}":"bfr","\u{1D539}":"Bopf",\u212C:"Bscr","\u{1D505}":"Bfr","\u{1D520}":"cfr","\u{1D4B8}":"cscr","\u{1D554}":"copf",\u212D:"Cfr","\u{1D49E}":"Cscr",\u2102:"Copf",\u0107:"cacute",\u0106:"Cacute",\u0109:"ccirc",\u0108:"Ccirc",\u010D:"ccaron",\u010C:"Ccaron",\u010B:"cdot",\u010A:"Cdot",\u00E7:"ccedil",\u00C7:"Ccedil","\u2105":"incare","\u{1D521}":"dfr","\u2146":"dd","\u{1D555}":"dopf","\u{1D4B9}":"dscr","\u{1D49F}":"Dscr","\u{1D507}":"Dfr","\u2145":"DD","\u{1D53B}":"Dopf",\u010F:"dcaron",\u010E:"Dcaron",\u0111:"dstrok",\u0110:"Dstrok",\u00F0:"eth",\u00D0:"ETH","\u2147":"ee",\u212F:"escr","\u{1D522}":"efr","\u{1D556}":"eopf",\u2130:"Escr","\u{1D508}":"Efr","\u{1D53C}":"Eopf",\u00E9:"eacute",\u00C9:"Eacute",\u00E8:"egrave",\u00C8:"Egrave",\u00EA:"ecirc",\u00CA:"Ecirc",\u011B:"ecaron",\u011A:"Ecaron",\u00EB:"euml",\u00CB:"Euml",\u0117:"edot",\u0116:"Edot",\u0119:"eogon",\u0118:"Eogon",\u0113:"emacr",\u0112:"Emacr","\u{1D523}":"ffr","\u{1D557}":"fopf","\u{1D4BB}":"fscr","\u{1D509}":"Ffr","\u{1D53D}":"Fopf",\u2131:"Fscr",\uFB00:"fflig",\uFB03:"ffilig",\uFB04:"ffllig",\uFB01:"filig",fj:"fjlig",\uFB02:"fllig",\u0192:"fnof",\u210A:"gscr","\u{1D558}":"gopf","\u{1D524}":"gfr","\u{1D4A2}":"Gscr","\u{1D53E}":"Gopf","\u{1D50A}":"Gfr",\u01F5:"gacute",\u011F:"gbreve",\u011E:"Gbreve",\u011D:"gcirc",\u011C:"Gcirc",\u0121:"gdot",\u0120:"Gdot",\u0122:"Gcedil","\u{1D525}":"hfr",\u210E:"planckh","\u{1D4BD}":"hscr","\u{1D559}":"hopf",\u210B:"Hscr",\u210C:"Hfr",\u210D:"Hopf",\u0125:"hcirc",\u0124:"Hcirc",\u210F:"hbar",\u0127:"hstrok",\u0126:"Hstrok","\u{1D55A}":"iopf","\u{1D526}":"ifr","\u{1D4BE}":"iscr","\u2148":"ii","\u{1D540}":"Iopf",\u2110:"Iscr",\u2111:"Im",\u00ED:"iacute",\u00CD:"Iacute",\u00EC:"igrave",\u00CC:"Igrave",\u00EE:"icirc",\u00CE:"Icirc",\u00EF:"iuml",\u00CF:"Iuml",\u0129:"itilde",\u0128:"Itilde",\u0130:"Idot",\u012F:"iogon",\u012E:"Iogon",\u012B:"imacr",\u012A:"Imacr",\u0133:"ijlig",\u0132:"IJlig",\u0131:"imath","\u{1D4BF}":"jscr","\u{1D55B}":"jopf","\u{1D527}":"jfr","\u{1D4A5}":"Jscr","\u{1D50D}":"Jfr","\u{1D541}":"Jopf",\u0135:"jcirc",\u0134:"Jcirc","\u0237":"jmath","\u{1D55C}":"kopf","\u{1D4C0}":"kscr","\u{1D528}":"kfr","\u{1D4A6}":"Kscr","\u{1D542}":"Kopf","\u{1D50E}":"Kfr",\u0137:"kcedil",\u0136:"Kcedil","\u{1D529}":"lfr","\u{1D4C1}":"lscr",\u2113:"ell","\u{1D55D}":"lopf",\u2112:"Lscr","\u{1D50F}":"Lfr","\u{1D543}":"Lopf",\u013A:"lacute",\u0139:"Lacute",\u013E:"lcaron",\u013D:"Lcaron",\u013C:"lcedil",\u013B:"Lcedil",\u0142:"lstrok",\u0141:"Lstrok",\u0140:"lmidot",\u013F:"Lmidot","\u{1D52A}":"mfr","\u{1D55E}":"mopf","\u{1D4C2}":"mscr","\u{1D510}":"Mfr","\u{1D544}":"Mopf",\u2133:"Mscr","\u{1D52B}":"nfr","\u{1D55F}":"nopf","\u{1D4C3}":"nscr",\u2115:"Nopf","\u{1D4A9}":"Nscr","\u{1D511}":"Nfr",\u0144:"nacute",\u0143:"Nacute",\u0148:"ncaron",\u0147:"Ncaron",\u00F1:"ntilde",\u00D1:"Ntilde",\u0146:"ncedil",\u0145:"Ncedil","\u2116":"numero",\u014B:"eng",\u014A:"ENG","\u{1D560}":"oopf","\u{1D52C}":"ofr",\u2134:"oscr","\u{1D4AA}":"Oscr","\u{1D512}":"Ofr","\u{1D546}":"Oopf",\u00BA:"ordm",\u00F3:"oacute",\u00D3:"Oacute",\u00F2:"ograve",\u00D2:"Ograve",\u00F4:"ocirc",\u00D4:"Ocirc",\u00F6:"ouml",\u00D6:"Ouml",\u0151:"odblac",\u0150:"Odblac",\u00F5:"otilde",\u00D5:"Otilde",\u00F8:"oslash",\u00D8:"Oslash",\u014D:"omacr",\u014C:"Omacr",\u0153:"oelig",\u0152:"OElig","\u{1D52D}":"pfr","\u{1D4C5}":"pscr","\u{1D561}":"popf",\u2119:"Popf","\u{1D513}":"Pfr","\u{1D4AB}":"Pscr","\u{1D562}":"qopf","\u{1D52E}":"qfr","\u{1D4C6}":"qscr","\u{1D4AC}":"Qscr","\u{1D514}":"Qfr",\u211A:"Qopf",\u0138:"kgreen","\u{1D52F}":"rfr","\u{1D563}":"ropf","\u{1D4C7}":"rscr",\u211B:"Rscr",\u211C:"Re",\u211D:"Ropf",\u0155:"racute",\u0154:"Racute",\u0159:"rcaron",\u0158:"Rcaron",\u0157:"rcedil",\u0156:"Rcedil","\u{1D564}":"sopf","\u{1D4C8}":"sscr","\u{1D530}":"sfr","\u{1D54A}":"Sopf","\u{1D516}":"Sfr","\u{1D4AE}":"Sscr","\u24C8":"oS",\u015B:"sacute",\u015A:"Sacute",\u015D:"scirc",\u015C:"Scirc",\u0161:"scaron",\u0160:"Scaron",\u015F:"scedil",\u015E:"Scedil",\u00DF:"szlig","\u{1D531}":"tfr","\u{1D4C9}":"tscr","\u{1D565}":"topf","\u{1D4AF}":"Tscr","\u{1D517}":"Tfr","\u{1D54B}":"Topf",\u0165:"tcaron",\u0164:"Tcaron",\u0163:"tcedil",\u0162:"Tcedil","\u2122":"trade",\u0167:"tstrok",\u0166:"Tstrok","\u{1D4CA}":"uscr","\u{1D566}":"uopf","\u{1D532}":"ufr","\u{1D54C}":"Uopf","\u{1D518}":"Ufr","\u{1D4B0}":"Uscr",\u00FA:"uacute",\u00DA:"Uacute",\u00F9:"ugrave",\u00D9:"Ugrave",\u016D:"ubreve",\u016C:"Ubreve",\u00FB:"ucirc",\u00DB:"Ucirc",\u016F:"uring",\u016E:"Uring",\u00FC:"uuml",\u00DC:"Uuml",\u0171:"udblac",\u0170:"Udblac",\u0169:"utilde",\u0168:"Utilde",\u0173:"uogon",\u0172:"Uogon",\u016B:"umacr",\u016A:"Umacr","\u{1D533}":"vfr","\u{1D567}":"vopf","\u{1D4CB}":"vscr","\u{1D519}":"Vfr","\u{1D54D}":"Vopf","\u{1D4B1}":"Vscr","\u{1D568}":"wopf","\u{1D4CC}":"wscr","\u{1D534}":"wfr","\u{1D4B2}":"Wscr","\u{1D54E}":"Wopf","\u{1D51A}":"Wfr",\u0175:"wcirc",\u0174:"Wcirc","\u{1D535}":"xfr","\u{1D4CD}":"xscr","\u{1D569}":"xopf","\u{1D54F}":"Xopf","\u{1D51B}":"Xfr","\u{1D4B3}":"Xscr","\u{1D536}":"yfr","\u{1D4CE}":"yscr","\u{1D56A}":"yopf","\u{1D4B4}":"Yscr","\u{1D51C}":"Yfr","\u{1D550}":"Yopf",\u00FD:"yacute",\u00DD:"Yacute",\u0177:"ycirc",\u0176:"Ycirc",\u00FF:"yuml",\u0178:"Yuml","\u{1D4CF}":"zscr","\u{1D537}":"zfr","\u{1D56B}":"zopf",\u2128:"Zfr",\u2124:"Zopf","\u{1D4B5}":"Zscr",\u017A:"zacute",\u0179:"Zacute",\u017E:"zcaron",\u017D:"Zcaron",\u017C:"zdot",\u017B:"Zdot",\u01B5:"imped",\u00FE:"thorn",\u00DE:"THORN",\u0149:"napos",\u03B1:"alpha",\u0391:"Alpha",\u03B2:"beta",\u0392:"Beta",\u03B3:"gamma",\u0393:"Gamma",\u03B4:"delta",\u0394:"Delta",\u03B5:"epsi","\u03F5":"epsiv",\u0395:"Epsilon",\u03DD:"gammad",\u03DC:"Gammad",\u03B6:"zeta",\u0396:"Zeta",\u03B7:"eta",\u0397:"Eta",\u03B8:"theta",\u03D1:"thetav",\u0398:"Theta",\u03B9:"iota",\u0399:"Iota",\u03BA:"kappa",\u03F0:"kappav",\u039A:"Kappa",\u03BB:"lambda",\u039B:"Lambda",\u03BC:"mu",\u00B5:"micro",\u039C:"Mu",\u03BD:"nu",\u039D:"Nu",\u03BE:"xi",\u039E:"Xi",\u03BF:"omicron",\u039F:"Omicron",\u03C0:"pi",\u03D6:"piv",\u03A0:"Pi",\u03C1:"rho",\u03F1:"rhov",\u03A1:"Rho",\u03C3:"sigma",\u03A3:"Sigma",\u03C2:"sigmaf",\u03C4:"tau",\u03A4:"Tau",\u03C5:"upsi",\u03A5:"Upsilon",\u03D2:"Upsi",\u03C6:"phi",\u03D5:"phiv",\u03A6:"Phi",\u03C7:"chi",\u03A7:"Chi",\u03C8:"psi",\u03A8:"Psi",\u03C9:"omega",\u03A9:"ohm",\u0430:"acy",\u0410:"Acy",\u0431:"bcy",\u0411:"Bcy",\u0432:"vcy",\u0412:"Vcy",\u0433:"gcy",\u0413:"Gcy",\u0453:"gjcy",\u0403:"GJcy",\u0434:"dcy",\u0414:"Dcy",\u0452:"djcy",\u0402:"DJcy",\u0435:"iecy",\u0415:"IEcy",\u0451:"iocy",\u0401:"IOcy",\u0454:"jukcy",\u0404:"Jukcy",\u0436:"zhcy",\u0416:"ZHcy",\u0437:"zcy",\u0417:"Zcy",\u0455:"dscy",\u0405:"DScy",\u0438:"icy",\u0418:"Icy",\u0456:"iukcy",\u0406:"Iukcy",\u0457:"yicy",\u0407:"YIcy",\u0439:"jcy",\u0419:"Jcy",\u0458:"jsercy",\u0408:"Jsercy",\u043A:"kcy",\u041A:"Kcy",\u045C:"kjcy",\u040C:"KJcy",\u043B:"lcy",\u041B:"Lcy",\u0459:"ljcy",\u0409:"LJcy",\u043C:"mcy",\u041C:"Mcy",\u043D:"ncy",\u041D:"Ncy",\u045A:"njcy",\u040A:"NJcy",\u043E:"ocy",\u041E:"Ocy",\u043F:"pcy",\u041F:"Pcy",\u0440:"rcy",\u0420:"Rcy",\u0441:"scy",\u0421:"Scy",\u0442:"tcy",\u0422:"Tcy",\u045B:"tshcy",\u040B:"TSHcy",\u0443:"ucy",\u0423:"Ucy",\u045E:"ubrcy",\u040E:"Ubrcy",\u0444:"fcy",\u0424:"Fcy",\u0445:"khcy",\u0425:"KHcy",\u0446:"tscy",\u0426:"TScy",\u0447:"chcy",\u0427:"CHcy",\u045F:"dzcy",\u040F:"DZcy",\u0448:"shcy",\u0428:"SHcy",\u0449:"shchcy",\u0429:"SHCHcy",\u044A:"hardcy",\u042A:"HARDcy",\u044B:"ycy",\u042B:"Ycy",\u044C:"softcy",\u042C:"SOFTcy",\u044D:"ecy",\u042D:"Ecy",\u044E:"yucy",\u042E:"YUcy",\u044F:"yacy",\u042F:"YAcy",\u2135:"aleph",\u2136:"beth",\u2137:"gimel",\u2138:"daleth"},d=/["&'<>`]/g,h={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},v=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,T=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,x=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,y={aacute:"\xE1",Aacute:"\xC1",abreve:"\u0103",Abreve:"\u0102",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",acirc:"\xE2",Acirc:"\xC2",acute:"\xB4",acy:"\u0430",Acy:"\u0410",aelig:"\xE6",AElig:"\xC6",af:"\u2061",afr:"\u{1D51E}",Afr:"\u{1D504}",agrave:"\xE0",Agrave:"\xC0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03B1",Alpha:"\u0391",amacr:"\u0101",Amacr:"\u0100",amalg:"\u2A3F",amp:"&",AMP:"&",and:"\u2227",And:"\u2A53",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",aogon:"\u0105",Aogon:"\u0104",aopf:"\u{1D552}",Aopf:"\u{1D538}",ap:"\u2248",apacir:"\u2A6F",ape:"\u224A",apE:"\u2A70",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",aring:"\xE5",Aring:"\xC5",ascr:"\u{1D4B6}",Ascr:"\u{1D49C}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",atilde:"\xE3",Atilde:"\xC3",auml:"\xE4",Auml:"\xC4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",bcy:"\u0431",Bcy:"\u0411",bdquo:"\u201E",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",beta:"\u03B2",Beta:"\u0392",beth:"\u2136",between:"\u226C",bfr:"\u{1D51F}",Bfr:"\u{1D505}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bnot:"\u2310",bNot:"\u2AED",bopf:"\u{1D553}",Bopf:"\u{1D539}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250C",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252C",boxhD:"\u2565",boxHd:"\u2564",boxHD:"\u2566",boxhu:"\u2534",boxhU:"\u2568",boxHu:"\u2567",boxHU:"\u2569",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxul:"\u2518",boxuL:"\u255B",boxUl:"\u255C",boxUL:"\u255D",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255A",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253C",boxvH:"\u256A",boxVh:"\u256B",boxVH:"\u256C",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251C",boxvR:"\u255E",boxVr:"\u255F",boxVR:"\u2560",bprime:"\u2035",breve:"\u02D8",Breve:"\u02D8",brvbar:"\xA6",bscr:"\u{1D4B7}",Bscr:"\u212C",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpe:"\u224F",bumpE:"\u2AAE",bumpeq:"\u224F",Bumpeq:"\u224E",cacute:"\u0107",Cacute:"\u0106",cap:"\u2229",Cap:"\u22D2",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",ccaron:"\u010D",Ccaron:"\u010C",ccedil:"\xE7",Ccedil:"\xC7",ccirc:"\u0109",Ccirc:"\u0108",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",cdot:"\u010B",Cdot:"\u010A",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",centerdot:"\xB7",CenterDot:"\xB7",cfr:"\u{1D520}",Cfr:"\u212D",chcy:"\u0447",CHcy:"\u0427",check:"\u2713",checkmark:"\u2713",chi:"\u03C7",Chi:"\u03A7",cir:"\u25CB",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cire:"\u2257",cirE:"\u29C3",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",colone:"\u2254",Colone:"\u2A74",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",conint:"\u222E",Conint:"\u222F",ContourIntegral:"\u222E",copf:"\u{1D554}",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xA9",COPY:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",cross:"\u2717",Cross:"\u2A2F",cscr:"\u{1D4B8}",Cscr:"\u{1D49E}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",cup:"\u222A",Cup:"\u22D3",cupbrcap:"\u2A48",cupcap:"\u2A46",CupCap:"\u224D",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",dArr:"\u21D3",Darr:"\u21A1",dash:"\u2010",dashv:"\u22A3",Dashv:"\u2AE4",dbkarow:"\u290F",dblac:"\u02DD",dcaron:"\u010F",Dcaron:"\u010E",dcy:"\u0434",Dcy:"\u0414",dd:"\u2146",DD:"\u2145",ddagger:"\u2021",ddarr:"\u21CA",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",delta:"\u03B4",Delta:"\u0394",demptyv:"\u29B1",dfisht:"\u297F",dfr:"\u{1D521}",Dfr:"\u{1D507}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",diamond:"\u22C4",Diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",djcy:"\u0452",DJcy:"\u0402",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",dopf:"\u{1D555}",Dopf:"\u{1D53B}",dot:"\u02D9",Dot:"\xA8",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",downarrow:"\u2193",Downarrow:"\u21D3",DownArrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",DownTeeArrow:"\u21A7",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",dscr:"\u{1D4B9}",Dscr:"\u{1D49F}",dscy:"\u0455",DScy:"\u0405",dsol:"\u29F6",dstrok:"\u0111",Dstrok:"\u0110",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",dzcy:"\u045F",DZcy:"\u040F",dzigrarr:"\u27FF",eacute:"\xE9",Eacute:"\xC9",easter:"\u2A6E",ecaron:"\u011B",Ecaron:"\u011A",ecir:"\u2256",ecirc:"\xEA",Ecirc:"\xCA",ecolon:"\u2255",ecy:"\u044D",Ecy:"\u042D",eDDot:"\u2A77",edot:"\u0117",eDot:"\u2251",Edot:"\u0116",ee:"\u2147",efDot:"\u2252",efr:"\u{1D522}",Efr:"\u{1D508}",eg:"\u2A9A",egrave:"\xE8",Egrave:"\xC8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",emacr:"\u0113",Emacr:"\u0112",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",eng:"\u014B",ENG:"\u014A",ensp:"\u2002",eogon:"\u0119",Eogon:"\u0118",eopf:"\u{1D556}",Eopf:"\u{1D53C}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",epsilon:"\u03B5",Epsilon:"\u0395",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",escr:"\u212F",Escr:"\u2130",esdot:"\u2250",esim:"\u2242",Esim:"\u2A73",eta:"\u03B7",Eta:"\u0397",eth:"\xF0",ETH:"\xD0",euml:"\xEB",Euml:"\xCB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",fcy:"\u0444",Fcy:"\u0424",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",ffr:"\u{1D523}",Ffr:"\u{1D509}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",fopf:"\u{1D557}",Fopf:"\u{1D53D}",forall:"\u2200",ForAll:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",fscr:"\u{1D4BB}",Fscr:"\u2131",gacute:"\u01F5",gamma:"\u03B3",Gamma:"\u0393",gammad:"\u03DD",Gammad:"\u03DC",gap:"\u2A86",gbreve:"\u011F",Gbreve:"\u011E",Gcedil:"\u0122",gcirc:"\u011D",Gcirc:"\u011C",gcy:"\u0433",Gcy:"\u0413",gdot:"\u0121",Gdot:"\u0120",ge:"\u2265",gE:"\u2267",gel:"\u22DB",gEl:"\u2A8C",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",ges:"\u2A7E",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",gfr:"\u{1D524}",Gfr:"\u{1D50A}",gg:"\u226B",Gg:"\u22D9",ggg:"\u22D9",gimel:"\u2137",gjcy:"\u0453",GJcy:"\u0403",gl:"\u2277",gla:"\u2AA5",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gnE:"\u2269",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",gopf:"\u{1D558}",Gopf:"\u{1D53E}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",gscr:"\u210A",Gscr:"\u{1D4A2}",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",gt:">",Gt:"\u226B",GT:">",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",hardcy:"\u044A",HARDcy:"\u042A",harr:"\u2194",hArr:"\u21D4",harrcir:"\u2948",harrw:"\u21AD",Hat:"^",hbar:"\u210F",hcirc:"\u0125",Hcirc:"\u0124",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",Hfr:"\u210C",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",hopf:"\u{1D559}",Hopf:"\u210D",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\u{1D4BD}",Hscr:"\u210B",hslash:"\u210F",hstrok:"\u0127",Hstrok:"\u0126",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",iacute:"\xED",Iacute:"\xCD",ic:"\u2063",icirc:"\xEE",Icirc:"\xCE",icy:"\u0438",Icy:"\u0418",Idot:"\u0130",iecy:"\u0435",IEcy:"\u0415",iexcl:"\xA1",iff:"\u21D4",ifr:"\u{1D526}",Ifr:"\u2111",igrave:"\xEC",Igrave:"\xCC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",ijlig:"\u0133",IJlig:"\u0132",Im:"\u2111",imacr:"\u012B",Imacr:"\u012A",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",in:"\u2208",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",int:"\u222B",Int:"\u222C",intcal:"\u22BA",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",iocy:"\u0451",IOcy:"\u0401",iogon:"\u012F",Iogon:"\u012E",iopf:"\u{1D55A}",Iopf:"\u{1D540}",iota:"\u03B9",Iota:"\u0399",iprod:"\u2A3C",iquest:"\xBF",iscr:"\u{1D4BE}",Iscr:"\u2110",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",itilde:"\u0129",Itilde:"\u0128",iukcy:"\u0456",Iukcy:"\u0406",iuml:"\xEF",Iuml:"\xCF",jcirc:"\u0135",Jcirc:"\u0134",jcy:"\u0439",Jcy:"\u0419",jfr:"\u{1D527}",Jfr:"\u{1D50D}",jmath:"\u0237",jopf:"\u{1D55B}",Jopf:"\u{1D541}",jscr:"\u{1D4BF}",Jscr:"\u{1D4A5}",jsercy:"\u0458",Jsercy:"\u0408",jukcy:"\u0454",Jukcy:"\u0404",kappa:"\u03BA",Kappa:"\u039A",kappav:"\u03F0",kcedil:"\u0137",Kcedil:"\u0136",kcy:"\u043A",Kcy:"\u041A",kfr:"\u{1D528}",Kfr:"\u{1D50E}",kgreen:"\u0138",khcy:"\u0445",KHcy:"\u0425",kjcy:"\u045C",KJcy:"\u040C",kopf:"\u{1D55C}",Kopf:"\u{1D542}",kscr:"\u{1D4C0}",Kscr:"\u{1D4A6}",lAarr:"\u21DA",lacute:"\u013A",Lacute:"\u0139",laemptyv:"\u29B4",lagran:"\u2112",lambda:"\u03BB",Lambda:"\u039B",lang:"\u27E8",Lang:"\u27EA",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",larr:"\u2190",lArr:"\u21D0",Larr:"\u219E",larrb:"\u21E4",larrbfs:"\u291F",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",lat:"\u2AAB",latail:"\u2919",lAtail:"\u291B",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lBarr:"\u290E",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",lcaron:"\u013E",Lcaron:"\u013D",lcedil:"\u013C",Lcedil:"\u013B",lceil:"\u2308",lcub:"{",lcy:"\u043B",Lcy:"\u041B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27E8",leftarrow:"\u2190",Leftarrow:"\u21D0",LeftArrow:"\u2190",LeftArrowBar:"\u21E4",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",leftrightarrow:"\u2194",Leftrightarrow:"\u21D4",LeftRightArrow:"\u2194",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTee:"\u22A3",LeftTeeArrow:"\u21A4",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangle:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",LeftVectorBar:"\u2952",leg:"\u22DA",lEg:"\u2A8B",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",les:"\u2A7D",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",lfr:"\u{1D529}",Lfr:"\u{1D50F}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",ljcy:"\u0459",LJcy:"\u0409",ll:"\u226A",Ll:"\u22D8",llarr:"\u21C7",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",lmidot:"\u0140",Lmidot:"\u013F",lmoust:"\u23B0",lmoustache:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lnE:"\u2268",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",longleftarrow:"\u27F5",Longleftarrow:"\u27F8",LongLeftArrow:"\u27F5",longleftrightarrow:"\u27F7",Longleftrightarrow:"\u27FA",LongLeftRightArrow:"\u27F7",longmapsto:"\u27FC",longrightarrow:"\u27F6",Longrightarrow:"\u27F9",LongRightArrow:"\u27F6",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",lopf:"\u{1D55D}",Lopf:"\u{1D543}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",Lscr:"\u2112",lsh:"\u21B0",Lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",lstrok:"\u0142",Lstrok:"\u0141",lt:"<",Lt:"\u226A",LT:"<",ltcc:"\u2AA6",ltcir:"\u2A79",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",map:"\u21A6",Map:"\u2905",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",mcy:"\u043C",Mcy:"\u041C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",mfr:"\u{1D52A}",Mfr:"\u{1D510}",mho:"\u2127",micro:"\xB5",mid:"\u2223",midast:"*",midcir:"\u2AF0",middot:"\xB7",minus:"\u2212",minusb:"\u229F",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",mopf:"\u{1D55E}",Mopf:"\u{1D544}",mp:"\u2213",mscr:"\u{1D4C2}",Mscr:"\u2133",mstpos:"\u223E",mu:"\u03BC",Mu:"\u039C",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",nacute:"\u0144",Nacute:"\u0143",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266E",natural:"\u266E",naturals:"\u2115",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",ncaron:"\u0148",Ncaron:"\u0147",ncedil:"\u0146",Ncedil:"\u0145",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",ncy:"\u043D",Ncy:"\u041D",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21D7",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",nfr:"\u{1D52B}",Nfr:"\u{1D511}",nge:"\u2271",ngE:"\u2267\u0338",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",ngt:"\u226F",nGt:"\u226B\u20D2",ngtr:"\u226F",nGtv:"\u226B\u0338",nharr:"\u21AE",nhArr:"\u21CE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",njcy:"\u045A",NJcy:"\u040A",nlarr:"\u219A",nlArr:"\u21CD",nldr:"\u2025",nle:"\u2270",nlE:"\u2266\u0338",nleftarrow:"\u219A",nLeftarrow:"\u21CD",nleftrightarrow:"\u21AE",nLeftrightarrow:"\u21CE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nlt:"\u226E",nLt:"\u226A\u20D2",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nopf:"\u{1D55F}",Nopf:"\u2115",not:"\xAC",Not:"\u2AEC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangle:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangle:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",npre:"\u2AAF\u0338",nprec:"\u2280",npreceq:"\u2AAF\u0338",nrarr:"\u219B",nrArr:"\u21CF",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nrightarrow:"\u219B",nRightarrow:"\u21CF",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",nscr:"\u{1D4C3}",Nscr:"\u{1D4A9}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsube:"\u2288",nsubE:"\u2AC5\u0338",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupe:"\u2289",nsupE:"\u2AC6\u0338",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",ntilde:"\xF1",Ntilde:"\xD1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",nu:"\u03BD",Nu:"\u039D",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvDash:"\u22AD",nVdash:"\u22AE",nVDash:"\u22AF",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21D6",nwarrow:"\u2196",nwnear:"\u2927",oacute:"\xF3",Oacute:"\xD3",oast:"\u229B",ocir:"\u229A",ocirc:"\xF4",Ocirc:"\xD4",ocy:"\u043E",Ocy:"\u041E",odash:"\u229D",odblac:"\u0151",Odblac:"\u0150",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",oelig:"\u0153",OElig:"\u0152",ofcir:"\u29BF",ofr:"\u{1D52C}",Ofr:"\u{1D512}",ogon:"\u02DB",ograve:"\xF2",Ograve:"\xD2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",omacr:"\u014D",Omacr:"\u014C",omega:"\u03C9",Omega:"\u03A9",omicron:"\u03BF",Omicron:"\u039F",omid:"\u29B6",ominus:"\u2296",oopf:"\u{1D560}",Oopf:"\u{1D546}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",or:"\u2228",Or:"\u2A54",orarr:"\u21BB",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",oscr:"\u2134",Oscr:"\u{1D4AA}",oslash:"\xF8",Oslash:"\xD8",osol:"\u2298",otilde:"\xF5",Otilde:"\xD5",otimes:"\u2297",Otimes:"\u2A37",otimesas:"\u2A36",ouml:"\xF6",Ouml:"\xD6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",par:"\u2225",para:"\xB6",parallel:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",pcy:"\u043F",Pcy:"\u041F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",pfr:"\u{1D52D}",Pfr:"\u{1D513}",phi:"\u03C6",Phi:"\u03A6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",pi:"\u03C0",Pi:"\u03A0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plus:"+",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",popf:"\u{1D561}",Popf:"\u2119",pound:"\xA3",pr:"\u227A",Pr:"\u2ABB",prap:"\u2AB7",prcue:"\u227C",pre:"\u2AAF",prE:"\u2AB3",prec:"\u227A",precapprox:"\u2AB7",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",precsim:"\u227E",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportion:"\u2237",Proportional:"\u221D",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",pscr:"\u{1D4C5}",Pscr:"\u{1D4AB}",psi:"\u03C8",Psi:"\u03A8",puncsp:"\u2008",qfr:"\u{1D52E}",Qfr:"\u{1D514}",qint:"\u2A0C",qopf:"\u{1D562}",Qopf:"\u211A",qprime:"\u2057",qscr:"\u{1D4C6}",Qscr:"\u{1D4AC}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",quot:'"',QUOT:'"',rAarr:"\u21DB",race:"\u223D\u0331",racute:"\u0155",Racute:"\u0154",radic:"\u221A",raemptyv:"\u29B3",rang:"\u27E9",Rang:"\u27EB",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",rarr:"\u2192",rArr:"\u21D2",Rarr:"\u21A0",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",rarrtl:"\u21A3",Rarrtl:"\u2916",rarrw:"\u219D",ratail:"\u291A",rAtail:"\u291C",ratio:"\u2236",rationals:"\u211A",rbarr:"\u290D",rBarr:"\u290F",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",rcaron:"\u0159",Rcaron:"\u0158",rcedil:"\u0157",Rcedil:"\u0156",rceil:"\u2309",rcub:"}",rcy:"\u0440",Rcy:"\u0420",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",Re:"\u211C",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",rect:"\u25AD",reg:"\xAE",REG:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",rfr:"\u{1D52F}",Rfr:"\u211C",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",rho:"\u03C1",Rho:"\u03A1",rhov:"\u03F1",RightAngleBracket:"\u27E9",rightarrow:"\u2192",Rightarrow:"\u21D2",RightArrow:"\u2192",RightArrowBar:"\u21E5",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTee:"\u22A2",RightTeeArrow:"\u21A6",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangle:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",RightVectorBar:"\u2953",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",ropf:"\u{1D563}",Ropf:"\u211D",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",rscr:"\u{1D4C7}",Rscr:"\u211B",rsh:"\u21B1",Rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",sacute:"\u015B",Sacute:"\u015A",sbquo:"\u201A",sc:"\u227B",Sc:"\u2ABC",scap:"\u2AB8",scaron:"\u0161",Scaron:"\u0160",sccue:"\u227D",sce:"\u2AB0",scE:"\u2AB4",scedil:"\u015F",Scedil:"\u015E",scirc:"\u015D",Scirc:"\u015C",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",scy:"\u0441",Scy:"\u0421",sdot:"\u22C5",sdotb:"\u22A1",sdote:"\u2A66",searhk:"\u2925",searr:"\u2198",seArr:"\u21D8",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",sfr:"\u{1D530}",Sfr:"\u{1D516}",sfrown:"\u2322",sharp:"\u266F",shchcy:"\u0449",SHCHcy:"\u0429",shcy:"\u0448",SHcy:"\u0428",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",sigma:"\u03C3",Sigma:"\u03A3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",softcy:"\u044C",SOFTcy:"\u042C",sol:"/",solb:"\u29C4",solbar:"\u233F",sopf:"\u{1D564}",Sopf:"\u{1D54A}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25A1",square:"\u25A1",Square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squf:"\u25AA",srarr:"\u2192",sscr:"\u{1D4C8}",Sscr:"\u{1D4AE}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",star:"\u2606",Star:"\u22C6",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",sub:"\u2282",Sub:"\u22D0",subdot:"\u2ABD",sube:"\u2286",subE:"\u2AC5",subedot:"\u2AC3",submult:"\u2AC1",subne:"\u228A",subnE:"\u2ACB",subplus:"\u2ABF",subrarr:"\u2979",subset:"\u2282",Subset:"\u22D0",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succ:"\u227B",succapprox:"\u2AB8",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",sum:"\u2211",Sum:"\u2211",sung:"\u266A",sup:"\u2283",Sup:"\u22D1",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supdot:"\u2ABE",supdsub:"\u2AD8",supe:"\u2287",supE:"\u2AC6",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supne:"\u228B",supnE:"\u2ACC",supplus:"\u2AC0",supset:"\u2283",Supset:"\u22D1",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21D9",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",tau:"\u03C4",Tau:"\u03A4",tbrk:"\u23B4",tcaron:"\u0165",Tcaron:"\u0164",tcedil:"\u0163",Tcedil:"\u0162",tcy:"\u0442",Tcy:"\u0422",tdot:"\u20DB",telrec:"\u2315",tfr:"\u{1D531}",Tfr:"\u{1D517}",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",theta:"\u03B8",Theta:"\u0398",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223C",thorn:"\xFE",THORN:"\xDE",tilde:"\u02DC",Tilde:"\u223C",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xD7",timesb:"\u22A0",timesbar:"\u2A31",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",top:"\u22A4",topbot:"\u2336",topcir:"\u2AF1",topf:"\u{1D565}",Topf:"\u{1D54B}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",tscr:"\u{1D4C9}",Tscr:"\u{1D4AF}",tscy:"\u0446",TScy:"\u0426",tshcy:"\u045B",TSHcy:"\u040B",tstrok:"\u0167",Tstrok:"\u0166",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",uacute:"\xFA",Uacute:"\xDA",uarr:"\u2191",uArr:"\u21D1",Uarr:"\u219F",Uarrocir:"\u2949",ubrcy:"\u045E",Ubrcy:"\u040E",ubreve:"\u016D",Ubreve:"\u016C",ucirc:"\xFB",Ucirc:"\xDB",ucy:"\u0443",Ucy:"\u0423",udarr:"\u21C5",udblac:"\u0171",Udblac:"\u0170",udhar:"\u296E",ufisht:"\u297E",ufr:"\u{1D532}",Ufr:"\u{1D518}",ugrave:"\xF9",Ugrave:"\xD9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",umacr:"\u016B",Umacr:"\u016A",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",uogon:"\u0173",Uogon:"\u0172",uopf:"\u{1D566}",Uopf:"\u{1D54C}",uparrow:"\u2191",Uparrow:"\u21D1",UpArrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",updownarrow:"\u2195",Updownarrow:"\u21D5",UpDownArrow:"\u2195",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03C5",Upsi:"\u03D2",upsih:"\u03D2",upsilon:"\u03C5",Upsilon:"\u03A5",UpTee:"\u22A5",UpTeeArrow:"\u21A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",uring:"\u016F",Uring:"\u016E",urtri:"\u25F9",uscr:"\u{1D4CA}",Uscr:"\u{1D4B0}",utdot:"\u22F0",utilde:"\u0169",Utilde:"\u0168",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",uuml:"\xFC",Uuml:"\xDC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",varr:"\u2195",vArr:"\u21D5",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",vBar:"\u2AE8",Vbar:"\u2AEB",vBarv:"\u2AE9",vcy:"\u0432",Vcy:"\u0412",vdash:"\u22A2",vDash:"\u22A8",Vdash:"\u22A9",VDash:"\u22AB",Vdashl:"\u2AE6",vee:"\u2228",Vee:"\u22C1",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",vfr:"\u{1D533}",Vfr:"\u{1D519}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",vopf:"\u{1D567}",Vopf:"\u{1D54D}",vprop:"\u221D",vrtri:"\u22B3",vscr:"\u{1D4CB}",Vscr:"\u{1D4B1}",vsubne:"\u228A\uFE00",vsubnE:"\u2ACB\uFE00",vsupne:"\u228B\uFE00",vsupnE:"\u2ACC\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",wcirc:"\u0175",Wcirc:"\u0174",wedbar:"\u2A5F",wedge:"\u2227",Wedge:"\u22C0",wedgeq:"\u2259",weierp:"\u2118",wfr:"\u{1D534}",Wfr:"\u{1D51A}",wopf:"\u{1D568}",Wopf:"\u{1D54E}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",wscr:"\u{1D4CC}",Wscr:"\u{1D4B2}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",xfr:"\u{1D535}",Xfr:"\u{1D51B}",xharr:"\u27F7",xhArr:"\u27FA",xi:"\u03BE",Xi:"\u039E",xlarr:"\u27F5",xlArr:"\u27F8",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",xopf:"\u{1D569}",Xopf:"\u{1D54F}",xoplus:"\u2A01",xotime:"\u2A02",xrarr:"\u27F6",xrArr:"\u27F9",xscr:"\u{1D4CD}",Xscr:"\u{1D4B3}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",yacute:"\xFD",Yacute:"\xDD",yacy:"\u044F",YAcy:"\u042F",ycirc:"\u0177",Ycirc:"\u0176",ycy:"\u044B",Ycy:"\u042B",yen:"\xA5",yfr:"\u{1D536}",Yfr:"\u{1D51C}",yicy:"\u0457",YIcy:"\u0407",yopf:"\u{1D56A}",Yopf:"\u{1D550}",yscr:"\u{1D4CE}",Yscr:"\u{1D4B4}",yucy:"\u044E",YUcy:"\u042E",yuml:"\xFF",Yuml:"\u0178",zacute:"\u017A",Zacute:"\u0179",zcaron:"\u017E",Zcaron:"\u017D",zcy:"\u0437",Zcy:"\u0417",zdot:"\u017C",Zdot:"\u017B",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",zeta:"\u03B6",Zeta:"\u0396",zfr:"\u{1D537}",Zfr:"\u2128",zhcy:"\u0436",ZHcy:"\u0416",zigrarr:"\u21DD",zopf:"\u{1D56B}",Zopf:"\u2124",zscr:"\u{1D4CF}",Zscr:"\u{1D4B5}",zwj:"\u200D",zwnj:"\u200C"},E={aacute:"\xE1",Aacute:"\xC1",acirc:"\xE2",Acirc:"\xC2",acute:"\xB4",aelig:"\xE6",AElig:"\xC6",agrave:"\xE0",Agrave:"\xC0",amp:"&",AMP:"&",aring:"\xE5",Aring:"\xC5",atilde:"\xE3",Atilde:"\xC3",auml:"\xE4",Auml:"\xC4",brvbar:"\xA6",ccedil:"\xE7",Ccedil:"\xC7",cedil:"\xB8",cent:"\xA2",copy:"\xA9",COPY:"\xA9",curren:"\xA4",deg:"\xB0",divide:"\xF7",eacute:"\xE9",Eacute:"\xC9",ecirc:"\xEA",Ecirc:"\xCA",egrave:"\xE8",Egrave:"\xC8",eth:"\xF0",ETH:"\xD0",euml:"\xEB",Euml:"\xCB",frac12:"\xBD",frac14:"\xBC",frac34:"\xBE",gt:">",GT:">",iacute:"\xED",Iacute:"\xCD",icirc:"\xEE",Icirc:"\xCE",iexcl:"\xA1",igrave:"\xEC",Igrave:"\xCC",iquest:"\xBF",iuml:"\xEF",Iuml:"\xCF",laquo:"\xAB",lt:"<",LT:"<",macr:"\xAF",micro:"\xB5",middot:"\xB7",nbsp:"\xA0",not:"\xAC",ntilde:"\xF1",Ntilde:"\xD1",oacute:"\xF3",Oacute:"\xD3",ocirc:"\xF4",Ocirc:"\xD4",ograve:"\xF2",Ograve:"\xD2",ordf:"\xAA",ordm:"\xBA",oslash:"\xF8",Oslash:"\xD8",otilde:"\xF5",Otilde:"\xD5",ouml:"\xF6",Ouml:"\xD6",para:"\xB6",plusmn:"\xB1",pound:"\xA3",quot:'"',QUOT:'"',raquo:"\xBB",reg:"\xAE",REG:"\xAE",sect:"\xA7",shy:"\xAD",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",szlig:"\xDF",thorn:"\xFE",THORN:"\xDE",times:"\xD7",uacute:"\xFA",Uacute:"\xDA",ucirc:"\xFB",Ucirc:"\xDB",ugrave:"\xF9",Ugrave:"\xD9",uml:"\xA8",uuml:"\xFC",Uuml:"\xDC",yacute:"\xFD",Yacute:"\xDD",yen:"\xA5",yuml:"\xFF"},D={"0":"\uFFFD","128":"\u20AC","130":"\u201A","131":"\u0192","132":"\u201E","133":"\u2026","134":"\u2020","135":"\u2021","136":"\u02C6","137":"\u2030","138":"\u0160","139":"\u2039","140":"\u0152","142":"\u017D","145":"\u2018","146":"\u2019","147":"\u201C","148":"\u201D","149":"\u2022","150":"\u2013","151":"\u2014","152":"\u02DC","153":"\u2122","154":"\u0161","155":"\u203A","156":"\u0153","158":"\u017E","159":"\u0178"},A=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],L=String.fromCharCode,O={},N=O.hasOwnProperty,V=function(Z,ue){return N.call(Z,ue)},M=function(Z,ue){for(var he=-1,Se=Z.length;++he<Se;)if(Z[he]==ue)return!0;return!1},R=function(Z,ue){if(!Z)return ue;var he={},Se;for(Se in ue)he[Se]=V(Z,Se)?Z[Se]:ue[Se];return he},U=function(Z,ue){var he="";return Z>=55296&&Z<=57343||Z>1114111?(ue&&te("character reference outside the permissible Unicode range"),"\uFFFD"):V(D,Z)?(ue&&te("disallowed character reference"),D[Z]):(ue&&M(A,Z)&&te("disallowed character reference"),Z>65535&&(Z-=65536,he+=L(Z>>>10&1023|55296),Z=56320|Z&1023),he+=L(Z),he)},G=function(Z){return"&#x"+Z.toString(16).toUpperCase()+";"},Y=function(Z){return"&#"+Z+";"},te=function(Z){throw Error("Parse error: "+Z)},H=function(Z,ue){ue=R(ue,H.options);var he=ue.strict;he&&T.test(Z)&&te("forbidden code point");var Se=ue.encodeEverything,Oe=ue.useNamedReferences,vt=ue.allowUnsafeSymbols,Qr=ue.decimal?Y:G,dr=function(Fe){return Qr(Fe.charCodeAt(0))};return Se?(Z=Z.replace(o,function(Fe){return Oe&&V(c,Fe)?"&"+c[Fe]+";":dr(Fe)}),Oe&&(Z=Z.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),Oe&&(Z=Z.replace(l,function(Fe){return"&"+c[Fe]+";"}))):Oe?(vt||(Z=Z.replace(d,function(Fe){return"&"+c[Fe]+";"})),Z=Z.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),Z=Z.replace(l,function(Fe){return"&"+c[Fe]+";"})):vt||(Z=Z.replace(d,dr)),Z.replace(s,function(Fe){var Cr=Fe.charCodeAt(0),Ui=Fe.charCodeAt(1),Hn=(Cr-55296)*1024+Ui-56320+65536;return Qr(Hn)}).replace(u,dr)};H.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var K=function(Z,ue){ue=R(ue,K.options);var he=ue.strict;return he&&v.test(Z)&&te("malformed character reference"),Z.replace(x,function(Se,Oe,vt,Qr,dr,Fe,Cr,Ui,Hn){var Yr,Jr,fr,xt,hr,ce;return Oe?(hr=Oe,y[hr]):vt?(hr=vt,ce=Qr,ce&&ue.isAttributeValue?(he&&ce=="="&&te("`&` did not start a character reference"),Se):(he&&te("named character reference was not terminated by a semicolon"),E[hr]+(ce||""))):dr?(fr=dr,Jr=Fe,he&&!Jr&&te("character reference was not terminated by a semicolon"),Yr=parseInt(fr,10),U(Yr,he)):Cr?(xt=Cr,Jr=Ui,he&&!Jr&&te("character reference was not terminated by a semicolon"),Yr=parseInt(xt,16),U(Yr,he)):(he&&te("named character reference was not terminated by a semicolon"),Se)})};K.options={isAttributeValue:!1,strict:!1};var X=function(Z){return Z.replace(d,function(ue){return h[ue]})},ae={version:"1.2.0",encode:H,decode:K,escape:X,unescape:K};if(i&&!i.nodeType)if(t)t.exports=ae;else for(var Ce in ae)V(ae,Ce)&&(i[Ce]=ae[Ce]);else r.he=ae})(mr)})(po,po.exports);var E1=po.exports;const Yv={root:null,rootMargin:"0px",threshold:0,unobserveOnEnter:!1},ka=(a,e)=>new CustomEvent(a,{detail:e});function C1(a,e={}){const{root:r,rootMargin:i,threshold:t,unobserveOnEnter:n}=Object.assign(Object.assign({},Yv),e);let s={x:void 0,y:void 0},o={vertical:void 0,horizontal:void 0};if(typeof IntersectionObserver!="undefined"&&a){const u=new IntersectionObserver((l,c)=>{const d=c.observe,h=c.unobserve;l.forEach(v=>{s.y>v.boundingClientRect.y?o.vertical="up":o.vertical="down",s.x>v.boundingClientRect.x?o.horizontal="left":o.horizontal="right",s={y:v.boundingClientRect.y,x:v.boundingClientRect.x};const T={inView:v.isIntersecting,entry:v,scrollDirection:o,observe:d,unobserve:h};a.dispatchEvent(ka("change",T)),v.isIntersecting?(a.dispatchEvent(ka("enter",T)),n&&c.unobserve(a)):a.dispatchEvent(ka("leave",T))})},{root:r,rootMargin:i,threshold:t});return setTimeout(()=>{a.dispatchEvent(ka("init",{observer:u,node:a}))},0),u.observe(a),{destroy(){u.unobserve(a)}}}}function jc(a){return a!==null&&typeof a=="object"&&"constructor"in a&&a.constructor===Object}function mo(a={},e={}){Object.keys(e).forEach(r=>{typeof a[r]=="undefined"?a[r]=e[r]:jc(e[r])&&jc(a[r])&&Object.keys(e[r]).length>0&&mo(a[r],e[r])})}const Gc={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function je(){const a=typeof document!="undefined"?document:{};return mo(a,Gc),a}const Jv={document:Gc,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(a){return typeof setTimeout=="undefined"?(a(),null):setTimeout(a,0)},cancelAnimationFrame(a){typeof setTimeout!="undefined"&&clearTimeout(a)}};function Be(){const a=typeof window!="undefined"?window:{};return mo(a,Jv),a}function Zv(a){const e=a.__proto__;Object.defineProperty(a,"__proto__",{get(){return e},set(r){e.__proto__=r}})}class gr extends Array{constructor(e){if(typeof e=="number")super(e);else{super(...e||[]);Zv(this)}}}function en(a=[]){const e=[];return a.forEach(r=>{Array.isArray(r)?e.push(...en(r)):e.push(r)}),e}function zc(a,e){return Array.prototype.filter.call(a,e)}function e0(a){const e=[];for(let r=0;r<a.length;r+=1)e.indexOf(a[r])===-1&&e.push(a[r]);return e}function t0(a,e){if(typeof a!="string")return[a];const r=[],i=e.querySelectorAll(a);for(let t=0;t<i.length;t+=1)r.push(i[t]);return r}function re(a,e){const r=Be(),i=je();let t=[];if(!e&&a instanceof gr)return a;if(!a)return new gr(t);if(typeof a=="string"){const n=a.trim();if(n.indexOf("<")>=0&&n.indexOf(">")>=0){let s="div";n.indexOf("<li")===0&&(s="ul"),n.indexOf("<tr")===0&&(s="tbody"),(n.indexOf("<td")===0||n.indexOf("<th")===0)&&(s="tr"),n.indexOf("<tbody")===0&&(s="table"),n.indexOf("<option")===0&&(s="select");const o=i.createElement(s);o.innerHTML=n;for(let u=0;u<o.childNodes.length;u+=1)t.push(o.childNodes[u])}else t=t0(a.trim(),e||i)}else if(a.nodeType||a===r||a===i)t.push(a);else if(Array.isArray(a)){if(a instanceof gr)return a;t=a}return new gr(e0(t))}re.fn=gr.prototype;function r0(...a){const e=en(a.map(r=>r.split(" ")));return this.forEach(r=>{r.classList.add(...e)}),this}function i0(...a){const e=en(a.map(r=>r.split(" ")));return this.forEach(r=>{r.classList.remove(...e)}),this}function n0(...a){const e=en(a.map(r=>r.split(" ")));this.forEach(r=>{e.forEach(i=>{r.classList.toggle(i)})})}function a0(...a){const e=en(a.map(r=>r.split(" ")));return zc(this,r=>e.filter(i=>r.classList.contains(i)).length>0).length>0}function s0(a,e){if(arguments.length===1&&typeof a=="string")return this[0]?this[0].getAttribute(a):void 0;for(let r=0;r<this.length;r+=1)if(arguments.length===2)this[r].setAttribute(a,e);else for(const i in a)this[r][i]=a[i],this[r].setAttribute(i,a[i]);return this}function o0(a){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(a);return this}function u0(a){for(let e=0;e<this.length;e+=1)this[e].style.transform=a;return this}function l0(a){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration=typeof a!="string"?`${a}ms`:a;return this}function c0(...a){let[e,r,i,t]=a;typeof a[1]=="function"&&([e,i,t]=a,r=void 0),t||(t=!1);function n(l){const c=l.target;if(!c)return;const d=l.target.dom7EventData||[];if(d.indexOf(l)<0&&d.unshift(l),re(c).is(r))i.apply(c,d);else{const h=re(c).parents();for(let v=0;v<h.length;v+=1)re(h[v]).is(r)&&i.apply(h[v],d)}}function s(l){const c=l&&l.target?l.target.dom7EventData||[]:[];c.indexOf(l)<0&&c.unshift(l),i.apply(this,c)}const o=e.split(" ");let u;for(let l=0;l<this.length;l+=1){const c=this[l];if(r)for(u=0;u<o.length;u+=1){const d=o[u];c.dom7LiveListeners||(c.dom7LiveListeners={}),c.dom7LiveListeners[d]||(c.dom7LiveListeners[d]=[]),c.dom7LiveListeners[d].push({listener:i,proxyListener:n}),c.addEventListener(d,n,t)}else for(u=0;u<o.length;u+=1){const d=o[u];c.dom7Listeners||(c.dom7Listeners={}),c.dom7Listeners[d]||(c.dom7Listeners[d]=[]),c.dom7Listeners[d].push({listener:i,proxyListener:s}),c.addEventListener(d,s,t)}}return this}function d0(...a){let[e,r,i,t]=a;typeof a[1]=="function"&&([e,i,t]=a,r=void 0),t||(t=!1);const n=e.split(" ");for(let s=0;s<n.length;s+=1){const o=n[s];for(let u=0;u<this.length;u+=1){const l=this[u];let c;if(!r&&l.dom7Listeners?c=l.dom7Listeners[o]:r&&l.dom7LiveListeners&&(c=l.dom7LiveListeners[o]),c&&c.length)for(let d=c.length-1;d>=0;d-=1){const h=c[d];i&&h.listener===i||i&&h.listener&&h.listener.dom7proxy&&h.listener.dom7proxy===i?(l.removeEventListener(o,h.proxyListener,t),c.splice(d,1)):i||(l.removeEventListener(o,h.proxyListener,t),c.splice(d,1))}}}return this}function f0(...a){const e=Be(),r=a[0].split(" "),i=a[1];for(let t=0;t<r.length;t+=1){const n=r[t];for(let s=0;s<this.length;s+=1){const o=this[s];if(e.CustomEvent){const u=new e.CustomEvent(n,{detail:i,bubbles:!0,cancelable:!0});o.dom7EventData=a.filter((l,c)=>c>0),o.dispatchEvent(u),o.dom7EventData=[],delete o.dom7EventData}}}return this}function h0(a){const e=this;function r(i){i.target===this&&(a.call(this,i),e.off("transitionend",r))}return a&&e.on("transitionend",r),this}function p0(a){if(this.length>0){if(a){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function m0(a){if(this.length>0){if(a){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function g0(){if(this.length>0){const a=Be(),e=je(),r=this[0],i=r.getBoundingClientRect(),t=e.body,n=r.clientTop||t.clientTop||0,s=r.clientLeft||t.clientLeft||0,o=r===a?a.scrollY:r.scrollTop,u=r===a?a.scrollX:r.scrollLeft;return{top:i.top+o-n,left:i.left+u-s}}return null}function v0(){const a=Be();return this[0]?a.getComputedStyle(this[0],null):{}}function y0(a,e){const r=Be();let i;if(arguments.length===1)if(typeof a=="string"){if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(a)}else{for(i=0;i<this.length;i+=1)for(const t in a)this[i].style[t]=a[t];return this}if(arguments.length===2&&typeof a=="string"){for(i=0;i<this.length;i+=1)this[i].style[a]=e;return this}return this}function _0(a){return a?(this.forEach((e,r)=>{a.apply(e,[e,r])}),this):this}function T0(a){const e=zc(this,a);return re(e)}function b0(a){if(typeof a=="undefined")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=a;return this}function x0(a){if(typeof a=="undefined")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=a;return this}function S0(a){const e=Be(),r=je(),i=this[0];let t,n;if(!i||typeof a=="undefined")return!1;if(typeof a=="string"){if(i.matches)return i.matches(a);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(a);if(i.msMatchesSelector)return i.msMatchesSelector(a);for(t=re(a),n=0;n<t.length;n+=1)if(t[n]===i)return!0;return!1}if(a===r)return i===r;if(a===e)return i===e;if(a.nodeType||a instanceof gr){for(t=a.nodeType?[a]:a,n=0;n<t.length;n+=1)if(t[n]===i)return!0;return!1}return!1}function E0(){let a=this[0],e;if(a){for(e=0;(a=a.previousSibling)!==null;)a.nodeType===1&&(e+=1);return e}}function C0(a){if(typeof a=="undefined")return this;const e=this.length;if(a>e-1)return re([]);if(a<0){const r=e+a;return r<0?re([]):re([this[r]])}return re([this[a]])}function D0(...a){let e;const r=je();for(let i=0;i<a.length;i+=1){e=a[i];for(let t=0;t<this.length;t+=1)if(typeof e=="string"){const n=r.createElement("div");for(n.innerHTML=e;n.firstChild;)this[t].appendChild(n.firstChild)}else if(e instanceof gr)for(let n=0;n<e.length;n+=1)this[t].appendChild(e[n]);else this[t].appendChild(e)}return this}function A0(a){const e=je();let r,i;for(r=0;r<this.length;r+=1)if(typeof a=="string"){const t=e.createElement("div");for(t.innerHTML=a,i=t.childNodes.length-1;i>=0;i-=1)this[r].insertBefore(t.childNodes[i],this[r].childNodes[0])}else if(a instanceof gr)for(i=0;i<a.length;i+=1)this[r].insertBefore(a[i],this[r].childNodes[0]);else this[r].insertBefore(a,this[r].childNodes[0]);return this}function w0(a){return this.length>0?a?this[0].nextElementSibling&&re(this[0].nextElementSibling).is(a)?re([this[0].nextElementSibling]):re([]):this[0].nextElementSibling?re([this[0].nextElementSibling]):re([]):re([])}function k0(a){const e=[];let r=this[0];if(!r)return re([]);for(;r.nextElementSibling;){const i=r.nextElementSibling;a?re(i).is(a)&&e.push(i):e.push(i),r=i}return re(e)}function P0(a){if(this.length>0){const e=this[0];return a?e.previousElementSibling&&re(e.previousElementSibling).is(a)?re([e.previousElementSibling]):re([]):e.previousElementSibling?re([e.previousElementSibling]):re([])}return re([])}function I0(a){const e=[];let r=this[0];if(!r)return re([]);for(;r.previousElementSibling;){const i=r.previousElementSibling;a?re(i).is(a)&&e.push(i):e.push(i),r=i}return re(e)}function L0(a){const e=[];for(let r=0;r<this.length;r+=1)this[r].parentNode!==null&&(a?re(this[r].parentNode).is(a)&&e.push(this[r].parentNode):e.push(this[r].parentNode));return re(e)}function O0(a){const e=[];for(let r=0;r<this.length;r+=1){let i=this[r].parentNode;for(;i;)a?re(i).is(a)&&e.push(i):e.push(i),i=i.parentNode}return re(e)}function F0(a){let e=this;return typeof a=="undefined"?re([]):(e.is(a)||(e=e.parents(a).eq(0)),e)}function B0(a){const e=[];for(let r=0;r<this.length;r+=1){const i=this[r].querySelectorAll(a);for(let t=0;t<i.length;t+=1)e.push(i[t])}return re(e)}function R0(a){const e=[];for(let r=0;r<this.length;r+=1){const i=this[r].children;for(let t=0;t<i.length;t+=1)(!a||re(i[t]).is(a))&&e.push(i[t])}return re(e)}function M0(){for(let a=0;a<this.length;a+=1)this[a].parentNode&&this[a].parentNode.removeChild(this[a]);return this}const Wc={addClass:r0,removeClass:i0,hasClass:a0,toggleClass:n0,attr:s0,removeAttr:o0,transform:u0,transition:l0,on:c0,off:d0,trigger:f0,transitionEnd:h0,outerWidth:p0,outerHeight:m0,styles:v0,offset:g0,css:y0,each:_0,html:b0,text:x0,is:S0,index:E0,eq:C0,append:D0,prepend:A0,next:w0,nextAll:k0,prev:P0,prevAll:I0,parent:L0,parents:O0,closest:F0,find:B0,children:R0,filter:T0,remove:M0};Object.keys(Wc).forEach(a=>{Object.defineProperty(re.fn,a,{value:Wc[a],writable:!0})});function N0(a){const e=a;Object.keys(e).forEach(r=>{try{e[r]=null}catch{}try{delete e[r]}catch{}})}function Pa(a,e=0){return setTimeout(a,e)}function vr(){return Date.now()}function U0(a){const e=Be();let r;return e.getComputedStyle&&(r=e.getComputedStyle(a,null)),!r&&a.currentStyle&&(r=a.currentStyle),r||(r=a.style),r}function q0(a,e="x"){const r=Be();let i,t,n;const s=U0(a);return r.WebKitCSSMatrix?(t=s.transform||s.webkitTransform,t.split(",").length>6&&(t=t.split(", ").map(o=>o.replace(",",".")).join(", ")),n=new r.WebKitCSSMatrix(t==="none"?"":t)):(n=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=n.toString().split(",")),e==="x"&&(r.WebKitCSSMatrix?t=n.m41:i.length===16?t=parseFloat(i[12]):t=parseFloat(i[4])),e==="y"&&(r.WebKitCSSMatrix?t=n.m42:i.length===16?t=parseFloat(i[13]):t=parseFloat(i[5])),t||0}function Ia(a){return typeof a=="object"&&a!==null&&a.constructor&&Object.prototype.toString.call(a).slice(8,-1)==="Object"}function V0(a){return typeof window!="undefined"&&typeof window.HTMLElement!="undefined"?a instanceof HTMLElement:a&&(a.nodeType===1||a.nodeType===11)}function ft(...a){const e=Object(a[0]),r=["__proto__","constructor","prototype"];for(let i=1;i<a.length;i+=1){const t=a[i];if(t!=null&&!V0(t)){const n=Object.keys(Object(t)).filter(s=>r.indexOf(s)<0);for(let s=0,o=n.length;s<o;s+=1){const u=n[s],l=Object.getOwnPropertyDescriptor(t,u);l!==void 0&&l.enumerable&&(Ia(e[u])&&Ia(t[u])?t[u].__swiper__?e[u]=t[u]:ft(e[u],t[u]):!Ia(e[u])&&Ia(t[u])?(e[u]={},t[u].__swiper__?e[u]=t[u]:ft(e[u],t[u])):e[u]=t[u])}}}return e}function La(a,e,r){a.style.setProperty(e,r)}function $c({swiper:a,targetPosition:e,side:r}){const i=Be(),t=-a.translate;let n=null,s;const o=a.params.speed;a.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(a.cssModeFrameID);const u=e>t?"next":"prev",l=(d,h)=>u==="next"&&d>=h||u==="prev"&&d<=h,c=()=>{s=new Date().getTime(),n===null&&(n=s);const d=Math.max(Math.min((s-n)/o,1),0),h=.5-Math.cos(d*Math.PI)/2;let v=t+h*(e-t);if(l(v,e)&&(v=e),a.wrapperEl.scrollTo({[r]:v}),l(v,e)){a.wrapperEl.style.overflow="hidden",a.wrapperEl.style.scrollSnapType="",setTimeout(()=>{a.wrapperEl.style.overflow="",a.wrapperEl.scrollTo({[r]:v})}),i.cancelAnimationFrame(a.cssModeFrameID);return}a.cssModeFrameID=i.requestAnimationFrame(c)};c()}let go;function H0(){const a=Be(),e=je();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in a||a.DocumentTouch&&e instanceof a.DocumentTouch),passiveListener:function(){let i=!1;try{const t=Object.defineProperty({},"passive",{get(){i=!0}});a.addEventListener("testPassiveListener",null,t)}catch{}return i}(),gestures:function(){return"ongesturestart"in a}()}}function Kc(){return go||(go=H0()),go}let vo;function j0({userAgent:a}={}){const e=Kc(),r=Be(),i=r.navigator.platform,t=a||r.navigator.userAgent,n={ios:!1,android:!1},s=r.screen.width,o=r.screen.height,u=t.match(/(Android);?[\s\/]+([\d.]+)?/);let l=t.match(/(iPad).*OS\s([\d_]+)/);const c=t.match(/(iPod)(.*OS\s([\d_]+))?/),d=!l&&t.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=i==="Win32";let v=i==="MacIntel";const T=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!l&&v&&e.touch&&T.indexOf(`${s}x${o}`)>=0&&(l=t.match(/(Version)\/([\d.]+)/),l||(l=[0,1,"13_0_0"]),v=!1),u&&!h&&(n.os="android",n.android=!0),(l||d||c)&&(n.os="ios",n.ios=!0),n}function G0(a={}){return vo||(vo=j0(a)),vo}let yo;function z0(){const a=Be();function e(){const r=a.navigator.userAgent.toLowerCase();return r.indexOf("safari")>=0&&r.indexOf("chrome")<0&&r.indexOf("android")<0}return{isSafari:e(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(a.navigator.userAgent)}}function W0(){return yo||(yo=z0()),yo}function $0({swiper:a,on:e,emit:r}){const i=Be();let t=null;const n=()=>{!a||a.destroyed||!a.initialized||(r("beforeResize"),r("resize"))},s=()=>{!a||a.destroyed||!a.initialized||(t=new ResizeObserver(l=>{const{width:c,height:d}=a;let h=c,v=d;l.forEach(({contentBoxSize:T,contentRect:x,target:y})=>{y&&y!==a.el||(h=x?x.width:(T[0]||T).inlineSize,v=x?x.height:(T[0]||T).blockSize)}),(h!==c||v!==d)&&n()}),t.observe(a.el))},o=()=>{t&&t.unobserve&&a.el&&(t.unobserve(a.el),t=null)},u=()=>{!a||a.destroyed||!a.initialized||r("orientationchange")};e("init",()=>{if(a.params.resizeObserver&&typeof i.ResizeObserver!="undefined"){s();return}i.addEventListener("resize",n),i.addEventListener("orientationchange",u)}),e("destroy",()=>{o(),i.removeEventListener("resize",n),i.removeEventListener("orientationchange",u)})}function K0({swiper:a,extendParams:e,on:r,emit:i}){const t=[],n=Be(),s=(l,c={})=>{const d=n.MutationObserver||n.WebkitMutationObserver,h=new d(v=>{if(v.length===1){i("observerUpdate",v[0]);return}const T=function(){i("observerUpdate",v[0])};n.requestAnimationFrame?n.requestAnimationFrame(T):n.setTimeout(T,0)});h.observe(l,{attributes:typeof c.attributes=="undefined"?!0:c.attributes,childList:typeof c.childList=="undefined"?!0:c.childList,characterData:typeof c.characterData=="undefined"?!0:c.characterData}),t.push(h)},o=()=>{if(!!a.params.observer){if(a.params.observeParents){const l=a.$el.parents();for(let c=0;c<l.length;c+=1)s(l[c])}s(a.$el[0],{childList:a.params.observeSlideChildren}),s(a.$wrapperEl[0],{attributes:!1})}},u=()=>{t.forEach(l=>{l.disconnect()}),t.splice(0,t.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",o),r("destroy",u)}var X0={on(a,e,r){const i=this;if(typeof e!="function")return i;const t=r?"unshift":"push";return a.split(" ").forEach(n=>{i.eventsListeners[n]||(i.eventsListeners[n]=[]),i.eventsListeners[n][t](e)}),i},once(a,e,r){const i=this;if(typeof e!="function")return i;function t(...n){i.off(a,t),t.__emitterProxy&&delete t.__emitterProxy,e.apply(i,n)}return t.__emitterProxy=e,i.on(a,t,r)},onAny(a,e){const r=this;if(typeof a!="function")return r;const i=e?"unshift":"push";return r.eventsAnyListeners.indexOf(a)<0&&r.eventsAnyListeners[i](a),r},offAny(a){const e=this;if(!e.eventsAnyListeners)return e;const r=e.eventsAnyListeners.indexOf(a);return r>=0&&e.eventsAnyListeners.splice(r,1),e},off(a,e){const r=this;return r.eventsListeners&&a.split(" ").forEach(i=>{typeof e=="undefined"?r.eventsListeners[i]=[]:r.eventsListeners[i]&&r.eventsListeners[i].forEach((t,n)=>{(t===e||t.__emitterProxy&&t.__emitterProxy===e)&&r.eventsListeners[i].splice(n,1)})}),r},emit(...a){const e=this;if(!e.eventsListeners)return e;let r,i,t;return typeof a[0]=="string"||Array.isArray(a[0])?(r=a[0],i=a.slice(1,a.length),t=e):(r=a[0].events,i=a[0].data,t=a[0].context||e),i.unshift(t),(Array.isArray(r)?r:r.split(" ")).forEach(s=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(o=>{o.apply(t,[s,...i])}),e.eventsListeners&&e.eventsListeners[s]&&e.eventsListeners[s].forEach(o=>{o.apply(t,i)})}),e}};function Q0(){const a=this;let e,r;const i=a.$el;typeof a.params.width!="undefined"&&a.params.width!==null?e=a.params.width:e=i[0].clientWidth,typeof a.params.height!="undefined"&&a.params.height!==null?r=a.params.height:r=i[0].clientHeight,!(e===0&&a.isHorizontal()||r===0&&a.isVertical())&&(e=e-parseInt(i.css("padding-left")||0,10)-parseInt(i.css("padding-right")||0,10),r=r-parseInt(i.css("padding-top")||0,10)-parseInt(i.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(r)&&(r=0),Object.assign(a,{width:e,height:r,size:a.isHorizontal()?e:r}))}function Y0(){const a=this;function e(U){return a.isHorizontal()?U:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[U]}function r(U,G){return parseFloat(U.getPropertyValue(e(G))||0)}const i=a.params,{$wrapperEl:t,size:n,rtlTranslate:s,wrongRTL:o}=a,u=a.virtual&&i.virtual.enabled,l=u?a.virtual.slides.length:a.slides.length,c=t.children(`.${a.params.slideClass}`),d=u?a.virtual.slides.length:c.length;let h=[];const v=[],T=[];let x=i.slidesOffsetBefore;typeof x=="function"&&(x=i.slidesOffsetBefore.call(a));let y=i.slidesOffsetAfter;typeof y=="function"&&(y=i.slidesOffsetAfter.call(a));const E=a.snapGrid.length,D=a.slidesGrid.length;let A=i.spaceBetween,L=-x,O=0,N=0;if(typeof n=="undefined")return;typeof A=="string"&&A.indexOf("%")>=0&&(A=parseFloat(A.replace("%",""))/100*n),a.virtualSize=-A,s?c.css({marginLeft:"",marginBottom:"",marginTop:""}):c.css({marginRight:"",marginBottom:"",marginTop:""}),i.centeredSlides&&i.cssMode&&(La(a.wrapperEl,"--swiper-centered-offset-before",""),La(a.wrapperEl,"--swiper-centered-offset-after",""));const V=i.grid&&i.grid.rows>1&&a.grid;V&&a.grid.initSlides(d);let M;const R=i.slidesPerView==="auto"&&i.breakpoints&&Object.keys(i.breakpoints).filter(U=>typeof i.breakpoints[U].slidesPerView!="undefined").length>0;for(let U=0;U<d;U+=1){M=0;const G=c.eq(U);if(V&&a.grid.updateSlide(U,G,d,e),G.css("display")!=="none"){if(i.slidesPerView==="auto"){R&&(c[U].style[e("width")]="");const Y=getComputedStyle(G[0]),te=G[0].style.transform,H=G[0].style.webkitTransform;if(te&&(G[0].style.transform="none"),H&&(G[0].style.webkitTransform="none"),i.roundLengths)M=a.isHorizontal()?G.outerWidth(!0):G.outerHeight(!0);else{const K=r(Y,"width"),X=r(Y,"padding-left"),ae=r(Y,"padding-right"),Ce=r(Y,"margin-left"),Z=r(Y,"margin-right"),ue=Y.getPropertyValue("box-sizing");if(ue&&ue==="border-box")M=K+Ce+Z;else{const{clientWidth:he,offsetWidth:Se}=G[0];M=K+X+ae+Ce+Z+(Se-he)}}te&&(G[0].style.transform=te),H&&(G[0].style.webkitTransform=H),i.roundLengths&&(M=Math.floor(M))}else M=(n-(i.slidesPerView-1)*A)/i.slidesPerView,i.roundLengths&&(M=Math.floor(M)),c[U]&&(c[U].style[e("width")]=`${M}px`);c[U]&&(c[U].swiperSlideSize=M),T.push(M),i.centeredSlides?(L=L+M/2+O/2+A,O===0&&U!==0&&(L=L-n/2-A),U===0&&(L=L-n/2-A),Math.abs(L)<1/1e3&&(L=0),i.roundLengths&&(L=Math.floor(L)),N%i.slidesPerGroup==0&&h.push(L),v.push(L)):(i.roundLengths&&(L=Math.floor(L)),(N-Math.min(a.params.slidesPerGroupSkip,N))%a.params.slidesPerGroup==0&&h.push(L),v.push(L),L=L+M+A),a.virtualSize+=M+A,O=M,N+=1}}if(a.virtualSize=Math.max(a.virtualSize,n)+y,s&&o&&(i.effect==="slide"||i.effect==="coverflow")&&t.css({width:`${a.virtualSize+i.spaceBetween}px`}),i.setWrapperSize&&t.css({[e("width")]:`${a.virtualSize+i.spaceBetween}px`}),V&&a.grid.updateWrapperSize(M,h,e),!i.centeredSlides){const U=[];for(let G=0;G<h.length;G+=1){let Y=h[G];i.roundLengths&&(Y=Math.floor(Y)),h[G]<=a.virtualSize-n&&U.push(Y)}h=U,Math.floor(a.virtualSize-n)-Math.floor(h[h.length-1])>1&&h.push(a.virtualSize-n)}if(h.length===0&&(h=[0]),i.spaceBetween!==0){const U=a.isHorizontal()&&s?"marginLeft":e("marginRight");c.filter((G,Y)=>i.cssMode?Y!==c.length-1:!0).css({[U]:`${A}px`})}if(i.centeredSlides&&i.centeredSlidesBounds){let U=0;T.forEach(Y=>{U+=Y+(i.spaceBetween?i.spaceBetween:0)}),U-=i.spaceBetween;const G=U-n;h=h.map(Y=>Y<0?-x:Y>G?G+y:Y)}if(i.centerInsufficientSlides){let U=0;if(T.forEach(G=>{U+=G+(i.spaceBetween?i.spaceBetween:0)}),U-=i.spaceBetween,U<n){const G=(n-U)/2;h.forEach((Y,te)=>{h[te]=Y-G}),v.forEach((Y,te)=>{v[te]=Y+G})}}if(Object.assign(a,{slides:c,snapGrid:h,slidesGrid:v,slidesSizesGrid:T}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){La(a.wrapperEl,"--swiper-centered-offset-before",`${-h[0]}px`),La(a.wrapperEl,"--swiper-centered-offset-after",`${a.size/2-T[T.length-1]/2}px`);const U=-a.snapGrid[0],G=-a.slidesGrid[0];a.snapGrid=a.snapGrid.map(Y=>Y+U),a.slidesGrid=a.slidesGrid.map(Y=>Y+G)}d!==l&&a.emit("slidesLengthChange"),h.length!==E&&(a.params.watchOverflow&&a.checkOverflow(),a.emit("snapGridLengthChange")),v.length!==D&&a.emit("slidesGridLengthChange"),i.watchSlidesProgress&&a.updateSlidesOffset()}function J0(a){const e=this,r=[],i=e.virtual&&e.params.virtual.enabled;let t=0,n;typeof a=="number"?e.setTransition(a):a===!0&&e.setTransition(e.params.speed);const s=o=>i?e.slides.filter(u=>parseInt(u.getAttribute("data-swiper-slide-index"),10)===o)[0]:e.slides.eq(o)[0];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)e.visibleSlides.each(o=>{r.push(o)});else for(n=0;n<Math.ceil(e.params.slidesPerView);n+=1){const o=e.activeIndex+n;if(o>e.slides.length&&!i)break;r.push(s(o))}else r.push(s(e.activeIndex));for(n=0;n<r.length;n+=1)if(typeof r[n]!="undefined"){const o=r[n].offsetHeight;t=o>t?o:t}(t||t===0)&&e.$wrapperEl.css("height",`${t}px`)}function Z0(){const a=this,e=a.slides;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=a.isHorizontal()?e[r].offsetLeft:e[r].offsetTop}function ey(a=this&&this.translate||0){const e=this,r=e.params,{slides:i,rtlTranslate:t,snapGrid:n}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset=="undefined"&&e.updateSlidesOffset();let s=-a;t&&(s=a),i.removeClass(r.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let o=0;o<i.length;o+=1){const u=i[o];let l=u.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(l-=i[0].swiperSlideOffset);const c=(s+(r.centeredSlides?e.minTranslate():0)-l)/(u.swiperSlideSize+r.spaceBetween),d=(s-n[0]+(r.centeredSlides?e.minTranslate():0)-l)/(u.swiperSlideSize+r.spaceBetween),h=-(s-l),v=h+e.slidesSizesGrid[o];(h>=0&&h<e.size-1||v>1&&v<=e.size||h<=0&&v>=e.size)&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(o),i.eq(o).addClass(r.slideVisibleClass)),u.progress=t?-c:c,u.originalProgress=t?-d:d}e.visibleSlides=re(e.visibleSlides)}function ty(a){const e=this;if(typeof a=="undefined"){const l=e.rtlTranslate?-1:1;a=e&&e.translate&&e.translate*l||0}const r=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:t,isBeginning:n,isEnd:s}=e;const o=n,u=s;i===0?(t=0,n=!0,s=!0):(t=(a-e.minTranslate())/i,n=t<=0,s=t>=1),Object.assign(e,{progress:t,isBeginning:n,isEnd:s}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&e.updateSlidesProgress(a),n&&!o&&e.emit("reachBeginning toEdge"),s&&!u&&e.emit("reachEnd toEdge"),(o&&!n||u&&!s)&&e.emit("fromEdge"),e.emit("progress",t)}function ry(){const a=this,{slides:e,params:r,$wrapperEl:i,activeIndex:t,realIndex:n}=a,s=a.virtual&&r.virtual.enabled;e.removeClass(`${r.slideActiveClass} ${r.slideNextClass} ${r.slidePrevClass} ${r.slideDuplicateActiveClass} ${r.slideDuplicateNextClass} ${r.slideDuplicatePrevClass}`);let o;s?o=a.$wrapperEl.find(`.${r.slideClass}[data-swiper-slide-index="${t}"]`):o=e.eq(t),o.addClass(r.slideActiveClass),r.loop&&(o.hasClass(r.slideDuplicateClass)?i.children(`.${r.slideClass}:not(.${r.slideDuplicateClass})[data-swiper-slide-index="${n}"]`).addClass(r.slideDuplicateActiveClass):i.children(`.${r.slideClass}.${r.slideDuplicateClass}[data-swiper-slide-index="${n}"]`).addClass(r.slideDuplicateActiveClass));let u=o.nextAll(`.${r.slideClass}`).eq(0).addClass(r.slideNextClass);r.loop&&u.length===0&&(u=e.eq(0),u.addClass(r.slideNextClass));let l=o.prevAll(`.${r.slideClass}`).eq(0).addClass(r.slidePrevClass);r.loop&&l.length===0&&(l=e.eq(-1),l.addClass(r.slidePrevClass)),r.loop&&(u.hasClass(r.slideDuplicateClass)?i.children(`.${r.slideClass}:not(.${r.slideDuplicateClass})[data-swiper-slide-index="${u.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicateNextClass):i.children(`.${r.slideClass}.${r.slideDuplicateClass}[data-swiper-slide-index="${u.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicateNextClass),l.hasClass(r.slideDuplicateClass)?i.children(`.${r.slideClass}:not(.${r.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicatePrevClass):i.children(`.${r.slideClass}.${r.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicatePrevClass)),a.emitSlidesClasses()}function iy(a){const e=this,r=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:i,snapGrid:t,params:n,activeIndex:s,realIndex:o,snapIndex:u}=e;let l=a,c;if(typeof l=="undefined"){for(let h=0;h<i.length;h+=1)typeof i[h+1]!="undefined"?r>=i[h]&&r<i[h+1]-(i[h+1]-i[h])/2?l=h:r>=i[h]&&r<i[h+1]&&(l=h+1):r>=i[h]&&(l=h);n.normalizeSlideIndex&&(l<0||typeof l=="undefined")&&(l=0)}if(t.indexOf(r)>=0)c=t.indexOf(r);else{const h=Math.min(n.slidesPerGroupSkip,l);c=h+Math.floor((l-h)/n.slidesPerGroup)}if(c>=t.length&&(c=t.length-1),l===s){c!==u&&(e.snapIndex=c,e.emit("snapIndexChange"));return}const d=parseInt(e.slides.eq(l).attr("data-swiper-slide-index")||l,10);Object.assign(e,{snapIndex:c,realIndex:d,previousIndex:s,activeIndex:l}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),o!==d&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function ny(a){const e=this,r=e.params,i=re(a).closest(`.${r.slideClass}`)[0];let t=!1,n;if(i){for(let s=0;s<e.slides.length;s+=1)if(e.slides[s]===i){t=!0,n=s;break}}if(i&&t)e.clickedSlide=i,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(re(i).attr("data-swiper-slide-index"),10):e.clickedIndex=n;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}r.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}var ay={updateSize:Q0,updateSlides:Y0,updateAutoHeight:J0,updateSlidesOffset:Z0,updateSlidesProgress:ey,updateProgress:ty,updateSlidesClasses:ry,updateActiveIndex:iy,updateClickedSlide:ny};function sy(a=this.isHorizontal()?"x":"y"){const e=this,{params:r,rtlTranslate:i,translate:t,$wrapperEl:n}=e;if(r.virtualTranslate)return i?-t:t;if(r.cssMode)return t;let s=q0(n[0],a);return i&&(s=-s),s||0}function oy(a,e){const r=this,{rtlTranslate:i,params:t,$wrapperEl:n,wrapperEl:s,progress:o}=r;let u=0,l=0;const c=0;r.isHorizontal()?u=i?-a:a:l=a,t.roundLengths&&(u=Math.floor(u),l=Math.floor(l)),t.cssMode?s[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-u:-l:t.virtualTranslate||n.transform(`translate3d(${u}px, ${l}px, ${c}px)`),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?u:l;let d;const h=r.maxTranslate()-r.minTranslate();h===0?d=0:d=(a-r.minTranslate())/h,d!==o&&r.updateProgress(a),r.emit("setTranslate",r.translate,e)}function uy(){return-this.snapGrid[0]}function ly(){return-this.snapGrid[this.snapGrid.length-1]}function cy(a=0,e=this.params.speed,r=!0,i=!0,t){const n=this,{params:s,wrapperEl:o}=n;if(n.animating&&s.preventInteractionOnTransition)return!1;const u=n.minTranslate(),l=n.maxTranslate();let c;if(i&&a>u?c=u:i&&a<l?c=l:c=a,n.updateProgress(c),s.cssMode){const d=n.isHorizontal();if(e===0)o[d?"scrollLeft":"scrollTop"]=-c;else{if(!n.support.smoothScroll)return $c({swiper:n,targetPosition:-c,side:d?"left":"top"}),!0;o.scrollTo({[d?"left":"top"]:-c,behavior:"smooth"})}return!0}return e===0?(n.setTransition(0),n.setTranslate(c),r&&(n.emit("beforeTransitionStart",e,t),n.emit("transitionEnd"))):(n.setTransition(e),n.setTranslate(c),r&&(n.emit("beforeTransitionStart",e,t),n.emit("transitionStart")),n.animating||(n.animating=!0,n.onTranslateToWrapperTransitionEnd||(n.onTranslateToWrapperTransitionEnd=function(h){!n||n.destroyed||h.target===this&&(n.$wrapperEl[0].removeEventListener("transitionend",n.onTranslateToWrapperTransitionEnd),n.$wrapperEl[0].removeEventListener("webkitTransitionEnd",n.onTranslateToWrapperTransitionEnd),n.onTranslateToWrapperTransitionEnd=null,delete n.onTranslateToWrapperTransitionEnd,r&&n.emit("transitionEnd"))}),n.$wrapperEl[0].addEventListener("transitionend",n.onTranslateToWrapperTransitionEnd),n.$wrapperEl[0].addEventListener("webkitTransitionEnd",n.onTranslateToWrapperTransitionEnd))),!0}var dy={getTranslate:sy,setTranslate:oy,minTranslate:uy,maxTranslate:ly,translateTo:cy};function fy(a,e){const r=this;r.params.cssMode||r.$wrapperEl.transition(a),r.emit("setTransition",a,e)}function Xc({swiper:a,runCallbacks:e,direction:r,step:i}){const{activeIndex:t,previousIndex:n}=a;let s=r;if(s||(t>n?s="next":t<n?s="prev":s="reset"),a.emit(`transition${i}`),e&&t!==n){if(s==="reset"){a.emit(`slideResetTransition${i}`);return}a.emit(`slideChangeTransition${i}`),s==="next"?a.emit(`slideNextTransition${i}`):a.emit(`slidePrevTransition${i}`)}}function hy(a=!0,e){const r=this,{params:i}=r;i.cssMode||(i.autoHeight&&r.updateAutoHeight(),Xc({swiper:r,runCallbacks:a,direction:e,step:"Start"}))}function py(a=!0,e){const r=this,{params:i}=r;r.animating=!1,!i.cssMode&&(r.setTransition(0),Xc({swiper:r,runCallbacks:a,direction:e,step:"End"}))}var my={setTransition:fy,transitionStart:hy,transitionEnd:py};function gy(a=0,e=this.params.speed,r=!0,i,t){if(typeof a!="number"&&typeof a!="string")throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof a}] given.`);if(typeof a=="string"){const A=parseInt(a,10);if(!isFinite(A))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${a}] given.`);a=A}const n=this;let s=a;s<0&&(s=0);const{params:o,snapGrid:u,slidesGrid:l,previousIndex:c,activeIndex:d,rtlTranslate:h,wrapperEl:v,enabled:T}=n;if(n.animating&&o.preventInteractionOnTransition||!T&&!i&&!t)return!1;const x=Math.min(n.params.slidesPerGroupSkip,s);let y=x+Math.floor((s-x)/n.params.slidesPerGroup);y>=u.length&&(y=u.length-1),(d||o.initialSlide||0)===(c||0)&&r&&n.emit("beforeSlideChangeStart");const E=-u[y];if(n.updateProgress(E),o.normalizeSlideIndex)for(let A=0;A<l.length;A+=1){const L=-Math.floor(E*100),O=Math.floor(l[A]*100),N=Math.floor(l[A+1]*100);typeof l[A+1]!="undefined"?L>=O&&L<N-(N-O)/2?s=A:L>=O&&L<N&&(s=A+1):L>=O&&(s=A)}if(n.initialized&&s!==d&&(!n.allowSlideNext&&E<n.translate&&E<n.minTranslate()||!n.allowSlidePrev&&E>n.translate&&E>n.maxTranslate()&&(d||0)!==s))return!1;let D;if(s>d?D="next":s<d?D="prev":D="reset",h&&-E===n.translate||!h&&E===n.translate)return n.updateActiveIndex(s),o.autoHeight&&n.updateAutoHeight(),n.updateSlidesClasses(),o.effect!=="slide"&&n.setTranslate(E),D!=="reset"&&(n.transitionStart(r,D),n.transitionEnd(r,D)),!1;if(o.cssMode){const A=n.isHorizontal(),L=h?E:-E;if(e===0){const O=n.virtual&&n.params.virtual.enabled;O&&(n.wrapperEl.style.scrollSnapType="none",n._immediateVirtual=!0),v[A?"scrollLeft":"scrollTop"]=L,O&&requestAnimationFrame(()=>{n.wrapperEl.style.scrollSnapType="",n._swiperImmediateVirtual=!1})}else{if(!n.support.smoothScroll)return $c({swiper:n,targetPosition:L,side:A?"left":"top"}),!0;v.scrollTo({[A?"left":"top"]:L,behavior:"smooth"})}return!0}return n.setTransition(e),n.setTranslate(E),n.updateActiveIndex(s),n.updateSlidesClasses(),n.emit("beforeTransitionStart",e,i),n.transitionStart(r,D),e===0?n.transitionEnd(r,D):n.animating||(n.animating=!0,n.onSlideToWrapperTransitionEnd||(n.onSlideToWrapperTransitionEnd=function(L){!n||n.destroyed||L.target===this&&(n.$wrapperEl[0].removeEventListener("transitionend",n.onSlideToWrapperTransitionEnd),n.$wrapperEl[0].removeEventListener("webkitTransitionEnd",n.onSlideToWrapperTransitionEnd),n.onSlideToWrapperTransitionEnd=null,delete n.onSlideToWrapperTransitionEnd,n.transitionEnd(r,D))}),n.$wrapperEl[0].addEventListener("transitionend",n.onSlideToWrapperTransitionEnd),n.$wrapperEl[0].addEventListener("webkitTransitionEnd",n.onSlideToWrapperTransitionEnd)),!0}function vy(a=0,e=this.params.speed,r=!0,i){const t=this;let n=a;return t.params.loop&&(n+=t.loopedSlides),t.slideTo(n,e,r,i)}function yy(a=this.params.speed,e=!0,r){const i=this,{animating:t,enabled:n,params:s}=i;if(!n)return i;let o=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(o=Math.max(i.slidesPerViewDynamic("current",!0),1));const u=i.activeIndex<s.slidesPerGroupSkip?1:o;if(s.loop){if(t&&s.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}return s.rewind&&i.isEnd?i.slideTo(0,a,e,r):i.slideTo(i.activeIndex+u,a,e,r)}function _y(a=this.params.speed,e=!0,r){const i=this,{params:t,animating:n,snapGrid:s,slidesGrid:o,rtlTranslate:u,enabled:l}=i;if(!l)return i;if(t.loop){if(n&&t.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}const c=u?i.translate:-i.translate;function d(y){return y<0?-Math.floor(Math.abs(y)):Math.floor(y)}const h=d(c),v=s.map(y=>d(y));let T=s[v.indexOf(h)-1];if(typeof T=="undefined"&&t.cssMode){let y;s.forEach((E,D)=>{h>=E&&(y=D)}),typeof y!="undefined"&&(T=s[y>0?y-1:y])}let x=0;return typeof T!="undefined"&&(x=o.indexOf(T),x<0&&(x=i.activeIndex-1),t.slidesPerView==="auto"&&t.slidesPerGroup===1&&t.slidesPerGroupAuto&&(x=x-i.slidesPerViewDynamic("previous",!0)+1,x=Math.max(x,0))),t.rewind&&i.isBeginning?i.slideTo(i.slides.length-1,a,e,r):i.slideTo(x,a,e,r)}function Ty(a=this.params.speed,e=!0,r){const i=this;return i.slideTo(i.activeIndex,a,e,r)}function by(a=this.params.speed,e=!0,r,i=.5){const t=this;let n=t.activeIndex;const s=Math.min(t.params.slidesPerGroupSkip,n),o=s+Math.floor((n-s)/t.params.slidesPerGroup),u=t.rtlTranslate?t.translate:-t.translate;if(u>=t.snapGrid[o]){const l=t.snapGrid[o],c=t.snapGrid[o+1];u-l>(c-l)*i&&(n+=t.params.slidesPerGroup)}else{const l=t.snapGrid[o-1],c=t.snapGrid[o];u-l<=(c-l)*i&&(n-=t.params.slidesPerGroup)}return n=Math.max(n,0),n=Math.min(n,t.slidesGrid.length-1),t.slideTo(n,a,e,r)}function xy(){const a=this,{params:e,$wrapperEl:r}=a,i=e.slidesPerView==="auto"?a.slidesPerViewDynamic():e.slidesPerView;let t=a.clickedIndex,n;if(e.loop){if(a.animating)return;n=parseInt(re(a.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?t<a.loopedSlides-i/2||t>a.slides.length-a.loopedSlides+i/2?(a.loopFix(),t=r.children(`.${e.slideClass}[data-swiper-slide-index="${n}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Pa(()=>{a.slideTo(t)})):a.slideTo(t):t>a.slides.length-i?(a.loopFix(),t=r.children(`.${e.slideClass}[data-swiper-slide-index="${n}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Pa(()=>{a.slideTo(t)})):a.slideTo(t)}else a.slideTo(t)}var Sy={slideTo:gy,slideToLoop:vy,slideNext:yy,slidePrev:_y,slideReset:Ty,slideToClosest:by,slideToClickedSlide:xy};function Ey(){const a=this,e=je(),{params:r,$wrapperEl:i}=a,t=i.children().length>0?re(i.children()[0].parentNode):i;t.children(`.${r.slideClass}.${r.slideDuplicateClass}`).remove();let n=t.children(`.${r.slideClass}`);if(r.loopFillGroupWithBlank){const u=r.slidesPerGroup-n.length%r.slidesPerGroup;if(u!==r.slidesPerGroup){for(let l=0;l<u;l+=1){const c=re(e.createElement("div")).addClass(`${r.slideClass} ${r.slideBlankClass}`);t.append(c)}n=t.children(`.${r.slideClass}`)}}r.slidesPerView==="auto"&&!r.loopedSlides&&(r.loopedSlides=n.length),a.loopedSlides=Math.ceil(parseFloat(r.loopedSlides||r.slidesPerView,10)),a.loopedSlides+=r.loopAdditionalSlides,a.loopedSlides>n.length&&(a.loopedSlides=n.length);const s=[],o=[];n.each((u,l)=>{const c=re(u);l<a.loopedSlides&&o.push(u),l<n.length&&l>=n.length-a.loopedSlides&&s.push(u),c.attr("data-swiper-slide-index",l)});for(let u=0;u<o.length;u+=1)t.append(re(o[u].cloneNode(!0)).addClass(r.slideDuplicateClass));for(let u=s.length-1;u>=0;u-=1)t.prepend(re(s[u].cloneNode(!0)).addClass(r.slideDuplicateClass))}function Cy(){const a=this;a.emit("beforeLoopFix");const{activeIndex:e,slides:r,loopedSlides:i,allowSlidePrev:t,allowSlideNext:n,snapGrid:s,rtlTranslate:o}=a;let u;a.allowSlidePrev=!0,a.allowSlideNext=!0;const c=-s[e]-a.getTranslate();e<i?(u=r.length-i*3+e,u+=i,a.slideTo(u,0,!1,!0)&&c!==0&&a.setTranslate((o?-a.translate:a.translate)-c)):e>=r.length-i&&(u=-r.length+e+i,u+=i,a.slideTo(u,0,!1,!0)&&c!==0&&a.setTranslate((o?-a.translate:a.translate)-c)),a.allowSlidePrev=t,a.allowSlideNext=n,a.emit("loopFix")}function Dy(){const a=this,{$wrapperEl:e,params:r,slides:i}=a;e.children(`.${r.slideClass}.${r.slideDuplicateClass},.${r.slideClass}.${r.slideBlankClass}`).remove(),i.removeAttr("data-swiper-slide-index")}var Ay={loopCreate:Ey,loopFix:Cy,loopDestroy:Dy};function wy(a){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const r=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;r.style.cursor="move",r.style.cursor=a?"-webkit-grabbing":"-webkit-grab",r.style.cursor=a?"-moz-grabbin":"-moz-grab",r.style.cursor=a?"grabbing":"grab"}function ky(){const a=this;a.support.touch||a.params.watchOverflow&&a.isLocked||a.params.cssMode||(a[a.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}var Py={setGrabCursor:wy,unsetGrabCursor:ky};function Iy(a,e=this){function r(i){return!i||i===je()||i===Be()?null:(i.assignedSlot&&(i=i.assignedSlot),i.closest(a)||r(i.getRootNode().host))}return r(e)}function Ly(a){const e=this,r=je(),i=Be(),t=e.touchEventsData,{params:n,touches:s,enabled:o}=e;if(!o||e.animating&&n.preventInteractionOnTransition)return;!e.animating&&n.cssMode&&n.loop&&e.loopFix();let u=a;u.originalEvent&&(u=u.originalEvent);let l=re(u.target);if(n.touchEventsTarget==="wrapper"&&!l.closest(e.wrapperEl).length||(t.isTouchEvent=u.type==="touchstart",!t.isTouchEvent&&"which"in u&&u.which===3)||!t.isTouchEvent&&"button"in u&&u.button>0||t.isTouched&&t.isMoved)return;!!n.noSwipingClass&&n.noSwipingClass!==""&&u.target&&u.target.shadowRoot&&a.path&&a.path[0]&&(l=re(a.path[0]));const d=n.noSwipingSelector?n.noSwipingSelector:`.${n.noSwipingClass}`,h=!!(u.target&&u.target.shadowRoot);if(n.noSwiping&&(h?Iy(d,u.target):l.closest(d)[0])){e.allowClick=!0;return}if(n.swipeHandler&&!l.closest(n.swipeHandler)[0])return;s.currentX=u.type==="touchstart"?u.targetTouches[0].pageX:u.pageX,s.currentY=u.type==="touchstart"?u.targetTouches[0].pageY:u.pageY;const v=s.currentX,T=s.currentY,x=n.edgeSwipeDetection||n.iOSEdgeSwipeDetection,y=n.edgeSwipeThreshold||n.iOSEdgeSwipeThreshold;if(x&&(v<=y||v>=i.innerWidth-y))if(x==="prevent")a.preventDefault();else return;if(Object.assign(t,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=v,s.startY=T,t.touchStartTime=vr(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,n.threshold>0&&(t.allowThresholdMove=!1),u.type!=="touchstart"){let E=!0;l.is(t.focusableElements)&&(E=!1),r.activeElement&&re(r.activeElement).is(t.focusableElements)&&r.activeElement!==l[0]&&r.activeElement.blur();const D=E&&e.allowTouchMove&&n.touchStartPreventDefault;(n.touchStartForcePreventDefault||D)&&!l[0].isContentEditable&&u.preventDefault()}e.emit("touchStart",u)}function Oy(a){const e=je(),r=this,i=r.touchEventsData,{params:t,touches:n,rtlTranslate:s,enabled:o}=r;if(!o)return;let u=a;if(u.originalEvent&&(u=u.originalEvent),!i.isTouched){i.startMoving&&i.isScrolling&&r.emit("touchMoveOpposite",u);return}if(i.isTouchEvent&&u.type!=="touchmove")return;const l=u.type==="touchmove"&&u.targetTouches&&(u.targetTouches[0]||u.changedTouches[0]),c=u.type==="touchmove"?l.pageX:u.pageX,d=u.type==="touchmove"?l.pageY:u.pageY;if(u.preventedByNestedSwiper){n.startX=c,n.startY=d;return}if(!r.allowTouchMove){r.allowClick=!1,i.isTouched&&(Object.assign(n,{startX:c,startY:d,currentX:c,currentY:d}),i.touchStartTime=vr());return}if(i.isTouchEvent&&t.touchReleaseOnEdges&&!t.loop){if(r.isVertical()){if(d<n.startY&&r.translate<=r.maxTranslate()||d>n.startY&&r.translate>=r.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(c<n.startX&&r.translate<=r.maxTranslate()||c>n.startX&&r.translate>=r.minTranslate())return}if(i.isTouchEvent&&e.activeElement&&u.target===e.activeElement&&re(u.target).is(i.focusableElements)){i.isMoved=!0,r.allowClick=!1;return}if(i.allowTouchCallbacks&&r.emit("touchMove",u),u.targetTouches&&u.targetTouches.length>1)return;n.currentX=c,n.currentY=d;const h=n.currentX-n.startX,v=n.currentY-n.startY;if(r.params.threshold&&Math.sqrt(h**2+v**2)<r.params.threshold)return;if(typeof i.isScrolling=="undefined"){let E;r.isHorizontal()&&n.currentY===n.startY||r.isVertical()&&n.currentX===n.startX?i.isScrolling=!1:h*h+v*v>=25&&(E=Math.atan2(Math.abs(v),Math.abs(h))*180/Math.PI,i.isScrolling=r.isHorizontal()?E>t.touchAngle:90-E>t.touchAngle)}if(i.isScrolling&&r.emit("touchMoveOpposite",u),typeof i.startMoving=="undefined"&&(n.currentX!==n.startX||n.currentY!==n.startY)&&(i.startMoving=!0),i.isScrolling){i.isTouched=!1;return}if(!i.startMoving)return;r.allowClick=!1,!t.cssMode&&u.cancelable&&u.preventDefault(),t.touchMoveStopPropagation&&!t.nested&&u.stopPropagation(),i.isMoved||(t.loop&&!t.cssMode&&r.loopFix(),i.startTranslate=r.getTranslate(),r.setTransition(0),r.animating&&r.$wrapperEl.trigger("webkitTransitionEnd transitionend"),i.allowMomentumBounce=!1,t.grabCursor&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!0),r.emit("sliderFirstMove",u)),r.emit("sliderMove",u),i.isMoved=!0;let T=r.isHorizontal()?h:v;n.diff=T,T*=t.touchRatio,s&&(T=-T),r.swipeDirection=T>0?"prev":"next",i.currentTranslate=T+i.startTranslate;let x=!0,y=t.resistanceRatio;if(t.touchReleaseOnEdges&&(y=0),T>0&&i.currentTranslate>r.minTranslate()?(x=!1,t.resistance&&(i.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+i.startTranslate+T)**y)):T<0&&i.currentTranslate<r.maxTranslate()&&(x=!1,t.resistance&&(i.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-i.startTranslate-T)**y)),x&&(u.preventedByNestedSwiper=!0),!r.allowSlideNext&&r.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!r.allowSlidePrev&&r.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!r.allowSlidePrev&&!r.allowSlideNext&&(i.currentTranslate=i.startTranslate),t.threshold>0)if(Math.abs(T)>t.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,i.currentTranslate=i.startTranslate,n.diff=r.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY;return}}else{i.currentTranslate=i.startTranslate;return}!t.followFinger||t.cssMode||((t.freeMode&&t.freeMode.enabled&&r.freeMode||t.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),r.params.freeMode&&t.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(i.currentTranslate),r.setTranslate(i.currentTranslate))}function Fy(a){const e=this,r=e.touchEventsData,{params:i,touches:t,rtlTranslate:n,slidesGrid:s,enabled:o}=e;if(!o)return;let u=a;if(u.originalEvent&&(u=u.originalEvent),r.allowTouchCallbacks&&e.emit("touchEnd",u),r.allowTouchCallbacks=!1,!r.isTouched){r.isMoved&&i.grabCursor&&e.setGrabCursor(!1),r.isMoved=!1,r.startMoving=!1;return}i.grabCursor&&r.isMoved&&r.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const l=vr(),c=l-r.touchStartTime;if(e.allowClick){const y=u.path||u.composedPath&&u.composedPath();e.updateClickedSlide(y&&y[0]||u.target),e.emit("tap click",u),c<300&&l-r.lastClickTime<300&&e.emit("doubleTap doubleClick",u)}if(r.lastClickTime=vr(),Pa(()=>{e.destroyed||(e.allowClick=!0)}),!r.isTouched||!r.isMoved||!e.swipeDirection||t.diff===0||r.currentTranslate===r.startTranslate){r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;return}r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;let d;if(i.followFinger?d=n?e.translate:-e.translate:d=-r.currentTranslate,i.cssMode)return;if(e.params.freeMode&&i.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:d});return}let h=0,v=e.slidesSizesGrid[0];for(let y=0;y<s.length;y+=y<i.slidesPerGroupSkip?1:i.slidesPerGroup){const E=y<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof s[y+E]!="undefined"?d>=s[y]&&d<s[y+E]&&(h=y,v=s[y+E]-s[y]):d>=s[y]&&(h=y,v=s[s.length-1]-s[s.length-2])}const T=(d-s[h])/v,x=h<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(c>i.longSwipesMs){if(!i.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(T>=i.longSwipesRatio?e.slideTo(h+x):e.slideTo(h)),e.swipeDirection==="prev"&&(T>1-i.longSwipesRatio?e.slideTo(h+x):e.slideTo(h))}else{if(!i.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(u.target===e.navigation.nextEl||u.target===e.navigation.prevEl)?u.target===e.navigation.nextEl?e.slideTo(h+x):e.slideTo(h):(e.swipeDirection==="next"&&e.slideTo(h+x),e.swipeDirection==="prev"&&e.slideTo(h))}}function Qc(){const a=this,{params:e,el:r}=a;if(r&&r.offsetWidth===0)return;e.breakpoints&&a.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:t,snapGrid:n}=a;a.allowSlideNext=!0,a.allowSlidePrev=!0,a.updateSize(),a.updateSlides(),a.updateSlidesClasses(),(e.slidesPerView==="auto"||e.slidesPerView>1)&&a.isEnd&&!a.isBeginning&&!a.params.centeredSlides?a.slideTo(a.slides.length-1,0,!1,!0):a.slideTo(a.activeIndex,0,!1,!0),a.autoplay&&a.autoplay.running&&a.autoplay.paused&&a.autoplay.run(),a.allowSlidePrev=t,a.allowSlideNext=i,a.params.watchOverflow&&n!==a.snapGrid&&a.checkOverflow()}function By(a){const e=this;!e.enabled||e.allowClick||(e.params.preventClicks&&a.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(a.stopPropagation(),a.stopImmediatePropagation()))}function Ry(){const a=this,{wrapperEl:e,rtlTranslate:r,enabled:i}=a;if(!i)return;a.previousTranslate=a.translate,a.isHorizontal()?a.translate=-e.scrollLeft:a.translate=-e.scrollTop,a.translate===-0&&(a.translate=0),a.updateActiveIndex(),a.updateSlidesClasses();let t;const n=a.maxTranslate()-a.minTranslate();n===0?t=0:t=(a.translate-a.minTranslate())/n,t!==a.progress&&a.updateProgress(r?-a.translate:a.translate),a.emit("setTranslate",a.translate,!1)}let Yc=!1;function My(){}const Jc=(a,e)=>{const r=je(),{params:i,touchEvents:t,el:n,wrapperEl:s,device:o,support:u}=a,l=!!i.nested,c=e==="on"?"addEventListener":"removeEventListener",d=e;if(!u.touch)n[c](t.start,a.onTouchStart,!1),r[c](t.move,a.onTouchMove,l),r[c](t.end,a.onTouchEnd,!1);else{const h=t.start==="touchstart"&&u.passiveListener&&i.passiveListeners?{passive:!0,capture:!1}:!1;n[c](t.start,a.onTouchStart,h),n[c](t.move,a.onTouchMove,u.passiveListener?{passive:!1,capture:l}:l),n[c](t.end,a.onTouchEnd,h),t.cancel&&n[c](t.cancel,a.onTouchEnd,h)}(i.preventClicks||i.preventClicksPropagation)&&n[c]("click",a.onClick,!0),i.cssMode&&s[c]("scroll",a.onScroll),i.updateOnWindowResize?a[d](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Qc,!0):a[d]("observerUpdate",Qc,!0)};function Ny(){const a=this,e=je(),{params:r,support:i}=a;a.onTouchStart=Ly.bind(a),a.onTouchMove=Oy.bind(a),a.onTouchEnd=Fy.bind(a),r.cssMode&&(a.onScroll=Ry.bind(a)),a.onClick=By.bind(a),i.touch&&!Yc&&(e.addEventListener("touchstart",My),Yc=!0),Jc(a,"on")}function Uy(){Jc(this,"off")}var qy={attachEvents:Ny,detachEvents:Uy};const Zc=(a,e)=>a.grid&&e.grid&&e.grid.rows>1;function Vy(){const a=this,{activeIndex:e,initialized:r,loopedSlides:i=0,params:t,$el:n}=a,s=t.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=a.getBreakpoint(s,a.params.breakpointsBase,a.el);if(!o||a.currentBreakpoint===o)return;const l=(o in s?s[o]:void 0)||a.originalParams,c=Zc(a,t),d=Zc(a,l),h=t.enabled;c&&!d?(n.removeClass(`${t.containerModifierClass}grid ${t.containerModifierClass}grid-column`),a.emitContainerClasses()):!c&&d&&(n.addClass(`${t.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&t.grid.fill==="column")&&n.addClass(`${t.containerModifierClass}grid-column`),a.emitContainerClasses());const v=l.direction&&l.direction!==t.direction,T=t.loop&&(l.slidesPerView!==t.slidesPerView||v);v&&r&&a.changeDirection(),ft(a.params,l);const x=a.params.enabled;Object.assign(a,{allowTouchMove:a.params.allowTouchMove,allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev}),h&&!x?a.disable():!h&&x&&a.enable(),a.currentBreakpoint=o,a.emit("_beforeBreakpoint",l),T&&r&&(a.loopDestroy(),a.loopCreate(),a.updateSlides(),a.slideTo(e-i+a.loopedSlides,0,!1)),a.emit("breakpoint",l)}function Hy(a,e="window",r){if(!a||e==="container"&&!r)return;let i=!1;const t=Be(),n=e==="window"?t.innerHeight:r.clientHeight,s=Object.keys(a).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const u=parseFloat(o.substr(1));return{value:n*u,point:o}}return{value:o,point:o}});s.sort((o,u)=>parseInt(o.value,10)-parseInt(u.value,10));for(let o=0;o<s.length;o+=1){const{point:u,value:l}=s[o];e==="window"?t.matchMedia(`(min-width: ${l}px)`).matches&&(i=u):l<=r.clientWidth&&(i=u)}return i||"max"}var jy={setBreakpoint:Vy,getBreakpoint:Hy};function Gy(a,e){const r=[];return a.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(t=>{i[t]&&r.push(e+t)}):typeof i=="string"&&r.push(e+i)}),r}function zy(){const a=this,{classNames:e,params:r,rtl:i,$el:t,device:n,support:s}=a,o=Gy(["initialized",r.direction,{"pointer-events":!s.touch},{"free-mode":a.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:i},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&r.grid.fill==="column"},{android:n.android},{ios:n.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides}],r.containerModifierClass);e.push(...o),t.addClass([...e].join(" ")),a.emitContainerClasses()}function Wy(){const a=this,{$el:e,classNames:r}=a;e.removeClass(r.join(" ")),a.emitContainerClasses()}var $y={addClasses:zy,removeClasses:Wy};function Ky(a,e,r,i,t,n){const s=Be();let o;function u(){n&&n()}!re(a).parent("picture")[0]&&(!a.complete||!t)&&e?(o=new s.Image,o.onload=u,o.onerror=u,i&&(o.sizes=i),r&&(o.srcset=r),e&&(o.src=e)):u()}function Xy(){const a=this;a.imagesToLoad=a.$el.find("img");function e(){typeof a=="undefined"||a===null||!a||a.destroyed||(a.imagesLoaded!==void 0&&(a.imagesLoaded+=1),a.imagesLoaded===a.imagesToLoad.length&&(a.params.updateOnImagesReady&&a.update(),a.emit("imagesReady")))}for(let r=0;r<a.imagesToLoad.length;r+=1){const i=a.imagesToLoad[r];a.loadImage(i,i.currentSrc||i.getAttribute("src"),i.srcset||i.getAttribute("srcset"),i.sizes||i.getAttribute("sizes"),!0,e)}}var Qy={loadImage:Ky,preloadImages:Xy};function Yy(){const a=this,{isLocked:e,params:r}=a,{slidesOffsetBefore:i}=r;if(i){const t=a.slides.length-1,n=a.slidesGrid[t]+a.slidesSizesGrid[t]+i*2;a.isLocked=a.size>n}else a.isLocked=a.snapGrid.length===1;r.allowSlideNext===!0&&(a.allowSlideNext=!a.isLocked),r.allowSlidePrev===!0&&(a.allowSlidePrev=!a.isLocked),e&&e!==a.isLocked&&(a.isEnd=!1),e!==a.isLocked&&a.emit(a.isLocked?"lock":"unlock")}var Jy={checkOverflow:Yy},ed={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function Zy(a,e){return function(i={}){const t=Object.keys(i)[0],n=i[t];if(typeof n!="object"||n===null){ft(e,i);return}if(["navigation","pagination","scrollbar"].indexOf(t)>=0&&a[t]===!0&&(a[t]={auto:!0}),!(t in a&&"enabled"in n)){ft(e,i);return}a[t]===!0&&(a[t]={enabled:!0}),typeof a[t]=="object"&&!("enabled"in a[t])&&(a[t].enabled=!0),a[t]||(a[t]={enabled:!1}),ft(e,i)}}const _o={eventsEmitter:X0,update:ay,translate:dy,transition:my,slide:Sy,loop:Ay,grabCursor:Py,events:qy,breakpoints:jy,checkOverflow:Jy,classes:$y,images:Qy},To={};class it{constructor(...e){let r,i;if(e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?i=e[0]:[r,i]=e,i||(i={}),i=ft({},i),r&&!i.el&&(i.el=r),i.el&&re(i.el).length>1){const o=[];return re(i.el).each(u=>{const l=ft({},i,{el:u});o.push(new it(l))}),o}const t=this;t.__swiper__=!0,t.support=Kc(),t.device=G0({userAgent:i.userAgent}),t.browser=W0(),t.eventsListeners={},t.eventsAnyListeners=[],t.modules=[...t.__modules__],i.modules&&Array.isArray(i.modules)&&t.modules.push(...i.modules);const n={};t.modules.forEach(o=>{o({swiper:t,extendParams:Zy(i,n),on:t.on.bind(t),once:t.once.bind(t),off:t.off.bind(t),emit:t.emit.bind(t)})});const s=ft({},ed,n);return t.params=ft({},s,To,i),t.originalParams=ft({},t.params),t.passedParams=ft({},i),t.params&&t.params.on&&Object.keys(t.params.on).forEach(o=>{t.on(o,t.params.on[o])}),t.params&&t.params.onAny&&t.onAny(t.params.onAny),t.$=re,Object.assign(t,{enabled:t.params.enabled,el:r,classNames:[],slides:re(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return t.params.direction==="horizontal"},isVertical(){return t.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev,touchEvents:function(){const u=["touchstart","touchmove","touchend","touchcancel"],l=["pointerdown","pointermove","pointerup"];return t.touchEventsTouch={start:u[0],move:u[1],end:u[2],cancel:u[3]},t.touchEventsDesktop={start:l[0],move:l[1],end:l[2]},t.support.touch||!t.params.simulateTouch?t.touchEventsTouch:t.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:t.params.focusableElements,lastClickTime:vr(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:t.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),t.emit("_swiper"),t.params.init&&t.init(),t}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;!e.enabled||(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,r){const i=this;e=Math.min(Math.max(e,0),1);const t=i.minTranslate(),s=(i.maxTranslate()-t)*e+t;i.translateTo(s,typeof r=="undefined"?0:r),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const r=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",r.join(" "))}getSlideClasses(e){const r=this;return e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(r.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const r=[];e.slides.each(i=>{const t=e.getSlideClasses(i);r.push({slideEl:i,classNames:t}),e.emit("_slideClass",i,t)}),e.emit("_slideClasses",r)}slidesPerViewDynamic(e="current",r=!1){const i=this,{params:t,slides:n,slidesGrid:s,slidesSizesGrid:o,size:u,activeIndex:l}=i;let c=1;if(t.centeredSlides){let d=n[l].swiperSlideSize,h;for(let v=l+1;v<n.length;v+=1)n[v]&&!h&&(d+=n[v].swiperSlideSize,c+=1,d>u&&(h=!0));for(let v=l-1;v>=0;v-=1)n[v]&&!h&&(d+=n[v].swiperSlideSize,c+=1,d>u&&(h=!0))}else if(e==="current")for(let d=l+1;d<n.length;d+=1)(r?s[d]+o[d]-s[l]<u:s[d]-s[l]<u)&&(c+=1);else for(let d=l-1;d>=0;d-=1)s[l]-s[d]<u&&(c+=1);return c}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:r,params:i}=e;i.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function t(){const s=e.rtlTranslate?e.translate*-1:e.translate,o=Math.min(Math.max(s,e.maxTranslate()),e.minTranslate());e.setTranslate(o),e.updateActiveIndex(),e.updateSlidesClasses()}let n;e.params.freeMode&&e.params.freeMode.enabled?(t(),e.params.autoHeight&&e.updateAutoHeight()):((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?n=e.slideTo(e.slides.length-1,0,!1,!0):n=e.slideTo(e.activeIndex,0,!1,!0),n||t()),i.watchOverflow&&r!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,r=!0){const i=this,t=i.params.direction;return e||(e=t==="horizontal"?"vertical":"horizontal"),e===t||e!=="horizontal"&&e!=="vertical"||(i.$el.removeClass(`${i.params.containerModifierClass}${t}`).addClass(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.each(n=>{e==="vertical"?n.style.width="":n.style.height=""}),i.emit("changeDirection"),r&&i.update()),i}mount(e){const r=this;if(r.mounted)return!0;const i=re(e||r.params.el);if(e=i[0],!e)return!1;e.swiper=r;const t=()=>`.${(r.params.wrapperClass||"").trim().split(" ").join(".")}`;let s=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const o=re(e.shadowRoot.querySelector(t()));return o.children=u=>i.children(u),o}return i.children(t())})();if(s.length===0&&r.params.createElements){const u=je().createElement("div");s=re(u),u.className=r.params.wrapperClass,i.append(u),i.children(`.${r.params.slideClass}`).each(l=>{s.append(l)})}return Object.assign(r,{$el:i,el:e,$wrapperEl:s,wrapperEl:s[0],mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||i.css("direction")==="rtl",rtlTranslate:r.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||i.css("direction")==="rtl"),wrongRTL:s.css("display")==="-webkit-box"}),!0}init(e){const r=this;return r.initialized||r.mount(e)===!1||(r.emit("beforeInit"),r.params.breakpoints&&r.setBreakpoint(),r.addClasses(),r.params.loop&&r.loopCreate(),r.updateSize(),r.updateSlides(),r.params.watchOverflow&&r.checkOverflow(),r.params.grabCursor&&r.enabled&&r.setGrabCursor(),r.params.preloadImages&&r.preloadImages(),r.params.loop?r.slideTo(r.params.initialSlide+r.loopedSlides,0,r.params.runCallbacksOnInit,!1,!0):r.slideTo(r.params.initialSlide,0,r.params.runCallbacksOnInit,!1,!0),r.attachEvents(),r.initialized=!0,r.emit("init"),r.emit("afterInit")),r}destroy(e=!0,r=!0){const i=this,{params:t,$el:n,$wrapperEl:s,slides:o}=i;return typeof i.params=="undefined"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),t.loop&&i.loopDestroy(),r&&(i.removeClasses(),n.removeAttr("style"),s.removeAttr("style"),o&&o.length&&o.removeClass([t.slideVisibleClass,t.slideActiveClass,t.slideNextClass,t.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(u=>{i.off(u)}),e!==!1&&(i.$el[0].swiper=null,N0(i)),i.destroyed=!0),null}static extendDefaults(e){ft(To,e)}static get extendedDefaults(){return To}static get defaults(){return ed}static installModule(e){it.prototype.__modules__||(it.prototype.__modules__=[]);const r=it.prototype.__modules__;typeof e=="function"&&r.indexOf(e)<0&&r.push(e)}static use(e){return Array.isArray(e)?(e.forEach(r=>it.installModule(r)),it):(it.installModule(e),it)}}Object.keys(_o).forEach(a=>{Object.keys(_o[a]).forEach(e=>{it.prototype[e]=_o[a][e]})});it.use([$0,K0]);function D1({swiper:a,extendParams:e,on:r,emit:i}){let t;a.autoplay={running:!1,paused:!1},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});function n(){const x=a.slides.eq(a.activeIndex);let y=a.params.autoplay.delay;x.attr("data-swiper-autoplay")&&(y=x.attr("data-swiper-autoplay")||a.params.autoplay.delay),clearTimeout(t),t=Pa(()=>{let E;a.params.autoplay.reverseDirection?a.params.loop?(a.loopFix(),E=a.slidePrev(a.params.speed,!0,!0),i("autoplay")):a.isBeginning?a.params.autoplay.stopOnLastSlide?o():(E=a.slideTo(a.slides.length-1,a.params.speed,!0,!0),i("autoplay")):(E=a.slidePrev(a.params.speed,!0,!0),i("autoplay")):a.params.loop?(a.loopFix(),E=a.slideNext(a.params.speed,!0,!0),i("autoplay")):a.isEnd?a.params.autoplay.stopOnLastSlide?o():(E=a.slideTo(0,a.params.speed,!0,!0),i("autoplay")):(E=a.slideNext(a.params.speed,!0,!0),i("autoplay")),(a.params.cssMode&&a.autoplay.running||E===!1)&&n()},y)}function s(){return typeof t!="undefined"||a.autoplay.running?!1:(a.autoplay.running=!0,i("autoplayStart"),n(),!0)}function o(){return!a.autoplay.running||typeof t=="undefined"?!1:(t&&(clearTimeout(t),t=void 0),a.autoplay.running=!1,i("autoplayStop"),!0)}function u(x){!a.autoplay.running||a.autoplay.paused||(t&&clearTimeout(t),a.autoplay.paused=!0,x===0||!a.params.autoplay.waitForTransition?(a.autoplay.paused=!1,n()):["transitionend","webkitTransitionEnd"].forEach(y=>{a.$wrapperEl[0].addEventListener(y,c)}))}function l(){const x=je();x.visibilityState==="hidden"&&a.autoplay.running&&u(),x.visibilityState==="visible"&&a.autoplay.paused&&(n(),a.autoplay.paused=!1)}function c(x){!a||a.destroyed||!a.$wrapperEl||x.target===a.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(y=>{a.$wrapperEl[0].removeEventListener(y,c)}),a.autoplay.paused=!1,a.autoplay.running?n():o())}function d(){a.params.autoplay.disableOnInteraction?o():u(),["transitionend","webkitTransitionEnd"].forEach(x=>{a.$wrapperEl[0].removeEventListener(x,c)})}function h(){a.params.autoplay.disableOnInteraction||(a.autoplay.paused=!1,n())}function v(){a.params.autoplay.pauseOnMouseEnter&&(a.$el.on("mouseenter",d),a.$el.on("mouseleave",h))}function T(){a.$el.off("mouseenter",d),a.$el.off("mouseleave",h)}r("init",()=>{a.params.autoplay.enabled&&(s(),je().addEventListener("visibilitychange",l),v())}),r("beforeTransitionStart",(x,y,E)=>{a.autoplay.running&&(E||!a.params.autoplay.disableOnInteraction?a.autoplay.pause(y):o())}),r("sliderFirstMove",()=>{a.autoplay.running&&(a.params.autoplay.disableOnInteraction?o():u())}),r("touchEnd",()=>{a.params.cssMode&&a.autoplay.paused&&!a.params.autoplay.disableOnInteraction&&n()}),r("destroy",()=>{T(),a.autoplay.running&&o(),je().removeEventListener("visibilitychange",l)}),Object.assign(a.autoplay,{pause:u,run:n,start:s,stop:o})}function A1({swiper:a,extendParams:e,emit:r,once:i}){e({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function t(){const{touchEventsData:s,touches:o}=a;s.velocities.length===0&&s.velocities.push({position:o[a.isHorizontal()?"startX":"startY"],time:s.touchStartTime}),s.velocities.push({position:o[a.isHorizontal()?"currentX":"currentY"],time:vr()})}function n({currentPos:s}){const{params:o,$wrapperEl:u,rtlTranslate:l,snapGrid:c,touchEventsData:d}=a,v=vr()-d.touchStartTime;if(s<-a.minTranslate()){a.slideTo(a.activeIndex);return}if(s>-a.maxTranslate()){a.slides.length<c.length?a.slideTo(c.length-1):a.slideTo(a.slides.length-1);return}if(o.freeMode.momentum){if(d.velocities.length>1){const O=d.velocities.pop(),N=d.velocities.pop(),V=O.position-N.position,M=O.time-N.time;a.velocity=V/M,a.velocity/=2,Math.abs(a.velocity)<o.freeMode.minimumVelocity&&(a.velocity=0),(M>150||vr()-O.time>300)&&(a.velocity=0)}else a.velocity=0;a.velocity*=o.freeMode.momentumVelocityRatio,d.velocities.length=0;let T=1e3*o.freeMode.momentumRatio;const x=a.velocity*T;let y=a.translate+x;l&&(y=-y);let E=!1,D;const A=Math.abs(a.velocity)*20*o.freeMode.momentumBounceRatio;let L;if(y<a.maxTranslate())o.freeMode.momentumBounce?(y+a.maxTranslate()<-A&&(y=a.maxTranslate()-A),D=a.maxTranslate(),E=!0,d.allowMomentumBounce=!0):y=a.maxTranslate(),o.loop&&o.centeredSlides&&(L=!0);else if(y>a.minTranslate())o.freeMode.momentumBounce?(y-a.minTranslate()>A&&(y=a.minTranslate()+A),D=a.minTranslate(),E=!0,d.allowMomentumBounce=!0):y=a.minTranslate(),o.loop&&o.centeredSlides&&(L=!0);else if(o.freeMode.sticky){let O;for(let N=0;N<c.length;N+=1)if(c[N]>-y){O=N;break}Math.abs(c[O]-y)<Math.abs(c[O-1]-y)||a.swipeDirection==="next"?y=c[O]:y=c[O-1],y=-y}if(L&&i("transitionEnd",()=>{a.loopFix()}),a.velocity!==0){if(l?T=Math.abs((-y-a.translate)/a.velocity):T=Math.abs((y-a.translate)/a.velocity),o.freeMode.sticky){const O=Math.abs((l?-y:y)-a.translate),N=a.slidesSizesGrid[a.activeIndex];O<N?T=o.speed:O<2*N?T=o.speed*1.5:T=o.speed*2.5}}else if(o.freeMode.sticky){a.slideToClosest();return}o.freeMode.momentumBounce&&E?(a.updateProgress(D),a.setTransition(T),a.setTranslate(y),a.transitionStart(!0,a.swipeDirection),a.animating=!0,u.transitionEnd(()=>{!a||a.destroyed||!d.allowMomentumBounce||(r("momentumBounce"),a.setTransition(o.speed),setTimeout(()=>{a.setTranslate(D),u.transitionEnd(()=>{!a||a.destroyed||a.transitionEnd()})},0))})):a.velocity?(r("_freeModeNoMomentumRelease"),a.updateProgress(y),a.setTransition(T),a.setTranslate(y),a.transitionStart(!0,a.swipeDirection),a.animating||(a.animating=!0,u.transitionEnd(()=>{!a||a.destroyed||a.transitionEnd()}))):a.updateProgress(y),a.updateActiveIndex(),a.updateSlidesClasses()}else if(o.freeMode.sticky){a.slideToClosest();return}else o.freeMode&&r("_freeModeNoMomentumRelease");(!o.freeMode.momentum||v>=o.longSwipesMs)&&(a.updateProgress(),a.updateActiveIndex(),a.updateSlidesClasses())}Object.assign(a,{freeMode:{onTouchMove:t,onTouchEnd:n}})}function Rr(a){return typeof a=="object"&&a!==null&&a.constructor&&Object.prototype.toString.call(a).slice(8,-1)==="Object"}function yr(a,e){const r=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>r.indexOf(i)<0).forEach(i=>{typeof a[i]=="undefined"?a[i]=e[i]:Rr(e[i])&&Rr(a[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?a[i]=e[i]:yr(a[i],e[i]):a[i]=e[i]})}function bo(a={}){return a.navigation&&typeof a.navigation.nextEl=="undefined"&&typeof a.navigation.prevEl=="undefined"}function xo(a={}){return a.pagination&&typeof a.pagination.el=="undefined"}function So(a={}){return a.scrollbar&&typeof a.scrollbar.el=="undefined"}function Oa(a=""){const e=a.split(" ").map(i=>i.trim()).filter(i=>!!i),r=[];return e.forEach(i=>{r.indexOf(i)<0&&r.push(i)}),r.join(" ")}const td=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","_virtual","zoom"];function e_(a={}){const e={on:{}},r={};yr(e,it.defaults),yr(e,it.extendedDefaults),e._emitClasses=!0,e.init=!1;const i={},t=td.map(n=>n.replace(/_/,""));return Object.keys(a).forEach(n=>{t.indexOf(n)>=0?Rr(a[n])?(e[n]={},r[n]={},yr(e[n],a[n]),yr(r[n],a[n])):(e[n]=a[n],r[n]=a[n]):n.search(/on[A-Z]/)===0&&typeof a[n]=="function"?e.on[`${n[2].toLowerCase()}${n.substr(3)}`]=a[n]:i[n]=a[n]}),["navigation","pagination","scrollbar"].forEach(n=>{e[n]===!0&&(e[n]={}),e[n]===!1&&delete e[n]}),{params:e,passedParams:r,rest:i}}function t_(a){return new it(a)}function r_({el:a,nextEl:e,prevEl:r,paginationEl:i,scrollbarEl:t,swiper:n},s){bo(s)&&e&&r&&(n.params.navigation.nextEl=e,n.originalParams.navigation.nextEl=e,n.params.navigation.prevEl=r,n.originalParams.navigation.prevEl=r),xo(s)&&i&&(n.params.pagination.el=i,n.originalParams.pagination.el=i),So(s)&&t&&(n.params.scrollbar.el=t,n.originalParams.scrollbar.el=t),n.init(a)}function i_(a,e){const r=[];if(!e)return r;const i=n=>{r.indexOf(n)<0&&r.push(n)};return td.filter(n=>n[0]==="_").map(n=>n.replace(/_/,"")).forEach(n=>{if(n in a&&n in e)if(Rr(a[n])&&Rr(e[n])){const s=Object.keys(a[n]),o=Object.keys(e[n]);s.length!==o.length?i(n):(s.forEach(u=>{a[n][u]!==e[n][u]&&i(n)}),o.forEach(u=>{a[n][u]!==e[n][u]&&i(n)}))}else a[n]!==e[n]&&i(n)}),r}function n_({swiper:a,passedParams:e,changedParams:r,nextEl:i,prevEl:t,scrollbarEl:n,paginationEl:s}){const o=r.filter(A=>A!=="children"&&A!=="direction"),{params:u,pagination:l,navigation:c,scrollbar:d,thumbs:h}=a;let v,T,x,y,E;r.includes("thumbs")&&e.thumbs&&e.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(v=!0),r.includes("controller")&&e.controller&&e.controller.control&&u.controller&&!u.controller.control&&(T=!0),r.includes("pagination")&&e.pagination&&(e.pagination.el||s)&&(u.pagination||u.pagination===!1)&&l&&!l.el&&(x=!0),r.includes("scrollbar")&&e.scrollbar&&(e.scrollbar.el||n)&&(u.scrollbar||u.scrollbar===!1)&&d&&!d.el&&(y=!0),r.includes("navigation")&&e.navigation&&(e.navigation.prevEl||t)&&(e.navigation.nextEl||i)&&(u.navigation||u.navigation===!1)&&c&&!c.prevEl&&!c.nextEl&&(E=!0),r.includes("virtual")&&e.virtual&&e.virtual.slides&&a.virtual&&(a.virtual.slides=e.virtual.slides,a.virtual.update());const D=A=>{!a[A]||(a[A].destroy(),A==="navigation"?(u[A].prevEl=void 0,u[A].nextEl=void 0,a[A].prevEl=void 0,a[A].nextEl=void 0):(u[A].el=void 0,a[A].el=void 0))};o.forEach(A=>{if(Rr(u[A])&&Rr(e[A]))yr(u[A],e[A]);else{const L=e[A];(L===!0||L===!1)&&(A==="navigation"||A==="pagination"||A==="scrollbar")?L===!1&&D(A):u[A]=e[A]}}),v&&h.init()&&h.update(!0),T&&(a.controller.control=u.controller.control),x&&(s&&(u.pagination.el=s),l.init(),l.render(),l.update()),y&&(n&&(u.scrollbar.el=n),d.init(),d.updateSize(),d.setTranslate()),E&&(i&&(u.navigation.nextEl=i),t&&(u.navigation.prevEl=t),c.init(),c.update()),r.includes("allowSlideNext")&&(a.allowSlideNext=e.allowSlideNext),r.includes("allowSlidePrev")&&(a.allowSlidePrev=e.allowSlidePrev),r.includes("direction")&&a.changeDirection(e.direction,!1),a.update()}const a_=a=>({virtualData:a&512}),rd=a=>({virtualData:a[9]}),s_=a=>({virtualData:a&512}),id=a=>({virtualData:a[9]}),o_=a=>({virtualData:a&512}),nd=a=>({virtualData:a[9]}),u_=a=>({virtualData:a&512}),ad=a=>({virtualData:a[9]}),l_=a=>({virtualData:a&512}),sd=a=>({virtualData:a[9]});function od(a){let e,r,i;return{c(){e=ct("div"),r=Qt(),i=ct("div"),this.h()},l(t){e=Dt(t,"DIV",{class:!0}),yt(e).forEach(Te),r=Yt(t),i=Dt(t,"DIV",{class:!0}),yt(i).forEach(Te),this.h()},h(){Bt(e,"class","swiper-button-prev"),Bt(i,"class","swiper-button-next")},m(t,n){Ct(t,e,n),a[13](e),Ct(t,r,n),Ct(t,i,n),a[14](i)},p:Ft,d(t){t&&Te(e),a[13](null),t&&Te(r),t&&Te(i),a[14](null)}}}function ud(a){let e;return{c(){e=ct("div"),this.h()},l(r){e=Dt(r,"DIV",{class:!0}),yt(e).forEach(Te),this.h()},h(){Bt(e,"class","swiper-scrollbar")},m(r,i){Ct(r,e,i),a[15](e)},p:Ft,d(r){r&&Te(e),a[15](null)}}}function ld(a){let e;return{c(){e=ct("div"),this.h()},l(r){e=Dt(r,"DIV",{class:!0}),yt(e).forEach(Te),this.h()},h(){Bt(e,"class","swiper-pagination")},m(r,i){Ct(r,e,i),a[16](e)},p:Ft,d(r){r&&Te(e),a[16](null)}}}function c_(a){let e,r,i=bo(a[2]),t,n=So(a[2]),s,o=xo(a[2]),u,l,c,d,h,v,T;const x=a[12]["container-start"],y=Wt(x,a,a[11],sd);let E=i&&od(a),D=n&&ud(a),A=o&&ld(a);const L=a[12]["wrapper-start"],O=Wt(L,a,a[11],ad),N=a[12].default,V=Wt(N,a,a[11],nd),M=a[12]["wrapper-end"],R=Wt(M,a,a[11],id),U=a[12]["container-end"],G=Wt(U,a,a[11],rd);let Y=[{class:v=Oa(`${a[1]}${a[0]?` ${a[0]}`:""}`)},a[3]],te={};for(let H=0;H<Y.length;H+=1)te=Lr(te,Y[H]);return{c(){e=ct("div"),y&&y.c(),r=Qt(),E&&E.c(),t=Qt(),D&&D.c(),s=Qt(),A&&A.c(),u=Qt(),l=ct("div"),O&&O.c(),c=Qt(),V&&V.c(),d=Qt(),R&&R.c(),h=Qt(),G&&G.c(),this.h()},l(H){e=Dt(H,"DIV",{class:!0});var K=yt(e);y&&y.l(K),r=Yt(K),E&&E.l(K),t=Yt(K),D&&D.l(K),s=Yt(K),A&&A.l(K),u=Yt(K),l=Dt(K,"DIV",{class:!0});var X=yt(l);O&&O.l(X),c=Yt(X),V&&V.l(X),d=Yt(X),R&&R.l(X),X.forEach(Te),h=Yt(K),G&&G.l(K),K.forEach(Te),this.h()},h(){Bt(l,"class","swiper-wrapper"),ha(e,te)},m(H,K){Ct(H,e,K),y&&y.m(e,null),Et(e,r),E&&E.m(e,null),Et(e,t),D&&D.m(e,null),Et(e,s),A&&A.m(e,null),Et(e,u),Et(e,l),O&&O.m(l,null),Et(l,c),V&&V.m(l,null),Et(l,d),R&&R.m(l,null),Et(e,h),G&&G.m(e,null),a[17](e),T=!0},p(H,[K]){y&&y.p&&(!T||K&2560)&&Kt(y,x,H,H[11],T?$t(x,H[11],K,l_):Xt(H[11]),sd),K&4&&(i=bo(H[2])),i?E?E.p(H,K):(E=od(H),E.c(),E.m(e,t)):E&&(E.d(1),E=null),K&4&&(n=So(H[2])),n?D?D.p(H,K):(D=ud(H),D.c(),D.m(e,s)):D&&(D.d(1),D=null),K&4&&(o=xo(H[2])),o?A?A.p(H,K):(A=ld(H),A.c(),A.m(e,u)):A&&(A.d(1),A=null),O&&O.p&&(!T||K&2560)&&Kt(O,L,H,H[11],T?$t(L,H[11],K,u_):Xt(H[11]),ad),V&&V.p&&(!T||K&2560)&&Kt(V,N,H,H[11],T?$t(N,H[11],K,o_):Xt(H[11]),nd),R&&R.p&&(!T||K&2560)&&Kt(R,M,H,H[11],T?$t(M,H[11],K,s_):Xt(H[11]),id),G&&G.p&&(!T||K&2560)&&Kt(G,U,H,H[11],T?$t(U,H[11],K,a_):Xt(H[11]),rd),ha(e,te=Ec(Y,[(!T||K&3&&v!==(v=Oa(`${H[1]}${H[0]?` ${H[0]}`:""}`)))&&{class:v},K&8&&H[3]]))},i(H){T||(rt(y,H),rt(O,H),rt(V,H),rt(R,H),rt(G,H),T=!0)},o(H){dt(y,H),dt(O,H),dt(V,H),dt(R,H),dt(G,H),T=!1},d(H){H&&Te(e),y&&y.d(H),E&&E.d(),D&&D.d(),A&&A.d(),O&&O.d(H),V&&V.d(H),R&&R.d(H),G&&G.d(H),a[17](null)}}}function d_(a,e,r){const i=["class","swiper"];let t=ca(e,i),{$$slots:n={},$$scope:s}=e;const o=dv();let{class:u=void 0}=e,l="swiper",c=!1,d=null,h=null,v,T,x,y,E=null,D=null,A=null,L=null,O=null,N={slides:[]};function V(){return d}const M=X=>{r(9,N=X),va().then(()=>{d.$wrapperEl.children(".swiper-slide").each(ae=>{ae.onSwiper&&ae.onSwiper(d)}),d.updateSlides(),d.updateProgress(),d.updateSlidesClasses(),d.lazy&&d.params.lazy.enabled&&d.lazy.load()})},R=()=>{v=e_(t),r(2,T=v.params),x=v.passedParams,r(3,y=v.rest)};R(),h=x;const U=()=>{c=!0};if(T.onAny=(X,...ae)=>{o(X,[ae])},Object.assign(T.on,{_beforeBreakpoint:U,_containerClasses(X,ae){r(1,l=ae)}}),d=t_(T),d.virtual&&d.params.virtual.enabled){const X={cache:!1,renderExternal:ae=>{M(ae),T.virtual&&T.virtual.renderExternal&&T.virtual.renderExternal(ae)},renderExternalUpdate:!1};yr(d.params.virtual,X),yr(d.originalParams.virtual,X)}ma(()=>{!E||(r_({el:E,nextEl:A,prevEl:D,paginationEl:O,scrollbarEl:L,swiper:d},T),o("swiper",[d]),!T.virtual&&d.slides.each(X=>{X.onSwiper&&X.onSwiper(d)}))}),yc(()=>{if(!d)return;R();const X=i_(x,h);(X.length||c)&&d&&!d.destroyed&&n_({swiper:d,passedParams:x,changedParams:X,nextEl:A,prevEl:D,scrollbarEl:L,paginationEl:O}),c=!1,h=x}),io(()=>{typeof window!="undefined"&&d&&!d.destroyed&&d.destroy(!0,!1)});function G(X){Rt[X?"unshift":"push"](()=>{D=X,r(5,D)})}function Y(X){Rt[X?"unshift":"push"](()=>{A=X,r(6,A)})}function te(X){Rt[X?"unshift":"push"](()=>{L=X,r(7,L)})}function H(X){Rt[X?"unshift":"push"](()=>{O=X,r(8,O)})}function K(X){Rt[X?"unshift":"push"](()=>{E=X,r(4,E)})}return a.$$set=X=>{e=Lr(Lr({},e),pc(X)),r(27,t=ca(e,i)),"class"in X&&r(0,u=X.class),"$$scope"in X&&r(11,s=X.$$scope)},[u,l,T,y,E,D,A,L,O,N,V,s,n,G,Y,te,H,K]}class w1 extends xa{constructor(e){super();ba(this,e,d_,c_,Wi,{class:0,swiper:10})}get swiper(){return this.$$.ctx[10]}}const f_=a=>({data:a&32}),cd=a=>({data:a[5]}),h_=a=>({data:a&32}),dd=a=>({data:a[5]});function p_(a){let e;const r=a[8].default,i=Wt(r,a,a[7],cd);return{c(){i&&i.c()},l(t){i&&i.l(t)},m(t,n){i&&i.m(t,n),e=!0},p(t,n){i&&i.p&&(!e||n&160)&&Kt(i,r,t,t[7],e?$t(r,t[7],n,f_):Xt(t[7]),cd)},i(t){e||(rt(i,t),e=!0)},o(t){dt(i,t),e=!1},d(t){i&&i.d(t)}}}function m_(a){let e,r,i;const t=a[8].default,n=Wt(t,a,a[7],dd);return{c(){e=ct("div"),n&&n.c(),this.h()},l(s){e=Dt(s,"DIV",{class:!0,"data-swiper-zoom":!0});var o=yt(e);n&&n.l(o),o.forEach(Te),this.h()},h(){Bt(e,"class","swiper-zoom-container"),Bt(e,"data-swiper-zoom",r=typeof a[0]=="number"?a[0]:void 0)},m(s,o){Ct(s,e,o),n&&n.m(e,null),i=!0},p(s,o){n&&n.p&&(!i||o&160)&&Kt(n,t,s,s[7],i?$t(t,s[7],o,h_):Xt(s[7]),dd),(!i||o&1&&r!==(r=typeof s[0]=="number"?s[0]:void 0))&&Bt(e,"data-swiper-zoom",r)},i(s){i||(rt(n,s),i=!0)},o(s){dt(n,s),i=!1},d(s){s&&Te(e),n&&n.d(s)}}}function g_(a){let e,r,i,t,n;const s=[m_,p_],o=[];function u(d,h){return d[0]?0:1}r=u(a),i=o[r]=s[r](a);let l=[{class:t=Oa(`${a[3]}${a[2]?` ${a[2]}`:""}`)},{"data-swiper-slide-index":a[1]},a[6]],c={};for(let d=0;d<l.length;d+=1)c=Lr(c,l[d]);return{c(){e=ct("div"),i.c(),this.h()},l(d){e=Dt(d,"DIV",{class:!0,"data-swiper-slide-index":!0});var h=yt(e);i.l(h),h.forEach(Te),this.h()},h(){ha(e,c)},m(d,h){Ct(d,e,h),o[r].m(e,null),a[9](e),n=!0},p(d,[h]){let v=r;r=u(d),r===v?o[r].p(d,h):(xc(),dt(o[v],1,1,()=>{o[v]=null}),Sc(),i=o[r],i?i.p(d,h):(i=o[r]=s[r](d),i.c()),rt(i,1),i.m(e,null)),ha(e,c=Ec(l,[(!n||h&12&&t!==(t=Oa(`${d[3]}${d[2]?` ${d[2]}`:""}`)))&&{class:t},(!n||h&2)&&{"data-swiper-slide-index":d[1]},h&64&&d[6]]))},i(d){n||(rt(i),n=!0)},o(d){dt(i),n=!1},d(d){d&&Te(e),o[r].d(),a[9](null)}}}function v_(a,e,r){let i;const t=["zoom","virtualIndex","class"];let n=ca(e,t),{$$slots:s={},$$scope:o}=e,{zoom:u=void 0}=e,{virtualIndex:l=void 0}=e,{class:c=void 0}=e,d=null,h="swiper-slide",v=null,T=!1;const x=(A,L,O)=>{L===d&&r(3,h=O)},y=()=>{!v||T||(v.on("_slideClass",x),T=!0)},E=()=>{!v||(v.off("_slideClass",x),T=!1)};ma(()=>{typeof l!="undefined"&&(r(4,d.onSwiper=A=>{v=A,y()},d),y())}),yc(()=>{if(!(!d||!v)){if(v.destroyed){h!=="swiper-slide"&&r(3,h="swiper-slide");return}y()}}),cv(()=>{y()}),io(()=>{!v||E()});function D(A){Rt[A?"unshift":"push"](()=>{d=A,r(4,d)})}return a.$$set=A=>{e=Lr(Lr({},e),pc(A)),r(6,n=ca(e,t)),"zoom"in A&&r(0,u=A.zoom),"virtualIndex"in A&&r(1,l=A.virtualIndex),"class"in A&&r(2,c=A.class),"$$scope"in A&&r(7,o=A.$$scope)},a.$$.update=()=>{a.$$.dirty&8&&r(5,i={isActive:h.indexOf("swiper-slide-active")>=0||h.indexOf("swiper-slide-duplicate-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isDuplicate:h.indexOf("swiper-slide-duplicate")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0||h.indexOf("swiper-slide-duplicate-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0||h.indexOf("swiper-slide-duplicate-next")>=0})},[u,l,c,h,d,i,n,o,s,D]}class k1 extends xa{constructor(e){super();ba(this,e,v_,g_,Wi,{zoom:0,virtualIndex:1,class:2})}}var tn;typeof window!="undefined"?tn=window:typeof mr!="undefined"?tn=mr:typeof self!="undefined"?tn=self:tn={};var P=tn,y_={},__=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:y_}),T_=ho(__),fd=typeof mr!="undefined"?mr:typeof window!="undefined"?window:{},b_=T_,rn;typeof document!="undefined"?rn=document:(rn=fd["__GLOBAL_DOCUMENT_CACHE@4"],rn||(rn=fd["__GLOBAL_DOCUMENT_CACHE@4"]=b_));var W=rn;function _t(){return _t=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])}return a},_t.apply(this,arguments)}var x_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_t});function se(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function nn(a,e){return nn=Object.setPrototypeOf||function(i,t){return i.__proto__=t,i},nn(a,e)}function $(a,e){a.prototype=Object.create(e.prototype),a.prototype.constructor=a,nn(a,e)}var S_=E_;function E_(a,e){var r,i=null;try{r=JSON.parse(a,e)}catch(t){i=t}return[i,r]}var Eo={exports:{}};(function(a,e){function r(u){if(u&&typeof u=="object"){var l=u.which||u.keyCode||u.charCode;l&&(u=l)}if(typeof u=="number")return s[u];var c=String(u),d=i[c.toLowerCase()];if(d)return d;var d=t[c.toLowerCase()];if(d)return d;if(c.length===1)return c.charCodeAt(0)}r.isEventKey=function(l,c){if(l&&typeof l=="object"){var d=l.which||l.keyCode||l.charCode;if(d==null)return!1;if(typeof c=="string"){var h=i[c.toLowerCase()];if(h)return h===d;var h=t[c.toLowerCase()];if(h)return h===d}else if(typeof c=="number")return c===d;return!1}},e=a.exports=r;var i=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},t=e.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(n=97;n<123;n++)i[String.fromCharCode(n)]=n-32;for(var n=48;n<58;n++)i[n-48]=n;for(n=1;n<13;n++)i["f"+n]=n+111;for(n=0;n<10;n++)i["numpad "+n]=n+96;var s=e.names=e.title={};for(n in i)s[i[n]]=n;for(var o in t)i[o]=t[o]})(Eo,Eo.exports);var oe=Eo.exports,Co={exports:{}},C_=ho(x_),D_=w_,A_=Object.prototype.toString;function w_(a){if(!a)return!1;var e=A_.call(a);return e==="[object Function]"||typeof a=="function"&&e!=="[object RegExp]"||typeof window!="undefined"&&(a===window.setTimeout||a===window.alert||a===window.confirm||a===window.prompt)}var k_=P,P_=function(e,r){return r===void 0&&(r=!1),function(i,t,n){if(i){e(i);return}if(t.statusCode>=400&&t.statusCode<=599){var s=n;if(r)if(k_.TextDecoder){var o=I_(t.headers&&t.headers["content-type"]);try{s=new TextDecoder(o).decode(n)}catch{}}else s=String.fromCharCode.apply(null,new Uint8Array(n));e({cause:s});return}e(null,n)}};function I_(a){return a===void 0&&(a=""),a.toLowerCase().split(";").reduce(function(e,r){var i=r.split("="),t=i[0],n=i[1];return t.trim()==="charset"?n.trim():e},"utf-8")}var L_=P_,hd=P,O_=C_,F_=D_;Mt.httpHandler=L_;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var B_=function(e){var r={};return e&&e.trim().split(`
`).forEach(function(i){var t=i.indexOf(":"),n=i.slice(0,t).trim().toLowerCase(),s=i.slice(t+1).trim();typeof r[n]=="undefined"?r[n]=s:Array.isArray(r[n])?r[n].push(s):r[n]=[r[n],s]}),r};Co.exports=Mt;Co.exports.default=Mt;Mt.XMLHttpRequest=hd.XMLHttpRequest||U_;Mt.XDomainRequest="withCredentials"in new Mt.XMLHttpRequest?Mt.XMLHttpRequest:hd.XDomainRequest;R_(["get","put","post","patch","head","delete"],function(a){Mt[a==="delete"?"del":a]=function(e,r,i){return r=pd(e,r,i),r.method=a.toUpperCase(),md(r)}});function R_(a,e){for(var r=0;r<a.length;r++)e(a[r])}function M_(a){for(var e in a)if(a.hasOwnProperty(e))return!1;return!0}function pd(a,e,r){var i=a;return F_(e)?(r=e,typeof a=="string"&&(i={uri:a})):i=O_({},e,{uri:a}),i.callback=r,i}function Mt(a,e,r){return e=pd(a,e,r),md(e)}function md(a){if(typeof a.callback=="undefined")throw new Error("callback argument missing");var e=!1,r=function(A,L,O){e||(e=!0,a.callback(A,L,O))};function i(){o.readyState===4&&setTimeout(s,0)}function t(){var D=void 0;if(o.response?D=o.response:D=o.responseText||N_(o),x)try{D=JSON.parse(D)}catch{}return D}function n(D){return clearTimeout(y),D instanceof Error||(D=new Error(""+(D||"Unknown XMLHttpRequest Error"))),D.statusCode=0,r(D,E)}function s(){if(!l){var D;clearTimeout(y),a.useXDR&&o.status===void 0?D=200:D=o.status===1223?204:o.status;var A=E,L=null;return D!==0?(A={body:t(),statusCode:D,method:d,headers:{},url:c,rawRequest:o},o.getAllResponseHeaders&&(A.headers=B_(o.getAllResponseHeaders()))):L=new Error("Internal XMLHttpRequest Error"),r(L,A,A.body)}}var o=a.xhr||null;o||(a.cors||a.useXDR?o=new Mt.XDomainRequest:o=new Mt.XMLHttpRequest);var u,l,c=o.url=a.uri||a.url,d=o.method=a.method||"GET",h=a.body||a.data,v=o.headers=a.headers||{},T=!!a.sync,x=!1,y,E={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:o};if("json"in a&&a.json!==!1&&(x=!0,v.accept||v.Accept||(v.Accept="application/json"),d!=="GET"&&d!=="HEAD"&&(v["content-type"]||v["Content-Type"]||(v["Content-Type"]="application/json"),h=JSON.stringify(a.json===!0?h:a.json))),o.onreadystatechange=i,o.onload=s,o.onerror=n,o.onprogress=function(){},o.onabort=function(){l=!0},o.ontimeout=n,o.open(d,c,!T,a.username,a.password),T||(o.withCredentials=!!a.withCredentials),!T&&a.timeout>0&&(y=setTimeout(function(){if(!l){l=!0,o.abort("timeout");var D=new Error("XMLHttpRequest timeout");D.code="ETIMEDOUT",n(D)}},a.timeout)),o.setRequestHeader)for(u in v)v.hasOwnProperty(u)&&o.setRequestHeader(u,v[u]);else if(a.headers&&!M_(a.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in a&&(o.responseType=a.responseType),"beforeSend"in a&&typeof a.beforeSend=="function"&&a.beforeSend(o),o.send(h||null),o}function N_(a){try{if(a.responseType==="document")return a.responseXML;var e=a.responseXML&&a.responseXML.documentElement.nodeName==="parsererror";if(a.responseType===""&&!e)return a.responseXML}catch{}return null}function U_(){}var gd=Co.exports,vd={exports:{}},yd=W,Do=Object.create||function(){function a(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return a.prototype=e,new a}}();function ht(a,e){this.name="ParsingError",this.code=a.code,this.message=e||a.message}ht.prototype=Do(Error.prototype);ht.prototype.constructor=ht;ht.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function Ao(a){function e(i,t,n,s){return(i|0)*3600+(t|0)*60+(n|0)+(s|0)/1e3}var r=a.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return r?r[3]?e(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?e(r[1],r[2],0,r[4]):e(0,r[1],r[2],r[4]):null}function an(){this.values=Do(null)}an.prototype={set:function(a,e){!this.get(a)&&e!==""&&(this.values[a]=e)},get:function(a,e,r){return r?this.has(a)?this.values[a]:e[r]:this.has(a)?this.values[a]:e},has:function(a){return a in this.values},alt:function(a,e,r){for(var i=0;i<r.length;++i)if(e===r[i]){this.set(a,e);break}},integer:function(a,e){/^-?\d+$/.test(e)&&this.set(a,parseInt(e,10))},percent:function(a,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(a,e),!0):!1}};function sn(a,e,r,i){var t=i?a.split(i):[a];for(var n in t)if(typeof t[n]=="string"){var s=t[n].split(r);if(s.length===2){var o=s[0],u=s[1];e(o,u)}}}function q_(a,e,r){var i=a;function t(){var o=Ao(a);if(o===null)throw new ht(ht.Errors.BadTimeStamp,"Malformed timestamp: "+i);return a=a.replace(/^[^\sa-zA-Z-]+/,""),o}function n(o,u){var l=new an;sn(o,function(c,d){switch(c){case"region":for(var h=r.length-1;h>=0;h--)if(r[h].id===d){l.set(c,r[h].region);break}break;case"vertical":l.alt(c,d,["rl","lr"]);break;case"line":var v=d.split(","),T=v[0];l.integer(c,T),l.percent(c,T)&&l.set("snapToLines",!1),l.alt(c,T,["auto"]),v.length===2&&l.alt("lineAlign",v[1],["start","center","end"]);break;case"position":v=d.split(","),l.percent(c,v[0]),v.length===2&&l.alt("positionAlign",v[1],["start","center","end"]);break;case"size":l.percent(c,d);break;case"align":l.alt(c,d,["start","center","end","left","right"]);break}},/:/,/\s/),u.region=l.get("region",null),u.vertical=l.get("vertical","");try{u.line=l.get("line","auto")}catch{}u.lineAlign=l.get("lineAlign","start"),u.snapToLines=l.get("snapToLines",!0),u.size=l.get("size",100);try{u.align=l.get("align","center")}catch{u.align=l.get("align","middle")}try{u.position=l.get("position","auto")}catch{u.position=l.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},u.align)}u.positionAlign=l.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},u.align)}function s(){a=a.replace(/^\s+/,"")}if(s(),e.startTime=t(),s(),a.substr(0,3)!=="-->")throw new ht(ht.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+i);a=a.substr(3),s(),e.endTime=t(),s(),n(a,e)}var wo=yd.createElement&&yd.createElement("textarea"),V_={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},_d={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},H_={v:"title",lang:"lang"},Td={rt:"ruby"};function bd(a,e){function r(){if(!e)return null;function T(y){return e=e.substr(y.length),y}var x=e.match(/^([^<]*)(<[^>]*>?)?/);return T(x[1]?x[1]:x[2])}function i(T){return wo.innerHTML=T,T=wo.textContent,wo.textContent="",T}function t(T,x){return!Td[x.localName]||Td[x.localName]===T.localName}function n(T,x){var y=V_[T];if(!y)return null;var E=a.document.createElement(y),D=H_[T];return D&&x&&(E[D]=x.trim()),E}for(var s=a.document.createElement("div"),o=s,u,l=[];(u=r())!==null;){if(u[0]==="<"){if(u[1]==="/"){l.length&&l[l.length-1]===u.substr(2).replace(">","")&&(l.pop(),o=o.parentNode);continue}var c=Ao(u.substr(1,u.length-2)),d;if(c){d=a.document.createProcessingInstruction("timestamp",c),o.appendChild(d);continue}var h=u.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h||(d=n(h[1],h[3]),!d)||!t(o,d))continue;if(h[2]){var v=h[2].split(".");v.forEach(function(T){var x=/^bg_/.test(T),y=x?T.slice(3):T;if(_d.hasOwnProperty(y)){var E=x?"background-color":"color",D=_d[y];d.style[E]=D}}),d.className=v.join(" ")}l.push(h[1]),o.appendChild(d),o=d;continue}o.appendChild(a.document.createTextNode(i(u)))}return s}var xd=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function j_(a){for(var e=0;e<xd.length;e++){var r=xd[e];if(a>=r[0]&&a<=r[1])return!0}return!1}function G_(a){var e=[],r="",i;if(!a||!a.childNodes)return"ltr";function t(o,u){for(var l=u.childNodes.length-1;l>=0;l--)o.push(u.childNodes[l])}function n(o){if(!o||!o.length)return null;var u=o.pop(),l=u.textContent||u.innerText;if(l){var c=l.match(/^.*(\n|\r)/);return c?(o.length=0,c[0]):l}if(u.tagName==="ruby")return n(o);if(u.childNodes)return t(o,u),n(o)}for(t(e,a);r=n(e);)for(var s=0;s<r.length;s++)if(i=r.charCodeAt(s),j_(i))return"rtl";return"ltr"}function z_(a){if(typeof a.line=="number"&&(a.snapToLines||a.line>=0&&a.line<=100))return a.line;if(!a.track||!a.track.textTrackList||!a.track.textTrackList.mediaElement)return-1;for(var e=a.track,r=e.textTrackList,i=0,t=0;t<r.length&&r[t]!==e;t++)r[t].mode==="showing"&&i++;return++i*-1}function Fa(){}Fa.prototype.applyStyles=function(a,e){e=e||this.div;for(var r in a)a.hasOwnProperty(r)&&(e.style[r]=a[r])};Fa.prototype.formatStyle=function(a,e){return a===0?0:a+e};function Ba(a,e,r){Fa.call(this),this.cue=e,this.cueDiv=bd(a,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=a.document.createElement("div"),i={direction:G_(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var t=0;switch(e.positionAlign){case"start":t=e.position;break;case"center":t=e.position-e.size/2;break;case"end":t=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(t,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(t,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(n){this.applyStyles({top:this.formatStyle(n.top,"px"),bottom:this.formatStyle(n.bottom,"px"),left:this.formatStyle(n.left,"px"),right:this.formatStyle(n.right,"px"),height:this.formatStyle(n.height,"px"),width:this.formatStyle(n.width,"px")})}}Ba.prototype=Do(Fa.prototype);Ba.prototype.constructor=Ba;function Qe(a){var e,r,i,t;if(a.div){r=a.div.offsetHeight,i=a.div.offsetWidth,t=a.div.offsetTop;var n=(n=a.div.childNodes)&&(n=n[0])&&n.getClientRects&&n.getClientRects();a=a.div.getBoundingClientRect(),e=n?Math.max(n[0]&&n[0].height||0,a.height/n.length):0}this.left=a.left,this.right=a.right,this.top=a.top||t,this.height=a.height||r,this.bottom=a.bottom||t+(a.height||r),this.width=a.width||i,this.lineHeight=e!==void 0?e:a.lineHeight}Qe.prototype.move=function(a,e){switch(e=e!==void 0?e:this.lineHeight,a){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};Qe.prototype.overlaps=function(a){return this.left<a.right&&this.right>a.left&&this.top<a.bottom&&this.bottom>a.top};Qe.prototype.overlapsAny=function(a){for(var e=0;e<a.length;e++)if(this.overlaps(a[e]))return!0;return!1};Qe.prototype.within=function(a){return this.top>=a.top&&this.bottom<=a.bottom&&this.left>=a.left&&this.right<=a.right};Qe.prototype.overlapsOppositeAxis=function(a,e){switch(e){case"+x":return this.left<a.left;case"-x":return this.right>a.right;case"+y":return this.top<a.top;case"-y":return this.bottom>a.bottom}};Qe.prototype.intersectPercentage=function(a){var e=Math.max(0,Math.min(this.right,a.right)-Math.max(this.left,a.left)),r=Math.max(0,Math.min(this.bottom,a.bottom)-Math.max(this.top,a.top)),i=e*r;return i/(this.height*this.width)};Qe.prototype.toCSSCompatValues=function(a){return{top:this.top-a.top,bottom:a.bottom-this.bottom,left:this.left-a.left,right:a.right-this.right,height:this.height,width:this.width}};Qe.getSimpleBoxPosition=function(a){var e=a.div?a.div.offsetHeight:a.tagName?a.offsetHeight:0,r=a.div?a.div.offsetWidth:a.tagName?a.offsetWidth:0,i=a.div?a.div.offsetTop:a.tagName?a.offsetTop:0;a=a.div?a.div.getBoundingClientRect():a.tagName?a.getBoundingClientRect():a;var t={left:a.left,right:a.right,top:a.top||i,height:a.height||e,bottom:a.bottom||i+(a.height||e),width:a.width||r};return t};function W_(a,e,r,i){function t(y,E){for(var D,A=new Qe(y),L=1,O=0;O<E.length;O++){for(;y.overlapsOppositeAxis(r,E[O])||y.within(r)&&y.overlapsAny(i);)y.move(E[O]);if(y.within(r))return y;var N=y.intersectPercentage(r);L>N&&(D=new Qe(y),L=N),y=new Qe(A)}return D||A}var n=new Qe(e),s=e.cue,o=z_(s),u=[];if(s.snapToLines){var l;switch(s.vertical){case"":u=["+y","-y"],l="height";break;case"rl":u=["+x","-x"],l="width";break;case"lr":u=["-x","+x"],l="width";break}var c=n.lineHeight,d=c*Math.round(o),h=r[l]+c,v=u[0];Math.abs(d)>h&&(d=d<0?-1:1,d*=Math.ceil(h/c)*c),o<0&&(d+=s.vertical===""?r.height:r.width,u=u.reverse()),n.move(v,d)}else{var T=n.lineHeight/r.height*100;switch(s.lineAlign){case"center":o-=T/2;break;case"end":o-=T;break}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}u=["+y","-x","+x","-y"],n=new Qe(e)}var x=t(n,u);e.move(x.toCSSCompatValues(r))}function ai(){}ai.StringDecoder=function(){return{decode:function(a){if(!a)return"";if(typeof a!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(a))}}};ai.convertCueToDOMTree=function(a,e){return!a||!e?null:bd(a,e)};var $_=.05,K_="sans-serif",X_="1.5%";ai.processCues=function(a,e,r){if(!a||!e||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var i=a.document.createElement("div");i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=X_,r.appendChild(i);function t(c){for(var d=0;d<c.length;d++)if(c[d].hasBeenReset||!c[d].displayState)return!0;return!1}if(!t(e)){for(var n=0;n<e.length;n++)i.appendChild(e[n].displayState);return}var s=[],o=Qe.getSimpleBoxPosition(i),u=Math.round(o.height*$_*100)/100,l={font:u+"px "+K_};(function(){for(var c,d,h=0;h<e.length;h++)d=e[h],c=new Ba(a,d,l),i.appendChild(c.div),W_(a,c,o,s),d.displayState=c.div,s.push(Qe.getSimpleBoxPosition(c))})()};ai.Parser=function(a,e,r){r||(r=e,e={}),e||(e={}),this.window=a,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]};ai.Parser.prototype={reportOrThrowError:function(a){if(a instanceof ht)this.onparsingerror&&this.onparsingerror(a);else throw a},parse:function(a){var e=this;a&&(e.buffer+=e.decoder.decode(a,{stream:!0}));function r(){for(var c=e.buffer,d=0;d<c.length&&c[d]!=="\r"&&c[d]!==`
`;)++d;var h=c.substr(0,d);return c[d]==="\r"&&++d,c[d]===`
`&&++d,e.buffer=c.substr(d),h}function i(c){var d=new an;if(sn(c,function(v,T){switch(v){case"id":d.set(v,T);break;case"width":d.percent(v,T);break;case"lines":d.integer(v,T);break;case"regionanchor":case"viewportanchor":var x=T.split(",");if(x.length!==2)break;var y=new an;if(y.percent("x",x[0]),y.percent("y",x[1]),!y.has("x")||!y.has("y"))break;d.set(v+"X",y.get("x")),d.set(v+"Y",y.get("y"));break;case"scroll":d.alt(v,T,["up"]);break}},/=/,/\s/),d.has("id")){var h=new(e.vttjs.VTTRegion||e.window.VTTRegion);h.width=d.get("width",100),h.lines=d.get("lines",3),h.regionAnchorX=d.get("regionanchorX",0),h.regionAnchorY=d.get("regionanchorY",100),h.viewportAnchorX=d.get("viewportanchorX",0),h.viewportAnchorY=d.get("viewportanchorY",100),h.scroll=d.get("scroll",""),e.onregion&&e.onregion(h),e.regionList.push({id:d.get("id"),region:h})}}function t(c){var d=new an;sn(c,function(h,v){switch(h){case"MPEGT":d.integer(h+"S",v);break;case"LOCA":d.set(h+"L",Ao(v));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:d.get("MPEGTS"),LOCAL:d.get("LOCAL")})}function n(c){c.match(/X-TIMESTAMP-MAP/)?sn(c,function(d,h){switch(d){case"X-TIMESTAMP-MAP":t(h);break}},/=/):sn(c,function(d,h){switch(d){case"Region":i(h);break}},/:/)}try{var s;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;s=r();var o=s.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new ht(ht.Errors.BadSignature);e.state="HEADER"}for(var u=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(u?u=!1:s=r(),e.state){case"HEADER":/:/.test(s)?n(s):s||(e.state="ID");continue;case"NOTE":s||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){e.state="NOTE";break}if(!s)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",s.indexOf("-->")===-1){e.cue.id=s;continue}case"CUE":try{q_(s,e.cue,e.regionList)}catch(c){e.reportOrThrowError(c),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var l=s.indexOf("-->")!==-1;if(!s||l&&(u=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=s.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":s||(e.state="ID");continue}}}catch(c){e.reportOrThrowError(c),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var a=this;try{if(a.buffer+=a.decoder.decode(),(a.cue||a.state==="HEADER")&&(a.buffer+=`

`,a.parse()),a.state==="INITIAL")throw new ht(ht.Errors.BadSignature)}catch(e){a.reportOrThrowError(e)}return a.onflush&&a.onflush(),this}};var Q_=ai,Y_="auto",J_={"":1,lr:1,rl:1},Z_={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function e2(a){if(typeof a!="string")return!1;var e=J_[a.toLowerCase()];return e?a.toLowerCase():!1}function ko(a){if(typeof a!="string")return!1;var e=Z_[a.toLowerCase()];return e?a.toLowerCase():!1}function Sd(a,e,r){this.hasBeenReset=!1;var i="",t=!1,n=a,s=e,o=r,u=null,l="",c=!0,d="auto",h="start",v="auto",T="auto",x=100,y="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(E){i=""+E}},pauseOnExit:{enumerable:!0,get:function(){return t},set:function(E){t=!!E}},startTime:{enumerable:!0,get:function(){return n},set:function(E){if(typeof E!="number")throw new TypeError("Start time must be set to a number.");n=E,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(E){if(typeof E!="number")throw new TypeError("End time must be set to a number.");s=E,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(E){o=""+E,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(E){u=E,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return l},set:function(E){var D=e2(E);if(D===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");l=D,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(E){c=!!E,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(E){if(typeof E!="number"&&E!==Y_)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=E,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(E){var D=ko(E);D?(h=D,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return v},set:function(E){if(E<0||E>100)throw new Error("Position must be between 0 and 100.");v=E,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return T},set:function(E){var D=ko(E);D?(T=D,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return x},set:function(E){if(E<0||E>100)throw new Error("Size must be between 0 and 100.");x=E,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return y},set:function(E){var D=ko(E);if(!D)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");y=D,this.hasBeenReset=!0}}}),this.displayState=void 0}Sd.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var t2=Sd,r2={"":!0,up:!0};function i2(a){if(typeof a!="string")return!1;var e=r2[a.toLowerCase()];return e?a.toLowerCase():!1}function on(a){return typeof a=="number"&&a>=0&&a<=100}function n2(){var a=100,e=3,r=0,i=100,t=0,n=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return a},set:function(o){if(!on(o))throw new Error("Width must be between 0 and 100.");a=o}},lines:{enumerable:!0,get:function(){return e},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");e=o}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(o){if(!on(o))throw new Error("RegionAnchorX must be between 0 and 100.");i=o}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(o){if(!on(o))throw new Error("RegionAnchorY must be between 0 and 100.");r=o}},viewportAnchorY:{enumerable:!0,get:function(){return n},set:function(o){if(!on(o))throw new Error("ViewportAnchorY must be between 0 and 100.");n=o}},viewportAnchorX:{enumerable:!0,get:function(){return t},set:function(o){if(!on(o))throw new Error("ViewportAnchorX must be between 0 and 100.");t=o}},scroll:{enumerable:!0,get:function(){return s},set:function(o){var u=i2(o);u===!1?console.warn("Scroll: an invalid or illegal string was specified."):s=u}}})}var a2=n2,Jt=P,Mr=vd.exports={WebVTT:Q_,VTTCue:t2,VTTRegion:a2};Jt.vttjs=Mr;Jt.WebVTT=Mr.WebVTT;var s2=Mr.VTTCue,o2=Mr.VTTRegion,u2=Jt.VTTCue,l2=Jt.VTTRegion;Mr.shim=function(){Jt.VTTCue=s2,Jt.VTTRegion=o2};Mr.restore=function(){Jt.VTTCue=u2,Jt.VTTRegion=l2};Jt.VTTCue||Mr.shim();var Ed=vd.exports;function c2(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ra(a,e,r){return c2()?Ra=Reflect.construct:Ra=function(t,n,s){var o=[null];o.push.apply(o,n);var u=Function.bind.apply(t,o),l=new u;return s&&nn(l,s.prototype),l},Ra.apply(null,arguments)}function d2(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&nn(a,e)}var Cd={exports:{}};(function(a,e){(function(r){var i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,t=/^([^\/?#]*)([^]*)$/,n=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(u,l,c){if(c=c||{},u=u.trim(),l=l.trim(),!l){if(!c.alwaysNormalize)return u;var d=o.parseURL(u);if(!d)throw new Error("Error trying to parse base URL.");return d.path=o.normalizePath(d.path),o.buildURLFromParts(d)}var h=o.parseURL(l);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return c.alwaysNormalize?(h.path=o.normalizePath(h.path),o.buildURLFromParts(h)):l;var v=o.parseURL(u);if(!v)throw new Error("Error trying to parse base URL.");if(!v.netLoc&&v.path&&v.path[0]!=="/"){var T=t.exec(v.path);v.netLoc=T[1],v.path=T[2]}v.netLoc&&!v.path&&(v.path="/");var x={scheme:v.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(x.netLoc=v.netLoc,h.path[0]!=="/"))if(!h.path)x.path=v.path,h.params||(x.params=v.params,h.query||(x.query=v.query));else{var y=v.path,E=y.substring(0,y.lastIndexOf("/")+1)+h.path;x.path=o.normalizePath(E)}return x.path===null&&(x.path=c.alwaysNormalize?o.normalizePath(h.path):h.path),o.buildURLFromParts(x)},parseURL:function(u){var l=i.exec(u);return l?{scheme:l[1]||"",netLoc:l[2]||"",path:l[3]||"",params:l[4]||"",query:l[5]||"",fragment:l[6]||""}:null},normalizePath:function(u){for(u=u.split("").reverse().join("").replace(n,"");u.length!==(u=u.replace(s,"")).length;);return u.split("").reverse().join("")},buildURLFromParts:function(u){return u.scheme+u.netLoc+u.path+u.params+u.query+u.fragment}};a.exports=o})()})(Cd);var Dd=Cd.exports,Ad="http://example.com",Ma=function(e,r){if(/^[a-z]+:/i.test(r))return r;/^data:/.test(e)&&(e=P.location&&P.location.href||"");var i=typeof P.URL=="function",t=/^\/\//.test(e),n=!P.location&&!/\/\//i.test(e);if(i?e=new P.URL(e,P.location||Ad):/\/\//i.test(e)||(e=Dd.buildAbsoluteURL(P.location&&P.location.href||"",e)),i){var s=new URL(r,e);return n?s.href.slice(Ad.length):t?s.href.slice(s.protocol.length):s.href}return Dd.buildAbsoluteURL(e,r)},Po=function(){function a(){this.listeners={}}var e=a.prototype;return e.on=function(i,t){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(t)},e.off=function(i,t){if(!this.listeners[i])return!1;var n=this.listeners[i].indexOf(t);return this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(n,1),n>-1},e.trigger=function(i){var t=this.listeners[i];if(!!t)if(arguments.length===2)for(var n=t.length,s=0;s<n;++s)t[s].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),u=t.length,l=0;l<u;++l)t[l].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(i){this.on("data",function(t){i.push(t)})},a}(),f2=function(e){return P.atob?P.atob(e):Buffer.from(e,"base64").toString("binary")};function wd(a){for(var e=f2(a),r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}/*! @name m3u8-parser @version 4.7.0 @license Apache-2.0 */var h2=function(a){$(e,a);function e(){var i;return i=a.call(this)||this,i.buffer="",i}var r=e.prototype;return r.push=function(t){var n;for(this.buffer+=t,n=this.buffer.indexOf(`
`);n>-1;n=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,n)),this.buffer=this.buffer.substring(n+1)},e}(Po),p2=String.fromCharCode(9),Io=function(e){var r=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),i={};return r[1]&&(i.length=parseInt(r[1],10)),r[2]&&(i.offset=parseInt(r[2],10)),i},m2=function(){var e="[^=]*",r='"[^"]*"|[^,]*',i="(?:"+e+")=(?:"+r+")";return new RegExp("(?:^|,)("+i+")")},At=function(e){for(var r=e.split(m2()),i={},t=r.length,n;t--;)r[t]!==""&&(n=/([^=]*)=(.*)/.exec(r[t]).slice(1),n[0]=n[0].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^['"](.*)['"]$/g,"$1"),i[n[0]]=n[1]);return i},g2=function(a){$(e,a);function e(){var i;return i=a.call(this)||this,i.customParsers=[],i.tagMappers=[],i}var r=e.prototype;return r.push=function(t){var n=this,s,o;if(t=t.trim(),t.length!==0){if(t[0]!=="#"){this.trigger("data",{type:"uri",uri:t});return}var u=this.tagMappers.reduce(function(l,c){var d=c(t);return d===t?l:l.concat([d])},[t]);u.forEach(function(l){for(var c=0;c<n.customParsers.length;c++)if(n.customParsers[c].call(n,l))return;if(l.indexOf("#EXT")!==0){n.trigger("data",{type:"comment",text:l.slice(1)});return}if(l=l.replace("\r",""),s=/^#EXTM3U/.exec(l),s){n.trigger("data",{type:"tag",tagType:"m3u"});return}if(s=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(l),s){o={type:"tag",tagType:"inf"},s[1]&&(o.duration=parseFloat(s[1])),s[2]&&(o.title=s[2]),n.trigger("data",o);return}if(s=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(l),s){o={type:"tag",tagType:"targetduration"},s[1]&&(o.duration=parseInt(s[1],10)),n.trigger("data",o);return}if(s=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(l),s){o={type:"tag",tagType:"version"},s[1]&&(o.version=parseInt(s[1],10)),n.trigger("data",o);return}if(s=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(l),s){o={type:"tag",tagType:"media-sequence"},s[1]&&(o.number=parseInt(s[1],10)),n.trigger("data",o);return}if(s=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(l),s){o={type:"tag",tagType:"discontinuity-sequence"},s[1]&&(o.number=parseInt(s[1],10)),n.trigger("data",o);return}if(s=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(l),s){o={type:"tag",tagType:"playlist-type"},s[1]&&(o.playlistType=s[1]),n.trigger("data",o);return}if(s=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(l),s){o=_t(Io(s[1]),{type:"tag",tagType:"byterange"}),n.trigger("data",o);return}if(s=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(l),s){o={type:"tag",tagType:"allow-cache"},s[1]&&(o.allowed=!/NO/.test(s[1])),n.trigger("data",o);return}if(s=/^#EXT-X-MAP:?(.*)$/.exec(l),s){if(o={type:"tag",tagType:"map"},s[1]){var d=At(s[1]);d.URI&&(o.uri=d.URI),d.BYTERANGE&&(o.byterange=Io(d.BYTERANGE))}n.trigger("data",o);return}if(s=/^#EXT-X-STREAM-INF:?(.*)$/.exec(l),s){if(o={type:"tag",tagType:"stream-inf"},s[1]){if(o.attributes=At(s[1]),o.attributes.RESOLUTION){var h=o.attributes.RESOLUTION.split("x"),v={};h[0]&&(v.width=parseInt(h[0],10)),h[1]&&(v.height=parseInt(h[1],10)),o.attributes.RESOLUTION=v}o.attributes.BANDWIDTH&&(o.attributes.BANDWIDTH=parseInt(o.attributes.BANDWIDTH,10)),o.attributes["PROGRAM-ID"]&&(o.attributes["PROGRAM-ID"]=parseInt(o.attributes["PROGRAM-ID"],10))}n.trigger("data",o);return}if(s=/^#EXT-X-MEDIA:?(.*)$/.exec(l),s){o={type:"tag",tagType:"media"},s[1]&&(o.attributes=At(s[1])),n.trigger("data",o);return}if(s=/^#EXT-X-ENDLIST/.exec(l),s){n.trigger("data",{type:"tag",tagType:"endlist"});return}if(s=/^#EXT-X-DISCONTINUITY/.exec(l),s){n.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(s=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(l),s){o={type:"tag",tagType:"program-date-time"},s[1]&&(o.dateTimeString=s[1],o.dateTimeObject=new Date(s[1])),n.trigger("data",o);return}if(s=/^#EXT-X-KEY:?(.*)$/.exec(l),s){o={type:"tag",tagType:"key"},s[1]&&(o.attributes=At(s[1]),o.attributes.IV&&(o.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(o.attributes.IV=o.attributes.IV.substring(2)),o.attributes.IV=o.attributes.IV.match(/.{8}/g),o.attributes.IV[0]=parseInt(o.attributes.IV[0],16),o.attributes.IV[1]=parseInt(o.attributes.IV[1],16),o.attributes.IV[2]=parseInt(o.attributes.IV[2],16),o.attributes.IV[3]=parseInt(o.attributes.IV[3],16),o.attributes.IV=new Uint32Array(o.attributes.IV))),n.trigger("data",o);return}if(s=/^#EXT-X-START:?(.*)$/.exec(l),s){o={type:"tag",tagType:"start"},s[1]&&(o.attributes=At(s[1]),o.attributes["TIME-OFFSET"]=parseFloat(o.attributes["TIME-OFFSET"]),o.attributes.PRECISE=/YES/.test(o.attributes.PRECISE)),n.trigger("data",o);return}if(s=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(l),s){o={type:"tag",tagType:"cue-out-cont"},s[1]?o.data=s[1]:o.data="",n.trigger("data",o);return}if(s=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(l),s){o={type:"tag",tagType:"cue-out"},s[1]?o.data=s[1]:o.data="",n.trigger("data",o);return}if(s=/^#EXT-X-CUE-IN:?(.*)?$/.exec(l),s){o={type:"tag",tagType:"cue-in"},s[1]?o.data=s[1]:o.data="",n.trigger("data",o);return}if(s=/^#EXT-X-SKIP:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"skip"},o.attributes=At(s[1]),o.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(o.attributes["SKIPPED-SEGMENTS"]=parseInt(o.attributes["SKIPPED-SEGMENTS"],10)),o.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(o.attributes["RECENTLY-REMOVED-DATERANGES"]=o.attributes["RECENTLY-REMOVED-DATERANGES"].split(p2)),n.trigger("data",o);return}if(s=/^#EXT-X-PART:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"part"},o.attributes=At(s[1]),["DURATION"].forEach(function(T){o.attributes.hasOwnProperty(T)&&(o.attributes[T]=parseFloat(o.attributes[T]))}),["INDEPENDENT","GAP"].forEach(function(T){o.attributes.hasOwnProperty(T)&&(o.attributes[T]=/YES/.test(o.attributes[T]))}),o.attributes.hasOwnProperty("BYTERANGE")&&(o.attributes.byterange=Io(o.attributes.BYTERANGE)),n.trigger("data",o);return}if(s=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"server-control"},o.attributes=At(s[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(T){o.attributes.hasOwnProperty(T)&&(o.attributes[T]=parseFloat(o.attributes[T]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(T){o.attributes.hasOwnProperty(T)&&(o.attributes[T]=/YES/.test(o.attributes[T]))}),n.trigger("data",o);return}if(s=/^#EXT-X-PART-INF:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"part-inf"},o.attributes=At(s[1]),["PART-TARGET"].forEach(function(T){o.attributes.hasOwnProperty(T)&&(o.attributes[T]=parseFloat(o.attributes[T]))}),n.trigger("data",o);return}if(s=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"preload-hint"},o.attributes=At(s[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(T){if(o.attributes.hasOwnProperty(T)){o.attributes[T]=parseInt(o.attributes[T],10);var x=T==="BYTERANGE-LENGTH"?"length":"offset";o.attributes.byterange=o.attributes.byterange||{},o.attributes.byterange[x]=o.attributes[T],delete o.attributes[T]}}),n.trigger("data",o);return}if(s=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"rendition-report"},o.attributes=At(s[1]),["LAST-MSN","LAST-PART"].forEach(function(T){o.attributes.hasOwnProperty(T)&&(o.attributes[T]=parseInt(o.attributes[T],10))}),n.trigger("data",o);return}n.trigger("data",{type:"tag",data:l.slice(4)})})}},r.addParser=function(t){var n=this,s=t.expression,o=t.customType,u=t.dataParser,l=t.segment;typeof u!="function"&&(u=function(d){return d}),this.customParsers.push(function(c){var d=s.exec(c);if(d)return n.trigger("data",{type:"custom",data:u(c),customType:o,segment:l}),!0})},r.addTagMapper=function(t){var n=t.expression,s=t.map,o=function(l){return n.test(l)?s(l):l};this.tagMappers.push(o)},e}(Po),v2=function(e){return e.toLowerCase().replace(/-(\w)/g,function(r){return r[1].toUpperCase()})},si=function(e){var r={};return Object.keys(e).forEach(function(i){r[v2(i)]=e[i]}),r},Lo=function(e){var r=e.serverControl,i=e.targetDuration,t=e.partTargetDuration;if(!!r){var n="#EXT-X-SERVER-CONTROL",s="holdBack",o="partHoldBack",u=i&&i*3,l=t&&t*2;i&&!r.hasOwnProperty(s)&&(r[s]=u,this.trigger("info",{message:n+" defaulting HOLD-BACK to targetDuration * 3 ("+u+")."})),u&&r[s]<u&&(this.trigger("warn",{message:n+" clamping HOLD-BACK ("+r[s]+") to targetDuration * 3 ("+u+")"}),r[s]=u),t&&!r.hasOwnProperty(o)&&(r[o]=t*3,this.trigger("info",{message:n+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+r[o]+")."})),t&&r[o]<l&&(this.trigger("warn",{message:n+" clamping PART-HOLD-BACK ("+r[o]+") to partTargetDuration * 2 ("+l+")."}),r[o]=l)}},y2=function(a){$(e,a);function e(){var i;i=a.call(this)||this,i.lineStream=new h2,i.parseStream=new g2,i.lineStream.pipe(i.parseStream);var t=se(i),n=[],s={},o,u,l=!1,c=function(){},d={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},h="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",v=0;i.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var T=0,x=0;return i.on("end",function(){s.uri||!s.parts&&!s.preloadHints||(!s.map&&o&&(s.map=o),!s.key&&u&&(s.key=u),!s.timeline&&typeof v=="number"&&(s.timeline=v),i.manifest.preloadSegment=s)}),i.parseStream.on("data",function(y){var E,D;({tag:function(){({version:function(){y.version&&(this.manifest.version=y.version)},"allow-cache":function(){this.manifest.allowCache=y.allowed,"allowed"in y||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var O={};"length"in y&&(s.byterange=O,O.length=y.length,"offset"in y||(y.offset=T)),"offset"in y&&(s.byterange=O,O.offset=y.offset),T=O.offset+O.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),y.duration>0&&(s.duration=y.duration),y.duration===0&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=n},key:function(){if(!y.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(y.attributes.METHOD==="NONE"){u=null;return}if(!y.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(y.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:y.attributes};return}if(y.attributes.KEYFORMAT===h){var O=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(O.indexOf(y.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(y.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),y.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(y.attributes.KEYID&&y.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:y.attributes.KEYFORMAT,keyId:y.attributes.KEYID.substring(2)},pssh:wd(y.attributes.URI.split(",")[1])};return}y.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),u={method:y.attributes.METHOD||"AES-128",uri:y.attributes.URI},typeof y.attributes.IV!="undefined"&&(u.iv=y.attributes.IV)},"media-sequence":function(){if(!isFinite(y.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+y.number});return}this.manifest.mediaSequence=y.number},"discontinuity-sequence":function(){if(!isFinite(y.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+y.number});return}this.manifest.discontinuitySequence=y.number,v=y.number},"playlist-type":function(){if(!/VOD|EVENT/.test(y.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+y.playlist});return}this.manifest.playlistType=y.playlistType},map:function(){o={},y.uri&&(o.uri=y.uri),y.byterange&&(o.byterange=y.byterange),u&&(o.key=u)},"stream-inf":function(){if(this.manifest.playlists=n,this.manifest.mediaGroups=this.manifest.mediaGroups||d,!y.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}s.attributes||(s.attributes={}),_t(s.attributes,y.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||d,!(y.attributes&&y.attributes.TYPE&&y.attributes["GROUP-ID"]&&y.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var O=this.manifest.mediaGroups[y.attributes.TYPE];O[y.attributes["GROUP-ID"]]=O[y.attributes["GROUP-ID"]]||{},E=O[y.attributes["GROUP-ID"]],D={default:/yes/i.test(y.attributes.DEFAULT)},D.default?D.autoselect=!0:D.autoselect=/yes/i.test(y.attributes.AUTOSELECT),y.attributes.LANGUAGE&&(D.language=y.attributes.LANGUAGE),y.attributes.URI&&(D.uri=y.attributes.URI),y.attributes["INSTREAM-ID"]&&(D.instreamId=y.attributes["INSTREAM-ID"]),y.attributes.CHARACTERISTICS&&(D.characteristics=y.attributes.CHARACTERISTICS),y.attributes.FORCED&&(D.forced=/yes/i.test(y.attributes.FORCED)),E[y.attributes.NAME]=D},discontinuity:function(){v+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(n.length)},"program-date-time":function(){typeof this.manifest.dateTimeString=="undefined"&&(this.manifest.dateTimeString=y.dateTimeString,this.manifest.dateTimeObject=y.dateTimeObject),s.dateTimeString=y.dateTimeString,s.dateTimeObject=y.dateTimeObject},targetduration:function(){if(!isFinite(y.duration)||y.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+y.duration});return}this.manifest.targetDuration=y.duration,Lo.call(this,this.manifest)},start:function(){if(!y.attributes||isNaN(y.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:y.attributes["TIME-OFFSET"],precise:y.attributes.PRECISE}},"cue-out":function(){s.cueOut=y.data},"cue-out-cont":function(){s.cueOutCont=y.data},"cue-in":function(){s.cueIn=y.data},skip:function(){this.manifest.skip=si(y.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",y.attributes,["SKIPPED-SEGMENTS"])},part:function(){var O=this;l=!0;var N=this.manifest.segments.length,V=si(y.attributes);s.parts=s.parts||[],s.parts.push(V),V.byterange&&(V.byterange.hasOwnProperty("offset")||(V.byterange.offset=x),x=V.byterange.offset+V.byterange.length);var M=s.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+M+" for segment #"+N,y.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(R,U){R.hasOwnProperty("lastPart")||O.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+U+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var O=this.manifest.serverControl=si(y.attributes);O.hasOwnProperty("canBlockReload")||(O.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Lo.call(this,this.manifest),O.canSkipDateranges&&!O.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var O=this.manifest.segments.length,N=si(y.attributes),V=N.type&&N.type==="PART";s.preloadHints=s.preloadHints||[],s.preloadHints.push(N),N.byterange&&(N.byterange.hasOwnProperty("offset")||(N.byterange.offset=V?x:0,V&&(x=N.byterange.offset+N.byterange.length)));var M=s.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+M+" for segment #"+O,y.attributes,["TYPE","URI"]),!!N.type)for(var R=0;R<s.preloadHints.length-1;R++){var U=s.preloadHints[R];!U.type||U.type===N.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+M+" for segment #"+O+" has the same TYPE "+N.type+" as preload hint #"+R})}},"rendition-report":function(){var O=si(y.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(O);var N=this.manifest.renditionReports.length-1,V=["LAST-MSN","URI"];l&&V.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+N,y.attributes,V)},"part-inf":function(){this.manifest.partInf=si(y.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",y.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Lo.call(this,this.manifest)}}[y.tagType]||c).call(t)},uri:function(){s.uri=y.uri,n.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),u&&(s.key=u),s.timeline=v,o&&(s.map=o),x=0,s={}},comment:function(){},custom:function(){y.segment?(s.custom=s.custom||{},s.custom[y.customType]=y.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[y.customType]=y.data)}})[y.type].call(t)}),i}var r=e.prototype;return r.warnOnMissingAttributes_=function(t,n,s){var o=[];s.forEach(function(u){n.hasOwnProperty(u)||o.push(u)}),o.length&&this.trigger("warn",{message:t+" lacks required attribute(s): "+o.join(", ")})},r.push=function(t){this.lineStream.push(t)},r.end=function(){this.lineStream.push(`
`),this.trigger("end")},r.addParser=function(t){this.parseStream.addParser(t)},r.addTagMapper=function(t){this.parseStream.addTagMapper(t)},e}(Po),Nr={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},_2=["video","audio","text"],kd=["Video","Audio","Text"],Pd=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(r,i,t){var n=("00"+Number(i).toString(16)).slice(-2),s=("00"+Number(t).toString(16)).slice(-2);return"avc1."+n+"00"+s})},Nt=function(e){e===void 0&&(e="");var r=e.split(","),i=[];return r.forEach(function(t){t=t.trim();var n;_2.forEach(function(s){var o=Nr[s].exec(t.toLowerCase());if(!(!o||o.length<=1)){n=s;var u=t.substring(0,o[1].length),l=t.replace(u,"");i.push({type:u,details:l,mediaType:s})}}),n||i.push({type:t,details:"",mediaType:"unknown"})}),i},T2=function(e,r){if(!e.mediaGroups.AUDIO||!r)return null;var i=e.mediaGroups.AUDIO[r];if(!i)return null;for(var t in i){var n=i[t];if(n.default&&n.playlists)return Nt(n.playlists[0].attributes.CODECS)}return null},Id=function(e){return e===void 0&&(e=""),Nr.audio.test(e.trim().toLowerCase())},b2=function(e){return e===void 0&&(e=""),Nr.text.test(e.trim().toLowerCase())},un=function(e){if(!(!e||typeof e!="string")){var r=e.toLowerCase().split(",").map(function(n){return Pd(n.trim())}),i="video";r.length===1&&Id(r[0])?i="audio":r.length===1&&b2(r[0])&&(i="application");var t="mp4";return r.every(function(n){return Nr.mp4.test(n)})?t="mp4":r.every(function(n){return Nr.webm.test(n)})?t="webm":r.every(function(n){return Nr.ogg.test(n)})&&(t="ogg"),i+"/"+t+';codecs="'+e+'"'}},Na=function(e){return e===void 0&&(e=""),P.MediaSource&&P.MediaSource.isTypeSupported&&P.MediaSource.isTypeSupported(un(e))||!1},Oo=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(r){r=r.trim();for(var i=0;i<kd.length;i++){var t=kd[i];if(Nr["muxer"+t].test(r))return!0}return!1})},Ld="mp4a.40.2",x2="avc1.4d400d",S2=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,E2=/^application\/dash\+xml/i,Od=function(e){return S2.test(e)?"hls":E2.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},_r={},Ur={};function Fo(a,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(a):a}var Fd=Fo({HTML:"text/html",isHTML:function(a){return a===Fd.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),Bd=Fo({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(a){return a===Bd.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Ur.freeze=Fo;Ur.MIME_TYPE=Fd;Ur.NAMESPACE=Bd;var C2=Ur,ln=C2.NAMESPACE;function D2(a){return a!==""}function A2(a){return a?a.split(/[\t\n\f\r ]+/).filter(D2):[]}function w2(a,e){return a.hasOwnProperty(e)||(a[e]=!0),a}function Rd(a){if(!a)return[];var e=A2(a);return Object.keys(e.reduce(w2,{}))}function k2(a){return function(e){return a&&a.indexOf(e)!==-1}}function cn(a,e){for(var r in a)e[r]=a[r]}function nt(a,e){var r=a.prototype;if(!(r instanceof e)){let i=function(){};i.prototype=e.prototype,i=new i,cn(r,i),a.prototype=r=i}r.constructor!=a&&(typeof a!="function"&&console.error("unknown Class:"+a),r.constructor=a)}var at={},wt=at.ELEMENT_NODE=1,oi=at.ATTRIBUTE_NODE=2,Ua=at.TEXT_NODE=3,Md=at.CDATA_SECTION_NODE=4,Nd=at.ENTITY_REFERENCE_NODE=5,P2=at.ENTITY_NODE=6,Ud=at.PROCESSING_INSTRUCTION_NODE=7,qd=at.COMMENT_NODE=8,Vd=at.DOCUMENT_NODE=9,Hd=at.DOCUMENT_TYPE_NODE=10,Zt=at.DOCUMENT_FRAGMENT_NODE=11,I2=at.NOTATION_NODE=12,Ge={},Re={};Ge.INDEX_SIZE_ERR=(Re[1]="Index size error",1);Ge.DOMSTRING_SIZE_ERR=(Re[2]="DOMString size error",2);var L2=Ge.HIERARCHY_REQUEST_ERR=(Re[3]="Hierarchy request error",3);Ge.WRONG_DOCUMENT_ERR=(Re[4]="Wrong document",4);Ge.INVALID_CHARACTER_ERR=(Re[5]="Invalid character",5);Ge.NO_DATA_ALLOWED_ERR=(Re[6]="No data allowed",6);Ge.NO_MODIFICATION_ALLOWED_ERR=(Re[7]="No modification allowed",7);var O2=Ge.NOT_FOUND_ERR=(Re[8]="Not found",8);Ge.NOT_SUPPORTED_ERR=(Re[9]="Not supported",9);var jd=Ge.INUSE_ATTRIBUTE_ERR=(Re[10]="Attribute in use",10);Ge.INVALID_STATE_ERR=(Re[11]="Invalid state",11);Ge.SYNTAX_ERR=(Re[12]="Syntax error",12);Ge.INVALID_MODIFICATION_ERR=(Re[13]="Invalid modification",13);Ge.NAMESPACE_ERR=(Re[14]="Invalid namespace",14);Ge.INVALID_ACCESS_ERR=(Re[15]="Invalid access",15);function qr(a,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,Re[a]),this.message=Re[a],Error.captureStackTrace&&Error.captureStackTrace(this,qr);return r.code=a,e&&(this.message=this.message+": "+e),r}qr.prototype=Error.prototype;cn(Ge,qr);function er(){}er.prototype={length:0,item:function(a){return this[a]||null},toString:function(a,e){for(var r=[],i=0;i<this.length;i++)li(this[i],r,a,e);return r.join("")}};function ui(a,e){this._node=a,this._refresh=e,Bo(this)}function Bo(a){var e=a._node._inc||a._node.ownerDocument._inc;if(a._inc!=e){var r=a._refresh(a._node);af(a,"length",r.length),cn(r,a),a._inc=e}}ui.prototype.item=function(a){return Bo(this),this[a]};nt(ui,er);function qa(){}function Gd(a,e){for(var r=a.length;r--;)if(a[r]===e)return r}function zd(a,e,r,i){if(i?e[Gd(e,i)]=r:e[e.length++]=r,a){r.ownerElement=a;var t=a.ownerDocument;t&&(i&&Xd(t,a,i),F2(t,a,r))}}function Wd(a,e,r){var i=Gd(e,r);if(i>=0){for(var t=e.length-1;i<t;)e[i]=e[++i];if(e.length=t,a){var n=a.ownerDocument;n&&(Xd(n,a,r),r.ownerElement=null)}}else throw qr(O2,new Error(a.tagName+"@"+r))}qa.prototype={length:0,item:er.prototype.item,getNamedItem:function(a){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==a)return r}},setNamedItem:function(a){var e=a.ownerElement;if(e&&e!=this._ownerElement)throw new qr(jd);var r=this.getNamedItem(a.nodeName);return zd(this._ownerElement,this,a,r),r},setNamedItemNS:function(a){var e=a.ownerElement,r;if(e&&e!=this._ownerElement)throw new qr(jd);return r=this.getNamedItemNS(a.namespaceURI,a.localName),zd(this._ownerElement,this,a,r),r},removeNamedItem:function(a){var e=this.getNamedItem(a);return Wd(this._ownerElement,this,e),e},removeNamedItemNS:function(a,e){var r=this.getNamedItemNS(a,e);return Wd(this._ownerElement,this,r),r},getNamedItemNS:function(a,e){for(var r=this.length;r--;){var i=this[r];if(i.localName==e&&i.namespaceURI==a)return i}return null}};function $d(){}$d.prototype={hasFeature:function(a,e){return!0},createDocument:function(a,e,r){var i=new fn;if(i.implementation=this,i.childNodes=new er,i.doctype=r||null,r&&i.appendChild(r),e){var t=i.createElementNS(a,e);i.appendChild(t)}return i},createDocumentType:function(a,e,r){var i=new Ha;return i.name=a,i.nodeName=a,i.publicId=e||"",i.systemId=r||"",i}};function ze(){}ze.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(a,e){return Yd(this,a,e)},replaceChild:function(a,e){this.insertBefore(a,e),e&&this.removeChild(e)},removeChild:function(a){return Qd(this,a)},appendChild:function(a){return this.insertBefore(a,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(a){return jo(this.ownerDocument||this,this,a)},normalize:function(){for(var a=this.firstChild;a;){var e=a.nextSibling;e&&e.nodeType==Ua&&a.nodeType==Ua?(this.removeChild(e),a.appendData(e.data)):(a.normalize(),a=e)}},isSupported:function(a,e){return this.ownerDocument.implementation.hasFeature(a,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(a){for(var e=this;e;){var r=e._nsMap;if(r){for(var i in r)if(r[i]==a)return i}e=e.nodeType==oi?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(a){for(var e=this;e;){var r=e._nsMap;if(r&&a in r)return r[a];e=e.nodeType==oi?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(a){var e=this.lookupPrefix(a);return e==null}};function Kd(a){return a=="<"&&"&lt;"||a==">"&&"&gt;"||a=="&"&&"&amp;"||a=='"'&&"&quot;"||"&#"+a.charCodeAt()+";"}cn(at,ze);cn(at,ze.prototype);function dn(a,e){if(e(a))return!0;if(a=a.firstChild)do if(dn(a,e))return!0;while(a=a.nextSibling)}function fn(){}function F2(a,e,r){a&&a._inc++;var i=r.namespaceURI;i===ln.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}function Xd(a,e,r,i){a&&a._inc++;var t=r.namespaceURI;t===ln.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function Ro(a,e,r){if(a&&a._inc){a._inc++;var i=e.childNodes;if(r)i[i.length++]=r;else{for(var t=e.firstChild,n=0;t;)i[n++]=t,t=t.nextSibling;i.length=n}}}function Qd(a,e){var r=e.previousSibling,i=e.nextSibling;return r?r.nextSibling=i:a.firstChild=i,i?i.previousSibling=r:a.lastChild=r,Ro(a.ownerDocument,a),e}function Yd(a,e,r){var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===Zt){var t=e.firstChild;if(t==null)return e;var n=e.lastChild}else t=n=e;var s=r?r.previousSibling:a.lastChild;t.previousSibling=s,n.nextSibling=r,s?s.nextSibling=t:a.firstChild=t,r==null?a.lastChild=n:r.previousSibling=n;do t.parentNode=a;while(t!==n&&(t=t.nextSibling));return Ro(a.ownerDocument||a,a),e.nodeType==Zt&&(e.firstChild=e.lastChild=null),e}function B2(a,e){var r=e.parentNode;if(r){var i=a.lastChild;r.removeChild(e);var i=a.lastChild}var i=a.lastChild;return e.parentNode=a,e.previousSibling=i,e.nextSibling=null,i?i.nextSibling=e:a.firstChild=e,a.lastChild=e,Ro(a.ownerDocument,a,e),e}fn.prototype={nodeName:"#document",nodeType:Vd,doctype:null,documentElement:null,_inc:1,insertBefore:function(a,e){if(a.nodeType==Zt){for(var r=a.firstChild;r;){var i=r.nextSibling;this.insertBefore(r,e),r=i}return a}return this.documentElement==null&&a.nodeType==wt&&(this.documentElement=a),Yd(this,a,e),a.ownerDocument=this,a},removeChild:function(a){return this.documentElement==a&&(this.documentElement=null),Qd(this,a)},importNode:function(a,e){return nf(this,a,e)},getElementById:function(a){var e=null;return dn(this.documentElement,function(r){if(r.nodeType==wt&&r.getAttribute("id")==a)return e=r,!0}),e},getElementsByClassName:function(a){var e=Rd(a);return new ui(this,function(r){var i=[];return e.length>0&&dn(r.documentElement,function(t){if(t!==r&&t.nodeType===wt){var n=t.getAttribute("class");if(n){var s=a===n;if(!s){var o=Rd(n);s=e.every(k2(o))}s&&i.push(t)}}}),i})},createElement:function(a){var e=new Vr;e.ownerDocument=this,e.nodeName=a,e.tagName=a,e.localName=a,e.childNodes=new er;var r=e.attributes=new qa;return r._ownerElement=e,e},createDocumentFragment:function(){var a=new ja;return a.ownerDocument=this,a.childNodes=new er,a},createTextNode:function(a){var e=new Mo;return e.ownerDocument=this,e.appendData(a),e},createComment:function(a){var e=new No;return e.ownerDocument=this,e.appendData(a),e},createCDATASection:function(a){var e=new Uo;return e.ownerDocument=this,e.appendData(a),e},createProcessingInstruction:function(a,e){var r=new Vo;return r.ownerDocument=this,r.tagName=r.target=a,r.nodeValue=r.data=e,r},createAttribute:function(a){var e=new Va;return e.ownerDocument=this,e.name=a,e.nodeName=a,e.localName=a,e.specified=!0,e},createEntityReference:function(a){var e=new qo;return e.ownerDocument=this,e.nodeName=a,e},createElementNS:function(a,e){var r=new Vr,i=e.split(":"),t=r.attributes=new qa;return r.childNodes=new er,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=a,i.length==2?(r.prefix=i[0],r.localName=i[1]):r.localName=e,t._ownerElement=r,r},createAttributeNS:function(a,e){var r=new Va,i=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=a,r.specified=!0,i.length==2?(r.prefix=i[0],r.localName=i[1]):r.localName=e,r}};nt(fn,ze);function Vr(){this._nsMap={}}Vr.prototype={nodeType:wt,hasAttribute:function(a){return this.getAttributeNode(a)!=null},getAttribute:function(a){var e=this.getAttributeNode(a);return e&&e.value||""},getAttributeNode:function(a){return this.attributes.getNamedItem(a)},setAttribute:function(a,e){var r=this.ownerDocument.createAttribute(a);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(a){var e=this.getAttributeNode(a);e&&this.removeAttributeNode(e)},appendChild:function(a){return a.nodeType===Zt?this.insertBefore(a,null):B2(this,a)},setAttributeNode:function(a){return this.attributes.setNamedItem(a)},setAttributeNodeNS:function(a){return this.attributes.setNamedItemNS(a)},removeAttributeNode:function(a){return this.attributes.removeNamedItem(a.nodeName)},removeAttributeNS:function(a,e){var r=this.getAttributeNodeNS(a,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(a,e){return this.getAttributeNodeNS(a,e)!=null},getAttributeNS:function(a,e){var r=this.getAttributeNodeNS(a,e);return r&&r.value||""},setAttributeNS:function(a,e,r){var i=this.ownerDocument.createAttributeNS(a,e);i.value=i.nodeValue=""+r,this.setAttributeNode(i)},getAttributeNodeNS:function(a,e){return this.attributes.getNamedItemNS(a,e)},getElementsByTagName:function(a){return new ui(this,function(e){var r=[];return dn(e,function(i){i!==e&&i.nodeType==wt&&(a==="*"||i.tagName==a)&&r.push(i)}),r})},getElementsByTagNameNS:function(a,e){return new ui(this,function(r){var i=[];return dn(r,function(t){t!==r&&t.nodeType===wt&&(a==="*"||t.namespaceURI===a)&&(e==="*"||t.localName==e)&&i.push(t)}),i})}};fn.prototype.getElementsByTagName=Vr.prototype.getElementsByTagName;fn.prototype.getElementsByTagNameNS=Vr.prototype.getElementsByTagNameNS;nt(Vr,ze);function Va(){}Va.prototype.nodeType=oi;nt(Va,ze);function hn(){}hn.prototype={data:"",substringData:function(a,e){return this.data.substring(a,a+e)},appendData:function(a){a=this.data+a,this.nodeValue=this.data=a,this.length=a.length},insertData:function(a,e){this.replaceData(a,0,e)},appendChild:function(a){throw new Error(Re[L2])},deleteData:function(a,e){this.replaceData(a,e,"")},replaceData:function(a,e,r){var i=this.data.substring(0,a),t=this.data.substring(a+e);r=i+r+t,this.nodeValue=this.data=r,this.length=r.length}};nt(hn,ze);function Mo(){}Mo.prototype={nodeName:"#text",nodeType:Ua,splitText:function(a){var e=this.data,r=e.substring(a);e=e.substring(0,a),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}};nt(Mo,hn);function No(){}No.prototype={nodeName:"#comment",nodeType:qd};nt(No,hn);function Uo(){}Uo.prototype={nodeName:"#cdata-section",nodeType:Md};nt(Uo,hn);function Ha(){}Ha.prototype.nodeType=Hd;nt(Ha,ze);function Jd(){}Jd.prototype.nodeType=I2;nt(Jd,ze);function Zd(){}Zd.prototype.nodeType=P2;nt(Zd,ze);function qo(){}qo.prototype.nodeType=Nd;nt(qo,ze);function ja(){}ja.prototype.nodeName="#document-fragment";ja.prototype.nodeType=Zt;nt(ja,ze);function Vo(){}Vo.prototype.nodeType=Ud;nt(Vo,ze);function ef(){}ef.prototype.serializeToString=function(a,e,r){return tf.call(a,e,r)};ze.prototype.toString=tf;function tf(a,e){var r=[],i=this.nodeType==9&&this.documentElement||this,t=i.prefix,n=i.namespaceURI;if(n&&t==null){var t=i.lookupPrefix(n);if(t==null)var s=[{namespace:n,prefix:null}]}return li(this,r,a,e,s),r.join("")}function rf(a,e,r){var i=a.prefix||"",t=a.namespaceURI;if(!t||i==="xml"&&t===ln.XML||t===ln.XMLNS)return!1;for(var n=r.length;n--;){var s=r[n];if(s.prefix===i)return s.namespace!==t}return!0}function Ho(a,e,r){a.push(" ",e,'="',r.replace(/[<&"]/g,Kd),'"')}function li(a,e,r,i,t){if(t||(t=[]),i)if(a=i(a),a){if(typeof a=="string"){e.push(a);return}}else return;switch(a.nodeType){case wt:var n=a.attributes,s=n.length,o=a.firstChild,u=a.tagName;r=ln.isHTML(a.namespaceURI)||r;var l=u;if(!r&&!a.prefix&&a.namespaceURI){for(var c,d=0;d<n.length;d++)if(n.item(d).name==="xmlns"){c=n.item(d).value;break}if(!c)for(var h=t.length-1;h>=0;h--){var v=t[h];if(v.prefix===""&&v.namespace===a.namespaceURI){c=v.namespace;break}}if(c!==a.namespaceURI)for(var h=t.length-1;h>=0;h--){var v=t[h];if(v.namespace===a.namespaceURI){v.prefix&&(l=v.prefix+":"+u);break}}}e.push("<",l);for(var T=0;T<s;T++){var x=n.item(T);x.prefix=="xmlns"?t.push({prefix:x.localName,namespace:x.value}):x.nodeName=="xmlns"&&t.push({prefix:"",namespace:x.value})}for(var T=0;T<s;T++){var x=n.item(T);if(rf(x,r,t)){var y=x.prefix||"",E=x.namespaceURI;Ho(e,y?"xmlns:"+y:"xmlns",E),t.push({prefix:y,namespace:E})}li(x,e,r,i,t)}if(u===l&&rf(a,r,t)){var y=a.prefix||"",E=a.namespaceURI;Ho(e,y?"xmlns:"+y:"xmlns",E),t.push({prefix:y,namespace:E})}if(o||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(e.push(">"),r&&/^script$/i.test(u))for(;o;)o.data?e.push(o.data):li(o,e,r,i,t.slice()),o=o.nextSibling;else for(;o;)li(o,e,r,i,t.slice()),o=o.nextSibling;e.push("</",l,">")}else e.push("/>");return;case Vd:case Zt:for(var o=a.firstChild;o;)li(o,e,r,i,t.slice()),o=o.nextSibling;return;case oi:return Ho(e,a.name,a.value);case Ua:return e.push(a.data.replace(/[<&]/g,Kd).replace(/]]>/g,"]]&gt;"));case Md:return e.push("<![CDATA[",a.data,"]]>");case qd:return e.push("<!--",a.data,"-->");case Hd:var D=a.publicId,A=a.systemId;if(e.push("<!DOCTYPE ",a.name),D)e.push(" PUBLIC ",D),A&&A!="."&&e.push(" ",A),e.push(">");else if(A&&A!=".")e.push(" SYSTEM ",A,">");else{var L=a.internalSubset;L&&e.push(" [",L,"]"),e.push(">")}return;case Ud:return e.push("<?",a.target," ",a.data,"?>");case Nd:return e.push("&",a.nodeName,";");default:e.push("??",a.nodeName)}}function nf(a,e,r){var i;switch(e.nodeType){case wt:i=e.cloneNode(!1),i.ownerDocument=a;case Zt:break;case oi:r=!0;break}if(i||(i=e.cloneNode(!1)),i.ownerDocument=a,i.parentNode=null,r)for(var t=e.firstChild;t;)i.appendChild(nf(a,t,r)),t=t.nextSibling;return i}function jo(a,e,r){var i=new e.constructor;for(var t in e){var n=e[t];typeof n!="object"&&n!=i[t]&&(i[t]=n)}switch(e.childNodes&&(i.childNodes=new er),i.ownerDocument=a,i.nodeType){case wt:var s=e.attributes,o=i.attributes=new qa,u=s.length;o._ownerElement=i;for(var l=0;l<u;l++)i.setAttributeNode(jo(a,s.item(l),!0));break;case oi:r=!0}if(r)for(var c=e.firstChild;c;)i.appendChild(jo(a,c,r)),c=c.nextSibling;return i}function af(a,e,r){a[e]=r}try{if(Object.defineProperty){let a=function(e){switch(e.nodeType){case wt:case Zt:var r=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&r.push(a(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}};Object.defineProperty(ui.prototype,"length",{get:function(){return Bo(this),this.$$length}}),Object.defineProperty(ze.prototype,"textContent",{get:function(){return a(this)},set:function(e){switch(this.nodeType){case wt:case Zt:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),af=function(e,r,i){e["$$"+r]=i}}}catch{}_r.DocumentType=Ha;_r.DOMException=qr;_r.DOMImplementation=$d;_r.Element=Vr;_r.Node=ze;_r.NodeList=er;_r.XMLSerializer=ef;var pn={},sf={};(function(a){var e=Ur.freeze;a.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),a.HTML_ENTITIES=e({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",times:"\xD7",divide:"\xF7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",euro:"\u20AC",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),a.entityMap=a.HTML_ENTITIES})(sf);var Go={},mn=Ur.NAMESPACE,zo=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,of=new RegExp("[\\-\\.0-9"+zo.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),uf=new RegExp("^"+zo.source+of.source+"*(?::"+zo.source+of.source+"*)?$"),gn=0,Tr=1,ci=2,vn=3,di=4,fi=5,yn=6,Ga=7;function hi(a,e){this.message=a,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,hi)}hi.prototype=new Error;hi.prototype.name=hi.name;function lf(){}lf.prototype={parse:function(a,e,r){var i=this.domBuilder;i.startDocument(),ff(e,e={}),R2(a,e,r,i,this.errorHandler),i.endDocument()}};function R2(a,e,r,i,t){function n(X){if(X>65535){X-=65536;var ae=55296+(X>>10),Ce=56320+(X&1023);return String.fromCharCode(ae,Ce)}else return String.fromCharCode(X)}function s(X){var ae=X.slice(1,-1);return ae in r?r[ae]:ae.charAt(0)==="#"?n(parseInt(ae.substr(1).replace("x","0x"))):(t.error("entity not found:"+X),X)}function o(X){if(X>x){var ae=a.substring(x,X).replace(/&#?\w+;/g,s);h&&u(x),i.characters(ae,0,X-x),x=X}}function u(X,ae){for(;X>=c&&(ae=d.exec(a));)l=ae.index,c=l+ae[0].length,h.lineNumber++;h.columnNumber=X-l+1}for(var l=0,c=0,d=/.*(?:\r\n?|\n)|.*$/g,h=i.locator,v=[{currentNSMap:e}],T={},x=0;;){try{var y=a.indexOf("<",x);if(y<0){if(!a.substr(x).match(/^\s*$/)){var E=i.doc,D=E.createTextNode(a.substr(x));E.appendChild(D),i.currentElement=D}return}switch(y>x&&o(y),a.charAt(y+1)){case"/":var A=a.indexOf(">",y+3),L=a.substring(y+2,A).replace(/[ \t\n\r]+$/g,""),O=v.pop();A<0?(L=a.substring(y+2).replace(/[\s<].*/,""),t.error("end tag name: "+L+" is not complete:"+O.tagName),A=y+1+L.length):L.match(/\s</)&&(L=L.replace(/[\s<].*/,""),t.error("end tag name: "+L+" maybe not complete"),A=y+1+L.length);var N=O.localNSMap,V=O.tagName==L,M=V||O.tagName&&O.tagName.toLowerCase()==L.toLowerCase();if(M){if(i.endElement(O.uri,O.localName,L),N)for(var R in N)i.endPrefixMapping(R);V||t.fatalError("end tag name: "+L+" is not match the current start tagName:"+O.tagName)}else v.push(O);A++;break;case"?":h&&u(y),A=V2(a,y,i);break;case"!":h&&u(y),A=q2(a,y,i,t);break;default:h&&u(y);var U=new hf,G=v[v.length-1].currentNSMap,A=M2(a,y,U,G,s,t),Y=U.length;if(!U.closed&&U2(a,A,U.tagName,T)&&(U.closed=!0,r.nbsp||t.warning("unclosed xml attribute")),h&&Y){for(var te=cf(h,{}),H=0;H<Y;H++){var K=U[H];u(K.offset),K.locator=cf(h,{})}i.locator=te,df(U,i,G)&&v.push(U),i.locator=h}else df(U,i,G)&&v.push(U);mn.isHTML(U.uri)&&!U.closed?A=N2(a,A,U.tagName,s,i):A++}}catch(X){if(X instanceof hi)throw X;t.error("element parse error: "+X),A=-1}A>x?x=A:o(Math.max(y,x)+1)}}function cf(a,e){return e.lineNumber=a.lineNumber,e.columnNumber=a.columnNumber,e}function M2(a,e,r,i,t,n){function s(h,v,T){r.attributeNames.hasOwnProperty(h)&&n.fatalError("Attribute "+h+" redefined"),r.addValue(h,v,T)}for(var o,u,l=++e,c=gn;;){var d=a.charAt(l);switch(d){case"=":if(c===Tr)o=a.slice(e,l),c=vn;else if(c===ci)c=vn;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===vn||c===Tr)if(c===Tr&&(n.warning('attribute value must after "="'),o=a.slice(e,l)),e=l+1,l=a.indexOf(d,e),l>0)u=a.slice(e,l).replace(/&#?\w+;/g,t),s(o,u,e-1),c=fi;else throw new Error("attribute value no end '"+d+"' match");else if(c==di)u=a.slice(e,l).replace(/&#?\w+;/g,t),s(o,u,e),n.warning('attribute "'+o+'" missed start quot('+d+")!!"),e=l+1,c=fi;else throw new Error('attribute value must after "="');break;case"/":switch(c){case gn:r.setTagName(a.slice(e,l));case fi:case yn:case Ga:c=Ga,r.closed=!0;case di:case Tr:case ci:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return n.error("unexpected end of input"),c==gn&&r.setTagName(a.slice(e,l)),l;case">":switch(c){case gn:r.setTagName(a.slice(e,l));case fi:case yn:case Ga:break;case di:case Tr:u=a.slice(e,l),u.slice(-1)==="/"&&(r.closed=!0,u=u.slice(0,-1));case ci:c===ci&&(u=o),c==di?(n.warning('attribute "'+u+'" missed quot(")!'),s(o,u.replace(/&#?\w+;/g,t),e)):((!mn.isHTML(i[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&n.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),s(u,u,e));break;case vn:throw new Error("attribute value missed!!")}return l;case"\x80":d=" ";default:if(d<=" ")switch(c){case gn:r.setTagName(a.slice(e,l)),c=yn;break;case Tr:o=a.slice(e,l),c=ci;break;case di:var u=a.slice(e,l).replace(/&#?\w+;/g,t);n.warning('attribute "'+u+'" missed quot(")!!'),s(o,u,e);case fi:c=yn;break}else switch(c){case ci:r.tagName,(!mn.isHTML(i[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&n.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),s(o,o,e),e=l,c=Tr;break;case fi:n.warning('attribute space is required"'+o+'"!!');case yn:c=Tr,e=l;break;case vn:c=di,e=l;break;case Ga:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function df(a,e,r){for(var i=a.tagName,t=null,n=a.length;n--;){var s=a[n],o=s.qName,u=s.value,h=o.indexOf(":");if(h>0)var l=s.prefix=o.slice(0,h),c=o.slice(h+1),d=l==="xmlns"&&c;else c=o,l=null,d=o==="xmlns"&&"";s.localName=c,d!==!1&&(t==null&&(t={},ff(r,r={})),r[d]=t[d]=u,s.uri=mn.XMLNS,e.startPrefixMapping(d,u))}for(var n=a.length;n--;){s=a[n];var l=s.prefix;l&&(l==="xml"&&(s.uri=mn.XML),l!=="xmlns"&&(s.uri=r[l||""]))}var h=i.indexOf(":");h>0?(l=a.prefix=i.slice(0,h),c=a.localName=i.slice(h+1)):(l=null,c=a.localName=i);var v=a.uri=r[l||""];if(e.startElement(v,c,i,a),a.closed){if(e.endElement(v,c,i),t)for(l in t)e.endPrefixMapping(l)}else return a.currentNSMap=r,a.localNSMap=t,!0}function N2(a,e,r,i,t){if(/^(?:script|textarea)$/i.test(r)){var n=a.indexOf("</"+r+">",e),s=a.substring(e+1,n);if(/[&<]/.test(s))return/^script$/i.test(r)?(t.characters(s,0,s.length),n):(s=s.replace(/&#?\w+;/g,i),t.characters(s,0,s.length),n)}return e+1}function U2(a,e,r,i){var t=i[r];return t==null&&(t=a.lastIndexOf("</"+r+">"),t<e&&(t=a.lastIndexOf("</"+r)),i[r]=t),t<e}function ff(a,e){for(var r in a)e[r]=a[r]}function q2(a,e,r,i){var t=a.charAt(e+2);switch(t){case"-":if(a.charAt(e+3)==="-"){var n=a.indexOf("-->",e+4);return n>e?(r.comment(a,e+4,n-e-4),n+3):(i.error("Unclosed comment"),-1)}else return-1;default:if(a.substr(e+3,6)=="CDATA["){var n=a.indexOf("]]>",e+9);return r.startCDATA(),r.characters(a,e+9,n-e-9),r.endCDATA(),n+3}var s=H2(a,e),o=s.length;if(o>1&&/!doctype/i.test(s[0][0])){var u=s[1][0],l=!1,c=!1;o>3&&(/^public$/i.test(s[2][0])?(l=s[3][0],c=o>4&&s[4][0]):/^system$/i.test(s[2][0])&&(c=s[3][0]));var d=s[o-1];return r.startDTD(u,l,c),r.endDTD(),d.index+d[0].length}}return-1}function V2(a,e,r){var i=a.indexOf("?>",e);if(i){var t=a.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return t?(t[0].length,r.processingInstruction(t[1],t[2]),i+2):-1}return-1}function hf(){this.attributeNames={}}hf.prototype={setTagName:function(a){if(!uf.test(a))throw new Error("invalid tagName:"+a);this.tagName=a},addValue:function(a,e,r){if(!uf.test(a))throw new Error("invalid attribute:"+a);this.attributeNames[a]=this.length,this[this.length++]={qName:a,value:e,offset:r}},length:0,getLocalName:function(a){return this[a].localName},getLocator:function(a){return this[a].locator},getQName:function(a){return this[a].qName},getURI:function(a){return this[a].uri},getValue:function(a){return this[a].value}};function H2(a,e){var r,i=[],t=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(t.lastIndex=e,t.exec(a);r=t.exec(a);)if(i.push(r),r[1])return i}Go.XMLReader=lf;Go.ParseError=hi;var j2=Ur,Wo=_r,pf=sf,mf=Go,G2=Wo.DOMImplementation,gf=j2.NAMESPACE,z2=mf.ParseError,W2=mf.XMLReader;function vf(a){this.options=a||{locator:{}}}vf.prototype.parseFromString=function(a,e){var r=this.options,i=new W2,t=r.domBuilder||new _n,n=r.errorHandler,s=r.locator,o=r.xmlns||{},u=/\/x?html?$/.test(e),l=u?pf.HTML_ENTITIES:pf.XML_ENTITIES;return s&&t.setDocumentLocator(s),i.errorHandler=$2(n,t,s),i.domBuilder=r.domBuilder||t,u&&(o[""]=gf.HTML),o.xml=o.xml||gf.XML,a&&typeof a=="string"?i.parse(a,o,l):i.errorHandler.error("invalid doc source"),t.doc};function $2(a,e,r){if(!a){if(e instanceof _n)return e;a=e}var i={},t=a instanceof Function;r=r||{};function n(s){var o=a[s];!o&&t&&(o=a.length==2?function(u){a(s,u)}:a),i[s]=o&&function(u){o("[xmldom "+s+"]	"+u+$o(r))}||function(){}}return n("warning"),n("error"),n("fatalError"),i}function _n(){this.cdata=!1}function pi(a,e){e.lineNumber=a.lineNumber,e.columnNumber=a.columnNumber}_n.prototype={startDocument:function(){this.doc=new G2().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(a,e,r,i){var t=this.doc,n=t.createElementNS(a,r||e),s=i.length;za(this,n),this.currentElement=n,this.locator&&pi(this.locator,n);for(var o=0;o<s;o++){var a=i.getURI(o),u=i.getValue(o),r=i.getQName(o),l=t.createAttributeNS(a,r);this.locator&&pi(i.getLocator(o),l),l.value=l.nodeValue=u,n.setAttributeNode(l)}},endElement:function(a,e,r){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(a,e){},endPrefixMapping:function(a){},processingInstruction:function(a,e){var r=this.doc.createProcessingInstruction(a,e);this.locator&&pi(this.locator,r),za(this,r)},ignorableWhitespace:function(a,e,r){},characters:function(a,e,r){if(a=yf.apply(this,arguments),a){if(this.cdata)var i=this.doc.createCDATASection(a);else var i=this.doc.createTextNode(a);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(a)&&this.doc.appendChild(i),this.locator&&pi(this.locator,i)}},skippedEntity:function(a){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(a){(this.locator=a)&&(a.lineNumber=0)},comment:function(a,e,r){a=yf.apply(this,arguments);var i=this.doc.createComment(a);this.locator&&pi(this.locator,i),za(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(a,e,r){var i=this.doc.implementation;if(i&&i.createDocumentType){var t=i.createDocumentType(a,e,r);this.locator&&pi(this.locator,t),za(this,t),this.doc.doctype=t}},warning:function(a){console.warn("[xmldom warning]	"+a,$o(this.locator))},error:function(a){console.error("[xmldom error]	"+a,$o(this.locator))},fatalError:function(a){throw new z2(a,this.locator)}};function $o(a){if(a)return`
@`+(a.systemId||"")+"#[line:"+a.lineNumber+",col:"+a.columnNumber+"]"}function yf(a,e,r){return typeof a=="string"?a.substr(e,r):a.length>=e+r||e?new java.lang.String(a,e,r)+"":a}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(a){_n.prototype[a]=function(){return null}});function za(a,e){a.currentElement?a.currentElement.appendChild(e):a.doc.appendChild(e)}pn.__DOMHandler=_n;pn.DOMParser=vf;pn.DOMImplementation=Wo.DOMImplementation;pn.XMLSerializer=Wo.XMLSerializer;var K2=pn.DOMParser;/*! @name mpd-parser @version 0.19.2 @license Apache-2.0 */var _f=function(e){return!!e&&typeof e=="object"},Ye=function a(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return r.reduce(function(t,n){return typeof n!="object"||Object.keys(n).forEach(function(s){Array.isArray(t[s])&&Array.isArray(n[s])?t[s]=t[s].concat(n[s]):_f(t[s])&&_f(n[s])?t[s]=a(t[s],n[s]):t[s]=n[s]}),t},{})},X2=function(e){return Object.keys(e).map(function(r){return e[r]})},Q2=function(e,r){for(var i=[],t=e;t<r;t++)i.push(t);return i},Wa=function(e){return e.reduce(function(r,i){return r.concat(i)},[])},Tf=function(e){if(!e.length)return[];for(var r=[],i=0;i<e.length;i++)r.push(e[i]);return r},Y2=function(e,r){return e.reduce(function(i,t,n){return t[r]&&i.push(n),i},[])},mi={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},Tn=function(e){var r=e.baseUrl,i=r===void 0?"":r,t=e.source,n=t===void 0?"":t,s=e.range,o=s===void 0?"":s,u=e.indexRange,l=u===void 0?"":u,c={uri:n,resolvedUri:Ma(i||"",n)};if(o||l){var d=o||l,h=d.split("-"),v=parseInt(h[0],10),T=parseInt(h[1],10);c.byterange={length:T-v+1,offset:v}}return c},J2=function(e){var r=e.offset+e.length-1;return e.offset+"-"+r},bf=function(e){return e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e},Z2={static:function(e){var r=e.duration,i=e.timescale,t=i===void 0?1:i,n=e.sourceDuration,s=e.periodDuration,o=bf(e.endNumber),u=r/t;return typeof o=="number"?{start:0,end:o}:typeof s=="number"?{start:0,end:s/u}:{start:0,end:n/u}},dynamic:function(e){var r=e.NOW,i=e.clientOffset,t=e.availabilityStartTime,n=e.timescale,s=n===void 0?1:n,o=e.duration,u=e.start,l=u===void 0?0:u,c=e.minimumUpdatePeriod,d=c===void 0?0:c,h=e.timeShiftBufferDepth,v=h===void 0?1/0:h,T=bf(e.endNumber),x=(r+i)/1e3,y=t+l,E=x+d,D=E-y,A=Math.ceil(D*s/o),L=Math.floor((x-y-v)*s/o),O=Math.floor((x-y)*s/o);return{start:Math.max(0,L),end:typeof T=="number"?T:Math.min(A,O)}}},eT=function(e){return function(r,i){var t=e.duration,n=e.timescale,s=n===void 0?1:n,o=e.periodIndex,u=e.startNumber,l=u===void 0?1:u;return{number:l+r,duration:t/s,timeline:o,time:i*t}}},Ko=function(e){var r=e.type,i=e.duration,t=e.timescale,n=t===void 0?1:t,s=e.periodDuration,o=e.sourceDuration,u=Z2[r](e),l=u.start,c=u.end,d=Q2(l,c).map(eT(e));if(r==="static"){var h=d.length-1,v=typeof s=="number"?s:o;d[h].duration=v-i/n*h}return d},xf=function(e){var r=e.baseUrl,i=e.initialization,t=i===void 0?{}:i,n=e.sourceDuration,s=e.indexRange,o=s===void 0?"":s,u=e.duration;if(!r)throw new Error(mi.NO_BASE_URL);var l=Tn({baseUrl:r,source:t.sourceURL,range:t.range}),c=Tn({baseUrl:r,source:r,indexRange:o});if(c.map=l,u){var d=Ko(e);d.length&&(c.duration=d[0].duration,c.timeline=d[0].timeline)}else n&&(c.duration=n,c.timeline=0);return c.number=0,[c]},Xo=function(e,r,i){for(var t=e.sidx.map?e.sidx.map:null,n=e.sidx.duration,s=e.timeline||0,o=e.sidx.byterange,u=o.offset+o.length,l=r.timescale,c=r.references.filter(function(N){return N.referenceType!==1}),d=[],h=e.endList?"static":"dynamic",v=u+r.firstOffset,T=0;T<c.length;T++){var x=r.references[T],y=x.referencedSize,E=x.subsegmentDuration,D=v+y-1,A=v+"-"+D,L={baseUrl:i,timescale:l,timeline:s,periodIndex:s,duration:E,sourceDuration:n,indexRange:A,type:h},O=xf(L)[0];t&&(O.map=t),d.push(O),v+=y}return e.segments=d,e},$a=function(e){return e&&e.uri+"-"+J2(e.byterange)},Sf=function(e){var r=X2(e.reduce(function(i,t){var n=t.attributes.id+(t.attributes.lang||"");if(i[n]){var s;t.segments[0]&&(t.segments[0].discontinuity=!0),(s=i[n].segments).push.apply(s,t.segments),t.attributes.contentProtection&&(i[n].attributes.contentProtection=t.attributes.contentProtection)}else i[n]=t;return i},{}));return r.map(function(i){return i.discontinuityStarts=Y2(i.segments,"discontinuity"),i})},Qo=function(e,r){var i=$a(e.sidx),t=i&&r[i]&&r[i].sidx;return t&&Xo(e,t,e.sidx.resolvedUri),e},tT=function(e,r){if(r===void 0&&(r={}),!Object.keys(r).length)return e;for(var i in e)e[i]=Qo(e[i],r);return e},rT=function(e,r){var i,t=e.attributes,n=e.segments,s=e.sidx,o={attributes:(i={NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs},i["PROGRAM-ID"]=1,i),uri:"",endList:t.type==="static",timeline:t.periodIndex,resolvedUri:"",targetDuration:t.duration,segments:n,mediaSequence:n.length?n[0].number:1};return t.contentProtection&&(o.contentProtection=t.contentProtection),s&&(o.sidx=s),r&&(o.attributes.AUDIO="audio",o.attributes.SUBTITLES="subs"),o},iT=function(e){var r,i=e.attributes,t=e.segments;typeof t=="undefined"&&(t=[{uri:i.baseUrl,timeline:i.periodIndex,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration);var n=(r={NAME:i.id,BANDWIDTH:i.bandwidth},r["PROGRAM-ID"]=1,r);return i.codecs&&(n.CODECS=i.codecs),{attributes:n,uri:"",endList:i.type==="static",timeline:i.periodIndex,resolvedUri:i.baseUrl||"",targetDuration:i.duration,segments:t,mediaSequence:t.length?t[0].number:1}},nT=function(e,r,i){r===void 0&&(r={}),i===void 0&&(i=!1);var t,n=e.reduce(function(o,u){var l=u.attributes.role&&u.attributes.role.value||"",c=u.attributes.lang||"",d=u.attributes.label||"main";if(c&&!u.attributes.label){var h=l?" ("+l+")":"";d=""+u.attributes.lang+h}o[d]||(o[d]={language:c,autoselect:!0,default:l==="main",playlists:[],uri:""});var v=Qo(rT(u,i),r);return o[d].playlists.push(v),typeof t=="undefined"&&l==="main"&&(t=u,t.default=!0),o},{});if(!t){var s=Object.keys(n)[0];n[s].default=!0}return n},aT=function(e,r){return r===void 0&&(r={}),e.reduce(function(i,t){var n=t.attributes.lang||"text";return i[n]||(i[n]={language:n,default:!1,autoselect:!1,playlists:[],uri:""}),i[n].playlists.push(Qo(iT(t),r)),i},{})},sT=function(e){return e.reduce(function(r,i){return i&&i.forEach(function(t){var n=t.channel,s=t.language;r[s]={autoselect:!1,default:!1,instreamId:n,language:s},t.hasOwnProperty("aspectRatio")&&(r[s].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(r[s].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(r[s]["3D"]=t["3D"])}),r},{})},oT=function(e){var r,i=e.attributes,t=e.segments,n=e.sidx,s={attributes:(r={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},r["PROGRAM-ID"]=1,r),uri:"",endList:i.type==="static",timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:t,mediaSequence:t.length?t[0].number:1};return i.contentProtection&&(s.contentProtection=i.contentProtection),n&&(s.sidx=n),s},uT=function(e){var r=e.attributes;return r.mimeType==="video/mp4"||r.mimeType==="video/webm"||r.contentType==="video"},lT=function(e){var r=e.attributes;return r.mimeType==="audio/mp4"||r.mimeType==="audio/webm"||r.contentType==="audio"},cT=function(e){var r=e.attributes;return r.mimeType==="text/vtt"||r.contentType==="text"},dT=function(e,r,i){var t;if(i===void 0&&(i={}),!e.length)return{};var n=e[0].attributes,s=n.sourceDuration,o=n.type,u=n.suggestedPresentationDelay,l=n.minimumUpdatePeriod,c=Sf(e.filter(uT)).map(oT),d=Sf(e.filter(lT)),h=e.filter(cT),v=e.map(function(y){return y.attributes.captionServices}).filter(Boolean),T={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(t={AUDIO:{},VIDEO:{}},t["CLOSED-CAPTIONS"]={},t.SUBTITLES={},t),uri:"",duration:s,playlists:tT(c,i)};l>=0&&(T.minimumUpdatePeriod=l*1e3),r&&(T.locations=r),o==="dynamic"&&(T.suggestedPresentationDelay=u);var x=T.playlists.length===0;return d.length&&(T.mediaGroups.AUDIO.audio=nT(d,i,x)),h.length&&(T.mediaGroups.SUBTITLES.subs=aT(h,i)),v.length&&(T.mediaGroups["CLOSED-CAPTIONS"].cc=sT(v)),T},fT=function(e,r,i){var t=e.NOW,n=e.clientOffset,s=e.availabilityStartTime,o=e.timescale,u=o===void 0?1:o,l=e.start,c=l===void 0?0:l,d=e.minimumUpdatePeriod,h=d===void 0?0:d,v=(t+n)/1e3,T=s+c,x=v+h,y=x-T;return Math.ceil((y*u-r)/i)},Ef=function(e,r){for(var i=e.type,t=e.minimumUpdatePeriod,n=t===void 0?0:t,s=e.media,o=s===void 0?"":s,u=e.sourceDuration,l=e.timescale,c=l===void 0?1:l,d=e.startNumber,h=d===void 0?1:d,v=e.periodIndex,T=[],x=-1,y=0;y<r.length;y++){var E=r[y],D=E.d,A=E.r||0,L=E.t||0;x<0&&(x=L),L&&L>x&&(x=L);var O=void 0;if(A<0){var N=y+1;N===r.length?i==="dynamic"&&n>0&&o.indexOf("$Number$")>0?O=fT(e,x,D):O=(u*c-x)/D:O=(r[N].t-x)/D}else O=A+1;for(var V=h+T.length+O,M=h+T.length;M<V;)T.push({number:M,duration:D/c,time:x,timeline:v}),x+=D,M++}return T},hT=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,pT=function(e){return function(r,i,t,n){if(r==="$$")return"$";if(typeof e[i]=="undefined")return r;var s=""+e[i];return i==="RepresentationID"||(t?n=parseInt(n,10):n=1,s.length>=n)?s:""+new Array(n-s.length+1).join("0")+s}},Cf=function(e,r){return e.replace(hT,pT(r))},mT=function(e,r){return!e.duration&&!r?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]:e.duration?Ko(e):Ef(e,r)},gT=function(e,r){var i={RepresentationID:e.id,Bandwidth:e.bandwidth||0},t=e.initialization,n=t===void 0?{sourceURL:"",range:""}:t,s=Tn({baseUrl:e.baseUrl,source:Cf(n.sourceURL,i),range:n.range}),o=mT(e,r);return o.map(function(u){i.Number=u.number,i.Time=u.time;var l=Cf(e.media||"",i),c=e.timescale||1,d=e.presentationTimeOffset||0,h=e.periodStart+(u.time-d)/c,v={uri:l,timeline:u.timeline,duration:u.duration,resolvedUri:Ma(e.baseUrl||"",l),map:s,number:u.number,presentationTime:h};return v})},vT=function(e,r){var i=e.baseUrl,t=e.initialization,n=t===void 0?{}:t,s=Tn({baseUrl:i,source:n.sourceURL,range:n.range}),o=Tn({baseUrl:i,source:r.media,range:r.mediaRange});return o.map=s,o},yT=function(e,r){var i=e.duration,t=e.segmentUrls,n=t===void 0?[]:t,s=e.periodStart;if(!i&&!r||i&&r)throw new Error(mi.SEGMENT_TIME_UNSPECIFIED);var o=n.map(function(c){return vT(e,c)}),u;i&&(u=Ko(e)),r&&(u=Ef(e,r));var l=u.map(function(c,d){if(o[d]){var h=o[d],v=e.timescale||1,T=e.presentationTimeOffset||0;return h.timeline=c.timeline,h.duration=c.duration,h.number=c.number,h.presentationTime=s+(c.time-T)/v,h}}).filter(function(c){return c});return l},_T=function(e){var r=e.attributes,i=e.segmentInfo,t,n;i.template?(n=gT,t=Ye(r,i.template)):i.base?(n=xf,t=Ye(r,i.base)):i.list&&(n=yT,t=Ye(r,i.list));var s={attributes:r};if(!n)return s;var o=n(t,i.segmentTimeline);if(t.duration){var u=t,l=u.duration,c=u.timescale,d=c===void 0?1:c;t.duration=l/d}else o.length?t.duration=o.reduce(function(h,v){return Math.max(h,Math.ceil(v.duration))},0):t.duration=0;return s.attributes=t,s.segments=o,i.base&&t.indexRange&&(s.sidx=o[0],s.segments=[]),s},TT=function(e){return e.map(_T)},Ae=function(e,r){return Tf(e.childNodes).filter(function(i){var t=i.tagName;return t===r})},Yo=function(e){return e.textContent.trim()},gi=function(e){var r=365*24*60*60,i=30*24*60*60,t=24*60*60,n=60*60,s=60,o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,u=o.exec(e);if(!u)return 0;var l=u.slice(1),c=l[0],d=l[1],h=l[2],v=l[3],T=l[4],x=l[5];return parseFloat(c||0)*r+parseFloat(d||0)*i+parseFloat(h||0)*t+parseFloat(v||0)*n+parseFloat(T||0)*s+parseFloat(x||0)},bT=function(e){var r=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return r.test(e)&&(e+="Z"),Date.parse(e)},Df={mediaPresentationDuration:function(e){return gi(e)},availabilityStartTime:function(e){return bT(e)/1e3},minimumUpdatePeriod:function(e){return gi(e)},suggestedPresentationDelay:function(e){return gi(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return gi(e)},start:function(e){return gi(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var r=parseInt(e,10);return isNaN(r)?gi(e):r},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},We=function(e){return e&&e.attributes?Tf(e.attributes).reduce(function(r,i){var t=Df[i.name]||Df.DEFAULT;return r[i.name]=t(i.value),r},{}):{}},xT={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Ka=function(e,r){return r.length?Wa(e.map(function(i){return r.map(function(t){return Ma(i,Yo(t))})})):e},Jo=function(e){var r=Ae(e,"SegmentTemplate")[0],i=Ae(e,"SegmentList")[0],t=i&&Ae(i,"SegmentURL").map(function(h){return Ye({tag:"SegmentURL"},We(h))}),n=Ae(e,"SegmentBase")[0],s=i||r,o=s&&Ae(s,"SegmentTimeline")[0],u=i||n||r,l=u&&Ae(u,"Initialization")[0],c=r&&We(r);c&&l?c.initialization=l&&We(l):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});var d={template:c,segmentTimeline:o&&Ae(o,"S").map(function(h){return We(h)}),list:i&&Ye(We(i),{segmentUrls:t,initialization:We(l)}),base:n&&Ye(We(n),{initialization:We(l)})};return Object.keys(d).forEach(function(h){d[h]||delete d[h]}),d},ST=function(e,r,i){return function(t){var n=Ae(t,"BaseURL"),s=Ka(r,n),o=Ye(e,We(t)),u=Jo(t);return s.map(function(l){return{segmentInfo:Ye(i,u),attributes:Ye(o,{baseUrl:l})}})}},ET=function(e){return e.reduce(function(r,i){var t=We(i),n=xT[t.schemeIdUri];if(n){r[n]={attributes:t};var s=Ae(i,"cenc:pssh")[0];if(s){var o=Yo(s),u=o&&wd(o);r[n].pssh=u}}return r},{})},CT=function(e){if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var r=typeof e.value!="string"?[]:e.value.split(";");return r.map(function(t){var n,s;if(s=t,/^CC\d=/.test(t)){var o=t.split("=");n=o[0],s=o[1]}else/^CC\d$/.test(t)&&(n=t);return{channel:n,language:s}})}else if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var i=typeof e.value!="string"?[]:e.value.split(";");return i.map(function(t){var n={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(t)){var s=t.split("="),o=s[0],u=s[1],l=u===void 0?"":u;n.channel=o,n.language=t,l.split(",").forEach(function(c){var d=c.split(":"),h=d[0],v=d[1];h==="lang"?n.language=v:h==="er"?n.easyReader=Number(v):h==="war"?n.aspectRatio=Number(v):h==="3D"&&(n["3D"]=Number(v))})}else n.language=t;return n.channel&&(n.channel="SERVICE"+n.channel),n})}},DT=function(e,r,i){return function(t){var n=We(t),s=Ka(r,Ae(t,"BaseURL")),o=Ae(t,"Role")[0],u={role:We(o)},l=Ye(e,n,u),c=Ae(t,"Accessibility")[0],d=CT(We(c));d&&(l=Ye(l,{captionServices:d}));var h=Ae(t,"Label")[0];if(h&&h.childNodes.length){var v=h.childNodes[0].nodeValue.trim();l=Ye(l,{label:v})}var T=ET(Ae(t,"ContentProtection"));Object.keys(T).length&&(l=Ye(l,{contentProtection:T}));var x=Jo(t),y=Ae(t,"Representation"),E=Ye(i,x);return Wa(y.map(ST(l,s,E)))}},AT=function(e,r){return function(i,t){var n=Ka(r,Ae(i.node,"BaseURL")),s=parseInt(i.attributes.id,10),o=P.isNaN(s)?t:s,u=Ye(e,{periodIndex:o,periodStart:i.attributes.start});typeof i.attributes.duration=="number"&&(u.periodDuration=i.attributes.duration);var l=Ae(i.node,"AdaptationSet"),c=Jo(i.node);return Wa(l.map(DT(u,n,c)))}},wT=function(e){var r=e.attributes,i=e.priorPeriodAttributes,t=e.mpdType;return typeof r.start=="number"?r.start:i&&typeof i.start=="number"&&typeof i.duration=="number"?i.start+i.duration:!i&&t==="static"?0:null},kT=function(e,r){r===void 0&&(r={});var i=r,t=i.manifestUri,n=t===void 0?"":t,s=i.NOW,o=s===void 0?Date.now():s,u=i.clientOffset,l=u===void 0?0:u,c=Ae(e,"Period");if(!c.length)throw new Error(mi.INVALID_NUMBER_OF_PERIOD);var d=Ae(e,"Location"),h=We(e),v=Ka([n],Ae(e,"BaseURL"));h.type=h.type||"static",h.sourceDuration=h.mediaPresentationDuration||0,h.NOW=o,h.clientOffset=l,d.length&&(h.locations=d.map(Yo));var T=[];return c.forEach(function(x,y){var E=We(x),D=T[y-1];E.start=wT({attributes:E,priorPeriodAttributes:D?D.attributes:null,mpdType:h.type}),T.push({node:x,attributes:E})}),{locations:h.locations,representationInfo:Wa(T.map(AT(h,v)))}},Af=function(e){if(e==="")throw new Error(mi.DASH_EMPTY_MANIFEST);var r=new K2,i,t;try{i=r.parseFromString(e,"application/xml"),t=i&&i.documentElement.tagName==="MPD"?i.documentElement:null}catch{}if(!t||t&&t.getElementsByTagName("parsererror").length>0)throw new Error(mi.DASH_INVALID_XML);return t},PT=function(e){var r=Ae(e,"UTCTiming")[0];if(!r)return null;var i=We(r);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(mi.UNSUPPORTED_UTC_TIMING_SCHEME)}return i},IT=function(e,r){r===void 0&&(r={});var i=kT(Af(e),r),t=TT(i.representationInfo);return dT(t,i.locations,r.sidxMapping)},LT=function(e){return PT(Af(e))},wf=Math.pow(2,32),OT=function(a){var e=new DataView(a.buffer,a.byteOffset,a.byteLength),r={version:a[0],flags:new Uint8Array(a.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},i=12;r.version===0?(r.earliestPresentationTime=e.getUint32(i),r.firstOffset=e.getUint32(i+4),i+=8):(r.earliestPresentationTime=e.getUint32(i)*wf+e.getUint32(i+4),r.firstOffset=e.getUint32(i+8)*wf+e.getUint32(i+12),i+=16),i+=2;var t=e.getUint16(i);for(i+=2;t>0;i+=12,t--)r.references.push({referenceType:(a[i]&128)>>>7,referencedSize:e.getUint32(i)&2147483647,subsegmentDuration:e.getUint32(i+4),startsWithSap:!!(a[i+8]&128),sapType:(a[i+8]&112)>>>4,sapDeltaTime:e.getUint32(i+8)&268435455});return r},FT=OT,BT=function(e){return e.toString(2).length},RT=function(e){return Math.ceil(BT(e)/8)},MT=function(e){return ArrayBuffer.isView(e)},ie=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!MT(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Ve=P.BigInt||Number,Zo=[Ve("0x1"),Ve("0x100"),Ve("0x10000"),Ve("0x1000000"),Ve("0x100000000"),Ve("0x10000000000"),Ve("0x1000000000000"),Ve("0x100000000000000"),Ve("0x10000000000000000")];(function(){var a=new Uint16Array([65484]),e=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var NT=function(e,r){var i=r===void 0?{}:r,t=i.signed,n=t===void 0?!1:t,s=i.le,o=s===void 0?!1:s;e=ie(e);var u=o?"reduce":"reduceRight",l=e[u]?e[u]:Array.prototype[u],c=l.call(e,function(h,v,T){var x=o?T:Math.abs(T+1-e.length);return h+Ve(v)*Zo[x]},Ve(0));if(n){var d=Zo[e.length]/Ve(2)-Ve(1);c=Ve(c),c>d&&(c-=d,c-=d,c-=Ve(2))}return Number(c)},UT=function(e,r){var i=r===void 0?{}:r,t=i.le,n=t===void 0?!1:t;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Ve(e);for(var s=RT(e),o=new Uint8Array(new ArrayBuffer(s)),u=0;u<s;u++){var l=n?u:Math.abs(u+1-o.length);o[l]=Number(e/Zo[u]&Ve(255)),e<0&&(o[l]=Math.abs(~o[l]),o[l]-=u===0?1:2)}return o},kf=function(e,r){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;r||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),t=0;t<e.length;t++)i[t]=e.charCodeAt(t);return i},qT=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(r=r.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),r.length<=1)return ie(r[0]);var t=r.reduce(function(o,u,l){return o+(u.byteLength||u.length)},0),n=new Uint8Array(t),s=0;return r.forEach(function(o){o=ie(o),n.set(o,s),s+=o.byteLength}),n},be=function(e,r,i){var t=i===void 0?{}:i,n=t.offset,s=n===void 0?0:n,o=t.mask,u=o===void 0?[]:o;e=ie(e),r=ie(r);var l=r.every?r.every:Array.prototype.every;return r.length&&e.length-s>=r.length&&l.call(r,function(c,d){var h=u[d]?u[d]&e[s+d]:e[s+d];return c===h})},VT=ie([73,68,51]),HT=function(e,r){r===void 0&&(r=0),e=ie(e);var i=e[r+5],t=e[r+6]<<21|e[r+7]<<14|e[r+8]<<7|e[r+9],n=(i&16)>>4;return n?t+20:t+10},bn=function a(e,r){return r===void 0&&(r=0),e=ie(e),e.length-r<10||!be(e,VT,{offset:r})?r:(r+=HT(e,r),a(e,r))},Pf=function(e){return typeof e=="string"?kf(e):e},jT=function(e){return Array.isArray(e)?e.map(function(r){return Pf(r)}):[Pf(e)]},GT=function a(e,r,i){i===void 0&&(i=!1),r=jT(r),e=ie(e);var t=[];if(!r.length)return t;for(var n=0;n<e.length;){var s=(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3])>>>0,o=e.subarray(n+4,n+8);if(s===0)break;var u=n+s;if(u>e.length){if(i)break;u=e.length}var l=e.subarray(n+8,u);be(o,r[0])&&(r.length===1?t.push(l):t.push.apply(t,a(l,r.slice(1),i))),n=u}return t},Xa={EBML:ie([26,69,223,163]),DocType:ie([66,130]),Segment:ie([24,83,128,103]),SegmentInfo:ie([21,73,169,102]),Tracks:ie([22,84,174,107]),Track:ie([174]),TrackNumber:ie([215]),DefaultDuration:ie([35,227,131]),TrackEntry:ie([174]),TrackType:ie([131]),FlagDefault:ie([136]),CodecID:ie([134]),CodecPrivate:ie([99,162]),VideoTrack:ie([224]),AudioTrack:ie([225]),Cluster:ie([31,67,182,117]),Timestamp:ie([231]),TimestampScale:ie([42,215,177]),BlockGroup:ie([160]),BlockDuration:ie([155]),Block:ie([161]),SimpleBlock:ie([163])},eu=[128,64,32,16,8,4,2,1],zT=function(e){for(var r=1,i=0;i<eu.length&&!(e&eu[i]);i++)r++;return r},Qa=function(e,r,i,t){i===void 0&&(i=!0),t===void 0&&(t=!1);var n=zT(e[r]),s=e.subarray(r,r+n);return i&&(s=Array.prototype.slice.call(e,r,r+n),s[0]^=eu[n-1]),{length:n,value:NT(s,{signed:t}),bytes:s}},If=function a(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(r){return a(r)}):typeof e=="number"?UT(e):e},WT=function(e){return Array.isArray(e)?e.map(function(r){return If(r)}):[If(e)]},$T=function a(e,r,i){if(i>=r.length)return r.length;var t=Qa(r,i,!1);if(be(e.bytes,t.bytes))return i;var n=Qa(r,i+t.length);return a(e,r,i+n.length+n.value+t.length)},Lf=function a(e,r){r=WT(r),e=ie(e);var i=[];if(!r.length)return i;for(var t=0;t<e.length;){var n=Qa(e,t,!1),s=Qa(e,t+n.length),o=t+n.length+s.length;s.value===127&&(s.value=$T(n,e,o),s.value!==e.length&&(s.value-=o));var u=o+s.value>e.length?e.length:o+s.value,l=e.subarray(o,u);be(r[0],n.bytes)&&(r.length===1?i.push(l):i=i.concat(a(l,r.slice(1))));var c=n.length+s.length+l.length;t+=c}return i},KT=ie([0,0,0,1]),XT=ie([0,0,1]),QT=ie([0,0,3]),JT=function(e){for(var r=[],i=1;i<e.length-2;)be(e.subarray(i,i+3),QT)&&(r.push(i+2),i++),i++;if(r.length===0)return e;var t=e.length-r.length,n=new Uint8Array(t),s=0;for(i=0;i<t;s++,i++)s===r[0]&&(s++,r.shift()),n[i]=e[s];return n},Of=function(e,r,i,t){t===void 0&&(t=1/0),e=ie(e),i=[].concat(i);for(var n=0,s,o=0;n<e.length&&(o<t||s);){var u=void 0;if(be(e.subarray(n),KT)?u=4:be(e.subarray(n),XT)&&(u=3),!u){n++;continue}if(o++,s)return JT(e.subarray(s,n));var l=void 0;r==="h264"?l=e[n+u]&31:r==="h265"&&(l=e[n+u]>>1&63),i.indexOf(l)!==-1&&(s=n+u),n+=u+(r==="h264"?1:2)}return e.subarray(0,0)},ZT=function(e,r,i){return Of(e,"h264",r,i)},eb=function(e,r,i){return Of(e,"h265",r,i)},Je={webm:ie([119,101,98,109]),matroska:ie([109,97,116,114,111,115,107,97]),flac:ie([102,76,97,67]),ogg:ie([79,103,103,83]),ac3:ie([11,119]),riff:ie([82,73,70,70]),avi:ie([65,86,73]),wav:ie([87,65,86,69]),"3gp":ie([102,116,121,112,51,103]),mp4:ie([102,116,121,112]),fmp4:ie([115,116,121,112]),mov:ie([102,116,121,112,113,116]),moov:ie([109,111,111,118]),moof:ie([109,111,111,102])},vi={aac:function(e){var r=bn(e);return be(e,[255,16],{offset:r,mask:[255,22]})},mp3:function(e){var r=bn(e);return be(e,[255,2],{offset:r,mask:[255,6]})},webm:function(e){var r=Lf(e,[Xa.EBML,Xa.DocType])[0];return be(r,Je.webm)},mkv:function(e){var r=Lf(e,[Xa.EBML,Xa.DocType])[0];return be(r,Je.matroska)},mp4:function(e){if(vi["3gp"](e)||vi.mov(e))return!1;if(be(e,Je.mp4,{offset:4})||be(e,Je.fmp4,{offset:4})||be(e,Je.moof,{offset:4})||be(e,Je.moov,{offset:4}))return!0},mov:function(e){return be(e,Je.mov,{offset:4})},"3gp":function(e){return be(e,Je["3gp"],{offset:4})},ac3:function(e){var r=bn(e);return be(e,Je.ac3,{offset:r})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var r=0;r+188<e.length&&r<188;){if(e[r]===71&&e[r+188]===71)return!0;r+=1}return!1},flac:function(e){var r=bn(e);return be(e,Je.flac,{offset:r})},ogg:function(e){return be(e,Je.ogg)},avi:function(e){return be(e,Je.riff)&&be(e,Je.avi,{offset:8})},wav:function(e){return be(e,Je.riff)&&be(e,Je.wav,{offset:8})},h264:function(e){return ZT(e,7,3).length},h265:function(e){return eb(e,[32,33],3).length}},tu=Object.keys(vi).filter(function(a){return a!=="ts"&&a!=="h264"&&a!=="h265"}).concat(["ts","h264","h265"]);tu.forEach(function(a){var e=vi[a];vi[a]=function(r){return e(ie(r))}});var tb=vi,ru=function(e){e=ie(e);for(var r=0;r<tu.length;r++){var i=tu[r];if(tb[i](e))return i}return""},rb=function(e){return GT(e,["moof"]).length>0},iu=9e4,nu,au,Ya,su,Ff,Bf,Rf;nu=function(a){return a*iu};au=function(a,e){return a*e};Ya=function(a){return a/iu};su=function(a,e){return a/e};Ff=function(a,e){return nu(su(a,e))};Bf=function(a,e){return au(Ya(a),e)};Rf=function(a,e,r){return Ya(r?a:a-e)};var Ja={ONE_SECOND_IN_TS:iu,secondsToVideoTs:nu,secondsToAudioTs:au,videoTsToSeconds:Ya,audioTsToSeconds:su,audioTsToVideoTs:Ff,videoTsToAudioTs:Bf,metadataTsToSeconds:Rf};/**
 * @license
 * Video.js 7.17.0 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var Mf="7.17.0",tr={},br=function(e,r){return tr[e]=tr[e]||[],r&&(tr[e]=tr[e].concat(r)),tr[e]},ib=function(e,r){br(e,r)},Nf=function(e,r){var i=br(e).indexOf(r);return i<=-1?!1:(tr[e]=tr[e].slice(),tr[e].splice(i,1),!0)},nb=function(e,r){br(e,[].concat(r).map(function(i){var t=function n(){return Nf(e,n),i.apply(void 0,arguments)};return t}))},Za={prefixed:!0},es=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Uf=es[0],xn;for(var ts=0;ts<es.length;ts++)if(es[ts][1]in W){xn=es[ts];break}if(xn){for(var rs=0;rs<xn.length;rs++)Za[Uf[rs]]=xn[rs];Za.prefixed=xn[0]!==Uf[0]}var st=[],ab=function(e,r){return function(i,t,n){var s=r.levels[t],o=new RegExp("^("+s+")$");if(i!=="log"&&n.unshift(i.toUpperCase()+":"),n.unshift(e+":"),st){st.push([].concat(n));var u=st.length-1e3;st.splice(0,u>0?u:0)}if(!!P.console){var l=P.console[i];!l&&i==="debug"&&(l=P.console.info||P.console.log),!(!l||!s||!o.test(i))&&l[Array.isArray(n)?"apply":"call"](P.console,n)}}};function qf(a){var e="info",r,i=function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];r("log",e,s)};return r=ab(a,i),i.createLogger=function(t){return qf(a+": "+t)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},i.level=function(t){if(typeof t=="string"){if(!i.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');e=t}return e},i.history=function(){return st?[].concat(st):[]},i.history.filter=function(t){return(st||[]).filter(function(n){return new RegExp(".*"+t+".*").test(n[0])})},i.history.clear=function(){st&&(st.length=0)},i.history.disable=function(){st!==null&&(st.length=0,st=null)},i.history.enable=function(){st===null&&(st=[])},i.error=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return r("error",e,n)},i.warn=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return r("warn",e,n)},i.debug=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return r("debug",e,n)},i}var le=qf("VIDEOJS"),Vf=le.createLogger,sb=Object.prototype.toString,Hf=function(e){return rr(e)?Object.keys(e):[]};function yi(a,e){Hf(a).forEach(function(r){return e(a[r],r)})}function ob(a,e,r){return r===void 0&&(r=0),Hf(a).reduce(function(i,t){return e(i,a[t],t)},r)}function Ee(a){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return Object.assign?_t.apply(void 0,[a].concat(r)):(r.forEach(function(t){!t||yi(t,function(n,s){a[s]=n})}),a)}function rr(a){return!!a&&typeof a=="object"}function Sn(a){return rr(a)&&sb.call(a)==="[object Object]"&&a.constructor===Object}function En(a,e){if(!a||!e)return"";if(typeof P.getComputedStyle=="function"){var r;try{r=P.getComputedStyle(a)}catch{return""}return r?r.getPropertyValue(e)||r[e]:""}return""}var Me=P.navigator&&P.navigator.userAgent||"",jf=/AppleWebKit\/([\d.]+)/i.exec(Me),ub=jf?parseFloat(jf.pop()):null,Gf=/iPod/i.test(Me),lb=function(){var a=Me.match(/OS (\d+)_/i);return a&&a[1]?a[1]:null}(),ir=/Android/i.test(Me),ou=function(){var a=Me.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!a)return null;var e=a[1]&&parseFloat(a[1]),r=a[2]&&parseFloat(a[2]);return e&&r?parseFloat(a[1]+"."+a[2]):e||null}(),zf=ir&&ou<5&&ub<537,Wf=/Firefox/i.test(Me),Cn=/Edg/i.test(Me),nr=!Cn&&(/Chrome/i.test(Me)||/CriOS/i.test(Me)),$f=function(){var a=Me.match(/(Chrome|CriOS)\/(\d+)/);return a&&a[2]?parseFloat(a[2]):null}(),Dn=function(){var a=/MSIE\s(\d+)\.\d/.exec(Me),e=a&&parseFloat(a[1]);return!e&&/Trident\/7.0/i.test(Me)&&/rv:11.0/.test(Me)&&(e=11),e}(),uu=/Safari/i.test(Me)&&!nr&&!ir&&!Cn,Kf=/Windows/i.test(Me),_i=Boolean(Ti()&&("ontouchstart"in P||P.navigator.maxTouchPoints||P.DocumentTouch&&P.document instanceof P.DocumentTouch)),lu=/iPad/i.test(Me)||uu&&_i&&!/iPhone/i.test(Me),cu=/iPhone/i.test(Me)&&!lu,ot=cu||lu||Gf,is=(uu||ot)&&!nr,cb=Object.freeze({__proto__:null,IS_IPOD:Gf,IOS_VERSION:lb,IS_ANDROID:ir,ANDROID_VERSION:ou,IS_NATIVE_ANDROID:zf,IS_FIREFOX:Wf,IS_EDGE:Cn,IS_CHROME:nr,CHROME_VERSION:$f,IE_VERSION:Dn,IS_SAFARI:uu,IS_WINDOWS:Kf,TOUCH_ENABLED:_i,IS_IPAD:lu,IS_IPHONE:cu,IS_IOS:ot,IS_ANY_SAFARI:is});function Xf(a){return typeof a=="string"&&Boolean(a.trim())}function Qf(a){if(a.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function db(a){return new RegExp("(^|\\s)"+a+"($|\\s)")}function Ti(){return W===P.document}function bi(a){return rr(a)&&a.nodeType===1}function Yf(){try{return P.parent!==P.self}catch{return!0}}function Jf(a){return function(e,r){if(!Xf(e))return W[a](null);Xf(r)&&(r=W.querySelector(r));var i=bi(r)?r:W;return i[a]&&i[a](e)}}function de(a,e,r,i){a===void 0&&(a="div"),e===void 0&&(e={}),r===void 0&&(r={});var t=W.createElement(a);return Object.getOwnPropertyNames(e).forEach(function(n){var s=e[n];n.indexOf("aria-")!==-1||n==="role"||n==="type"?(le.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+n+" to "+s+".")),t.setAttribute(n,s)):n==="textContent"?Hr(t,s):(t[n]!==s||n==="tabIndex")&&(t[n]=s)}),Object.getOwnPropertyNames(r).forEach(function(n){t.setAttribute(n,r[n])}),i&&hu(t,i),t}function Hr(a,e){return typeof a.textContent=="undefined"?a.innerText=e:a.textContent=e,a}function du(a,e){e.firstChild?e.insertBefore(a,e.firstChild):e.appendChild(a)}function jr(a,e){return Qf(e),a.classList?a.classList.contains(e):db(e).test(a.className)}function ar(a,e){return a.classList?a.classList.add(e):jr(a,e)||(a.className=(a.className+" "+e).trim()),a}function An(a,e){return a?(a.classList?a.classList.remove(e):(Qf(e),a.className=a.className.split(/\s+/).filter(function(r){return r!==e}).join(" ")),a):(le.warn("removeClass was called with an element that doesn't exist"),null)}function Zf(a,e,r){var i=jr(a,e);if(typeof r=="function"&&(r=r(a,e)),typeof r!="boolean"&&(r=!i),r!==i)return r?ar(a,e):An(a,e),a}function eh(a,e){Object.getOwnPropertyNames(e).forEach(function(r){var i=e[r];i===null||typeof i=="undefined"||i===!1?a.removeAttribute(r):a.setAttribute(r,i===!0?"":i)})}function sr(a){var e={},r=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(a&&a.attributes&&a.attributes.length>0)for(var i=a.attributes,t=i.length-1;t>=0;t--){var n=i[t].name,s=i[t].value;(typeof a[n]=="boolean"||r.indexOf(","+n+",")!==-1)&&(s=s!==null),e[n]=s}return e}function th(a,e){return a.getAttribute(e)}function xi(a,e,r){a.setAttribute(e,r)}function ns(a,e){a.removeAttribute(e)}function rh(){W.body.focus(),W.onselectstart=function(){return!1}}function ih(){W.onselectstart=function(){return!0}}function Si(a){if(a&&a.getBoundingClientRect&&a.parentNode){var e=a.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach(function(i){e[i]!==void 0&&(r[i]=e[i])}),r.height||(r.height=parseFloat(En(a,"height"))),r.width||(r.width=parseFloat(En(a,"width"))),r}}function wn(a){if(!a||a&&!a.offsetParent)return{left:0,top:0,width:0,height:0};for(var e=a.offsetWidth,r=a.offsetHeight,i=0,t=0;a.offsetParent&&a!==W[Za.fullscreenElement];)i+=a.offsetLeft,t+=a.offsetTop,a=a.offsetParent;return{left:i,top:t,width:e,height:r}}function as(a,e){var r={x:0,y:0};if(ot)for(var i=a;i&&i.nodeName.toLowerCase()!=="html";){var t=En(i,"transform");if(/^matrix/.test(t)){var n=t.slice(7,-1).split(/,\s/).map(Number);r.x+=n[4],r.y+=n[5]}else if(/^matrix3d/.test(t)){var s=t.slice(9,-1).split(/,\s/).map(Number);r.x+=s[12],r.y+=s[13]}i=i.parentNode}var o={},u=wn(e.target),l=wn(a),c=l.width,d=l.height,h=e.offsetY-(l.top-u.top),v=e.offsetX-(l.left-u.left);return e.changedTouches&&(v=e.changedTouches[0].pageX-l.left,h=e.changedTouches[0].pageY+l.top,ot&&(v-=r.x,h-=r.y)),o.y=1-Math.max(0,Math.min(1,h/d)),o.x=Math.max(0,Math.min(1,v/c)),o}function nh(a){return rr(a)&&a.nodeType===3}function fu(a){for(;a.firstChild;)a.removeChild(a.firstChild);return a}function ah(a){return typeof a=="function"&&(a=a()),(Array.isArray(a)?a:[a]).map(function(e){if(typeof e=="function"&&(e=e()),bi(e)||nh(e))return e;if(typeof e=="string"&&/\S/.test(e))return W.createTextNode(e)}).filter(function(e){return e})}function hu(a,e){return ah(e).forEach(function(r){return a.appendChild(r)}),a}function sh(a,e){return hu(fu(a),e)}function kn(a){return a.button===void 0&&a.buttons===void 0||a.button===0&&a.buttons===void 0||a.type==="mouseup"&&a.button===0&&a.buttons===0?!0:!(a.button!==0||a.buttons!==1)}var xr=Jf("querySelector"),oh=Jf("querySelectorAll"),uh=Object.freeze({__proto__:null,isReal:Ti,isEl:bi,isInFrame:Yf,createEl:de,textContent:Hr,prependTo:du,hasClass:jr,addClass:ar,removeClass:An,toggleClass:Zf,setAttributes:eh,getAttributes:sr,getAttribute:th,setAttribute:xi,removeAttribute:ns,blockTextSelection:rh,unblockTextSelection:ih,getBoundingClientRect:Si,findPosition:wn,getPointerPosition:as,isTextNode:nh,emptyEl:fu,normalizeContent:ah,appendContent:hu,insertContent:sh,isSingleLeftClick:kn,$:xr,$$:oh}),lh=!1,pu,fb=function(){if(pu.options.autoSetup!==!1){var e=Array.prototype.slice.call(W.getElementsByTagName("video")),r=Array.prototype.slice.call(W.getElementsByTagName("audio")),i=Array.prototype.slice.call(W.getElementsByTagName("video-js")),t=e.concat(r,i);if(t&&t.length>0)for(var n=0,s=t.length;n<s;n++){var o=t[n];if(o&&o.getAttribute){if(o.player===void 0){var u=o.getAttribute("data-setup");u!==null&&pu(o)}}else{mu(1);break}}else lh||mu(1)}};function mu(a,e){!Ti()||(e&&(pu=e),P.setTimeout(fb,a))}function gu(){lh=!0,P.removeEventListener("load",gu)}Ti()&&(W.readyState==="complete"?gu():P.addEventListener("load",gu));var ch=function(e){var r=W.createElement("style");return r.className=e,r},dh=function(e,r){e.styleSheet?e.styleSheet.cssText=r:e.textContent=r},hb=3,pb=hb;function Sr(){return pb++}var fh;P.WeakMap||(fh=function(){function a(){this.vdata="vdata"+Math.floor(P.performance&&P.performance.now()||Date.now()),this.data={}}var e=a.prototype;return e.set=function(i,t){var n=i[this.vdata]||Sr();return i[this.vdata]||(i[this.vdata]=n),this.data[n]=t,this},e.get=function(i){var t=i[this.vdata];if(t)return this.data[t];le("We have no data for this element",i)},e.has=function(i){var t=i[this.vdata];return t in this.data},e.delete=function(i){var t=i[this.vdata];t&&(delete this.data[t],delete i[this.vdata])},a}());var Ze=P.WeakMap?new WeakMap:new fh;function hh(a,e){if(!!Ze.has(a)){var r=Ze.get(a);r.handlers[e].length===0&&(delete r.handlers[e],a.removeEventListener?a.removeEventListener(e,r.dispatcher,!1):a.detachEvent&&a.detachEvent("on"+e,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),Object.getOwnPropertyNames(r).length===0&&Ze.delete(a)}}function vu(a,e,r,i){r.forEach(function(t){a(e,t,i)})}function ss(a){if(a.fixed_)return a;function e(){return!0}function r(){return!1}if(!a||!a.isPropagationStopped||!a.isImmediatePropagationStopped){var i=a||P.event;a={};for(var t in i)t!=="layerX"&&t!=="layerY"&&t!=="keyLocation"&&t!=="webkitMovementX"&&t!=="webkitMovementY"&&(t==="returnValue"&&i.preventDefault||(a[t]=i[t]));if(a.target||(a.target=a.srcElement||W),a.relatedTarget||(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement),a.preventDefault=function(){i.preventDefault&&i.preventDefault(),a.returnValue=!1,i.returnValue=!1,a.defaultPrevented=!0},a.defaultPrevented=!1,a.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),a.cancelBubble=!0,i.cancelBubble=!0,a.isPropagationStopped=e},a.isPropagationStopped=r,a.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),a.isImmediatePropagationStopped=e,a.stopPropagation()},a.isImmediatePropagationStopped=r,a.clientX!==null&&a.clientX!==void 0){var n=W.documentElement,s=W.body;a.pageX=a.clientX+(n&&n.scrollLeft||s&&s.scrollLeft||0)-(n&&n.clientLeft||s&&s.clientLeft||0),a.pageY=a.clientY+(n&&n.scrollTop||s&&s.scrollTop||0)-(n&&n.clientTop||s&&s.clientTop||0)}a.which=a.charCode||a.keyCode,a.button!==null&&a.button!==void 0&&(a.button=a.button&1?0:a.button&4?1:a.button&2?2:0)}return a.fixed_=!0,a}var os,mb=function(){if(typeof os!="boolean"){os=!1;try{var e=Object.defineProperty({},"passive",{get:function(){os=!0}});P.addEventListener("test",null,e),P.removeEventListener("test",null,e)}catch{}}return os},gb=["touchstart","touchmove"];function pt(a,e,r){if(Array.isArray(e))return vu(pt,a,e,r);Ze.has(a)||Ze.set(a,{});var i=Ze.get(a);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),r.guid||(r.guid=Sr()),i.handlers[e].push(r),i.dispatcher||(i.disabled=!1,i.dispatcher=function(n,s){if(!i.disabled){n=ss(n);var o=i.handlers[n.type];if(o)for(var u=o.slice(0),l=0,c=u.length;l<c&&!n.isImmediatePropagationStopped();l++)try{u[l].call(a,n,s)}catch(d){le.error(d)}}}),i.handlers[e].length===1)if(a.addEventListener){var t=!1;mb()&&gb.indexOf(e)>-1&&(t={passive:!0}),a.addEventListener(e,i.dispatcher,t)}else a.attachEvent&&a.attachEvent("on"+e,i.dispatcher)}function $e(a,e,r){if(!!Ze.has(a)){var i=Ze.get(a);if(!!i.handlers){if(Array.isArray(e))return vu($e,a,e,r);var t=function(l,c){i.handlers[c]=[],hh(l,c)};if(e===void 0){for(var n in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},n)&&t(a,n);return}var s=i.handlers[e];if(!!s){if(!r){t(a,e);return}if(r.guid)for(var o=0;o<s.length;o++)s[o].guid===r.guid&&s.splice(o--,1);hh(a,e)}}}}function Ei(a,e,r){var i=Ze.has(a)?Ze.get(a):{},t=a.parentNode||a.ownerDocument;if(typeof e=="string"?e={type:e,target:a}:e.target||(e.target=a),e=ss(e),i.dispatcher&&i.dispatcher.call(a,e,r),t&&!e.isPropagationStopped()&&e.bubbles===!0)Ei.call(null,t,e,r);else if(!t&&!e.defaultPrevented&&e.target&&e.target[e.type]){Ze.has(e.target)||Ze.set(e.target,{});var n=Ze.get(e.target);e.target[e.type]&&(n.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),n.disabled=!1)}return!e.defaultPrevented}function us(a,e,r){if(Array.isArray(e))return vu(us,a,e,r);var i=function t(){$e(a,e,t),r.apply(this,arguments)};i.guid=r.guid=r.guid||Sr(),pt(a,e,i)}function ph(a,e,r){var i=function t(){$e(a,e,t),r.apply(this,arguments)};i.guid=r.guid=r.guid||Sr(),pt(a,e,i)}var vb=Object.freeze({__proto__:null,fixEvent:ss,on:pt,off:$e,trigger:Ei,one:us,any:ph}),kt=30,ge=function(e,r,i){r.guid||(r.guid=Sr());var t=r.bind(e);return t.guid=i?i+"_"+r.guid:r.guid,t},or=function(e,r){var i=P.performance.now(),t=function(){var s=P.performance.now();s-i>=r&&(e.apply(void 0,arguments),i=s)};return t},yb=function(e,r,i,t){t===void 0&&(t=P);var n,s=function(){t.clearTimeout(n),n=null},o=function(){var l=this,c=arguments,d=function(){n=null,d=null,i||e.apply(l,c)};!n&&i&&e.apply(l,c),t.clearTimeout(n),n=t.setTimeout(d,r)};return o.cancel=s,o},Ne=function(){};Ne.prototype.allowedEvents_={};Ne.prototype.on=function(a,e){var r=this.addEventListener;this.addEventListener=function(){},pt(this,a,e),this.addEventListener=r};Ne.prototype.addEventListener=Ne.prototype.on;Ne.prototype.off=function(a,e){$e(this,a,e)};Ne.prototype.removeEventListener=Ne.prototype.off;Ne.prototype.one=function(a,e){var r=this.addEventListener;this.addEventListener=function(){},us(this,a,e),this.addEventListener=r};Ne.prototype.any=function(a,e){var r=this.addEventListener;this.addEventListener=function(){},ph(this,a,e),this.addEventListener=r};Ne.prototype.trigger=function(a){var e=a.type||a;typeof a=="string"&&(a={type:e}),a=ss(a),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](a),Ei(this,a)};Ne.prototype.dispatchEvent=Ne.prototype.trigger;var Pn;Ne.prototype.queueTrigger=function(a){var e=this;Pn||(Pn=new Map);var r=a.type||a,i=Pn.get(this);i||(i=new Map,Pn.set(this,i));var t=i.get(r);i.delete(r),P.clearTimeout(t);var n=P.setTimeout(function(){i.size===0&&(i=null,Pn.delete(e)),e.trigger(a)},0);i.set(r,n)};var ls=function(e){return typeof e.name=="function"?e.name():typeof e.name=="string"?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},ur=function(e){return e instanceof Ne||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(r){return typeof e[r]=="function"})},_b=function(e,r){ur(e)?r():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(r))},yu=function(e){return typeof e=="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length},cs=function(e,r,i){if(!e||!e.nodeName&&!ur(e))throw new Error("Invalid target for "+ls(r)+"#"+i+"; must be a DOM node or evented object.")},mh=function(e,r,i){if(!yu(e))throw new Error("Invalid event type for "+ls(r)+"#"+i+"; must be a non-empty string or array.")},gh=function(e,r,i){if(typeof e!="function")throw new Error("Invalid listener for "+ls(r)+"#"+i+"; must be a function.")},_u=function(e,r,i){var t=r.length<3||r[0]===e||r[0]===e.eventBusEl_,n,s,o;return t?(n=e.eventBusEl_,r.length>=3&&r.shift(),s=r[0],o=r[1]):(n=r[0],s=r[1],o=r[2]),cs(n,e,i),mh(s,e,i),gh(o,e,i),o=ge(e,o),{isTargetingSelf:t,target:n,type:s,listener:o}},Gr=function(e,r,i,t){cs(e,e,r),e.nodeName?vb[r](e,i,t):e[r](i,t)},Tb={on:function(){for(var e=this,r=arguments.length,i=new Array(r),t=0;t<r;t++)i[t]=arguments[t];var n=_u(this,i,"on"),s=n.isTargetingSelf,o=n.target,u=n.type,l=n.listener;if(Gr(o,"on",u,l),!s){var c=function(){return e.off(o,u,l)};c.guid=l.guid;var d=function(){return e.off("dispose",c)};d.guid=l.guid,Gr(this,"on","dispose",c),Gr(o,"on","dispose",d)}},one:function(){for(var e=this,r=arguments.length,i=new Array(r),t=0;t<r;t++)i[t]=arguments[t];var n=_u(this,i,"one"),s=n.isTargetingSelf,o=n.target,u=n.type,l=n.listener;if(s)Gr(o,"one",u,l);else{var c=function d(){e.off(o,u,d);for(var h=arguments.length,v=new Array(h),T=0;T<h;T++)v[T]=arguments[T];l.apply(null,v)};c.guid=l.guid,Gr(o,"one",u,c)}},any:function(){for(var e=this,r=arguments.length,i=new Array(r),t=0;t<r;t++)i[t]=arguments[t];var n=_u(this,i,"any"),s=n.isTargetingSelf,o=n.target,u=n.type,l=n.listener;if(s)Gr(o,"any",u,l);else{var c=function d(){e.off(o,u,d);for(var h=arguments.length,v=new Array(h),T=0;T<h;T++)v[T]=arguments[T];l.apply(null,v)};c.guid=l.guid,Gr(o,"any",u,c)}},off:function(e,r,i){if(!e||yu(e))$e(this.eventBusEl_,e,r);else{var t=e,n=r;cs(t,this,"off"),mh(n,this,"off"),gh(i,this,"off"),i=ge(this,i),this.off("dispose",i),t.nodeName?($e(t,n,i),$e(t,"dispose",i)):ur(t)&&(t.off(n,i),t.off("dispose",i))}},trigger:function(e,r){cs(this.eventBusEl_,this,"trigger");var i=e&&typeof e!="string"?e.type:e;if(!yu(i)){var t="Invalid event type for "+ls(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(e)(this.log||le).error(t);else throw new Error(t)}return Ei(this.eventBusEl_,e,r)}};function Tu(a,e){e===void 0&&(e={});var r=e,i=r.eventBusKey;if(i){if(!a[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');a.eventBusEl_=a[i]}else a.eventBusEl_=de("span",{className:"vjs-event-bus"});return Ee(a,Tb),a.eventedCallbacks&&a.eventedCallbacks.forEach(function(t){t()}),a.on("dispose",function(){a.off(),[a,a.el_,a.eventBusEl_].forEach(function(t){t&&Ze.has(t)&&Ze.delete(t)}),P.setTimeout(function(){a.eventBusEl_=null},0)}),a}var bb={state:{},setState:function(e){var r=this;typeof e=="function"&&(e=e());var i;return yi(e,function(t,n){r.state[n]!==t&&(i=i||{},i[n]={from:r.state[n],to:t}),r.state[n]=t}),i&&ur(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function vh(a,e){return Ee(a,bb),a.state=Ee({},a.state,e),typeof a.handleStateChanged=="function"&&ur(a)&&a.on("statechanged",a.handleStateChanged),a}var ds=function(e){return typeof e!="string"?e:e.replace(/./,function(r){return r.toLowerCase()})},we=function(e){return typeof e!="string"?e:e.replace(/./,function(r){return r.toUpperCase()})},xb=function(e,r){return we(e)===we(r)};function _e(){for(var a={},e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return r.forEach(function(t){!t||yi(t,function(n,s){if(!Sn(n)){a[s]=n;return}Sn(a[s])||(a[s]={}),a[s]=_e(a[s],n)})}),a}var Sb=function(){function a(){this.map_={}}var e=a.prototype;return e.has=function(i){return i in this.map_},e.delete=function(i){var t=this.has(i);return delete this.map_[i],t},e.set=function(i,t){return this.map_[i]=t,this},e.forEach=function(i,t){for(var n in this.map_)i.call(t,this.map_[n],n,this)},a}(),Eb=P.Map?P.Map:Sb,Cb=function(){function a(){this.set_={}}var e=a.prototype;return e.has=function(i){return i in this.set_},e.delete=function(i){var t=this.has(i);return delete this.set_[i],t},e.add=function(i){return this.set_[i]=1,this},e.forEach=function(i,t){for(var n in this.set_)i.call(t,n,n,this)},a}(),bu=P.Set?P.Set:Cb,j=function(){function a(r,i,t){if(!r&&this.play?this.player_=r=this:this.player_=r,this.isDisposed_=!1,this.parentComponent_=null,this.options_=_e({},this.options_),i=this.options_=_e(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var n=r&&r.id&&r.id()||"no_player";this.id_=n+"_component_"+Sr()}this.name_=i.name||null,i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl()),i.evented!==!1&&(Tu(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),vh(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new bu,this.setIntervalIds_=new bu,this.rafIds_=new bu,this.namedRafs_=new Eb,this.clearingTimersOnDispose_=!1,i.initChildren!==!1&&this.initChildren(),this.ready(t),i.reportTouchActivity!==!1&&this.enableTouchActivity()}var e=a.prototype;return e.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var i=this.children_.length-1;i>=0;i--)this.children_[i].dispose&&this.children_[i].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(i){return i?(this.options_=_e(this.options_,i),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(i,t,n){return de(i,t,n)},e.localize=function(i,t,n){n===void 0&&(n=i);var s=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),u=o&&o[s],l=s&&s.split("-")[0],c=o&&o[l],d=n;return u&&u[i]?d=u[i]:c&&c[i]&&(d=c[i]),t&&(d=d.replace(/\{(\d+)\}/g,function(h,v){var T=t[v-1],x=T;return typeof T=="undefined"&&(x=h),x})),d},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(i){return this.childIndex_[i]},e.getChild=function(i){if(!!i)return this.childNameIndex_[i]},e.getDescendant=function(){for(var i=arguments.length,t=new Array(i),n=0;n<i;n++)t[n]=arguments[n];t=t.reduce(function(u,l){return u.concat(l)},[]);for(var s=this,o=0;o<t.length;o++)if(s=s.getChild(t[o]),!s||!s.getChild)return;return s},e.addChild=function(i,t,n){t===void 0&&(t={}),n===void 0&&(n=this.children_.length);var s,o;if(typeof i=="string"){o=we(i);var u=t.componentClass||o;t.name=o;var l=a.getComponent(u);if(!l)throw new Error("Component "+u+" does not exist");if(typeof l!="function")return null;s=new l(this.player_||this,t)}else s=i;if(s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(n,0,s),s.parentComponent_=this,typeof s.id=="function"&&(this.childIndex_[s.id()]=s),o=o||s.name&&we(s.name()),o&&(this.childNameIndex_[o]=s,this.childNameIndex_[ds(o)]=s),typeof s.el=="function"&&s.el()){var c=null;this.children_[n+1]&&(this.children_[n+1].el_?c=this.children_[n+1].el_:bi(this.children_[n+1])&&(c=this.children_[n+1])),this.contentEl().insertBefore(s.el(),c)}return s},e.removeChild=function(i){if(typeof i=="string"&&(i=this.getChild(i)),!(!i||!this.children_)){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===i){t=!0,this.children_.splice(n,1);break}if(!!t){i.parentComponent_=null,this.childIndex_[i.id()]=null,this.childNameIndex_[we(i.name())]=null,this.childNameIndex_[ds(i.name())]=null;var s=i.el();s&&s.parentNode===this.contentEl()&&this.contentEl().removeChild(i.el())}}},e.initChildren=function(){var i=this,t=this.options_.children;if(t){var n=this.options_,s=function(c){var d=c.name,h=c.opts;if(n[d]!==void 0&&(h=n[d]),h!==!1){h===!0&&(h={}),h.playerOptions=i.options_.playerOptions;var v=i.addChild(d,h);v&&(i[d]=v)}},o,u=a.getComponent("Tech");Array.isArray(t)?o=t:o=Object.keys(t),o.concat(Object.keys(this.options_).filter(function(l){return!o.some(function(c){return typeof c=="string"?l===c:l===c.name})})).map(function(l){var c,d;return typeof l=="string"?(c=l,d=t[c]||i.options_[c]||{}):(c=l.name,d=l),{name:c,opts:d}}).filter(function(l){var c=a.getComponent(l.opts.componentClass||we(l.name));return c&&!u.isTech(c)}).forEach(s)}},e.buildCSSClass=function(){return""},e.ready=function(i,t){if(t===void 0&&(t=!1),!!i){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(i);return}t?i.call(this):this.setTimeout(i,1)}},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var i=this.readyQueue_;this.readyQueue_=[],i&&i.length>0&&i.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},e.$=function(i,t){return xr(i,t||this.contentEl())},e.$$=function(i,t){return oh(i,t||this.contentEl())},e.hasClass=function(i){return jr(this.el_,i)},e.addClass=function(i){ar(this.el_,i)},e.removeClass=function(i){An(this.el_,i)},e.toggleClass=function(i,t){Zf(this.el_,i,t)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(i){return th(this.el_,i)},e.setAttribute=function(i,t){xi(this.el_,i,t)},e.removeAttribute=function(i){ns(this.el_,i)},e.width=function(i,t){return this.dimension("width",i,t)},e.height=function(i,t){return this.dimension("height",i,t)},e.dimensions=function(i,t){this.width(i,!0),this.height(t)},e.dimension=function(i,t,n){if(t!==void 0){(t===null||t!==t)&&(t=0),(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?this.el_.style[i]=t:t==="auto"?this.el_.style[i]="":this.el_.style[i]=t+"px",n||this.trigger("componentresize");return}if(!this.el_)return 0;var s=this.el_.style[i],o=s.indexOf("px");return parseInt(o!==-1?s.slice(0,o):this.el_["offset"+we(i)],10)},e.currentDimension=function(i){var t=0;if(i!=="width"&&i!=="height")throw new Error("currentDimension only accepts width or height value");if(t=En(this.el_,i),t=parseFloat(t),t===0||isNaN(t)){var n="offset"+we(i);t=this.el_[n]}return t},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(i){this.player_&&(i.stopPropagation(),this.player_.handleKeyDown(i))},e.handleKeyPress=function(i){this.handleKeyDown(i)},e.emitTapEvents=function(){var i=0,t=null,n=10,s=200,o;this.on("touchstart",function(l){l.touches.length===1&&(t={pageX:l.touches[0].pageX,pageY:l.touches[0].pageY},i=P.performance.now(),o=!0)}),this.on("touchmove",function(l){if(l.touches.length>1)o=!1;else if(t){var c=l.touches[0].pageX-t.pageX,d=l.touches[0].pageY-t.pageY,h=Math.sqrt(c*c+d*d);h>n&&(o=!1)}});var u=function(){o=!1};this.on("touchleave",u),this.on("touchcancel",u),this.on("touchend",function(l){if(t=null,o===!0){var c=P.performance.now()-i;c<s&&(l.preventDefault(),this.trigger("tap"))}})},e.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var i=ge(this.player(),this.player().reportUserActivity),t;this.on("touchstart",function(){i(),this.clearInterval(t),t=this.setInterval(i,250)});var n=function(o){i(),this.clearInterval(t)};this.on("touchmove",i),this.on("touchend",n),this.on("touchcancel",n)}},e.setTimeout=function(i,t){var n=this,s;return i=ge(this,i),this.clearTimersOnDispose_(),s=P.setTimeout(function(){n.setTimeoutIds_.has(s)&&n.setTimeoutIds_.delete(s),i()},t),this.setTimeoutIds_.add(s),s},e.clearTimeout=function(i){return this.setTimeoutIds_.has(i)&&(this.setTimeoutIds_.delete(i),P.clearTimeout(i)),i},e.setInterval=function(i,t){i=ge(this,i),this.clearTimersOnDispose_();var n=P.setInterval(i,t);return this.setIntervalIds_.add(n),n},e.clearInterval=function(i){return this.setIntervalIds_.has(i)&&(this.setIntervalIds_.delete(i),P.clearInterval(i)),i},e.requestAnimationFrame=function(i){var t=this;if(!this.supportsRaf_)return this.setTimeout(i,1e3/60);this.clearTimersOnDispose_();var n;return i=ge(this,i),n=P.requestAnimationFrame(function(){t.rafIds_.has(n)&&t.rafIds_.delete(n),i()}),this.rafIds_.add(n),n},e.requestNamedAnimationFrame=function(i,t){var n=this;if(!this.namedRafs_.has(i)){this.clearTimersOnDispose_(),t=ge(this,t);var s=this.requestAnimationFrame(function(){t(),n.namedRafs_.has(i)&&n.namedRafs_.delete(i)});return this.namedRafs_.set(i,s),i}},e.cancelNamedAnimationFrame=function(i){!this.namedRafs_.has(i)||(this.cancelAnimationFrame(this.namedRafs_.get(i)),this.namedRafs_.delete(i))},e.cancelAnimationFrame=function(i){return this.supportsRaf_?(this.rafIds_.has(i)&&(this.rafIds_.delete(i),P.cancelAnimationFrame(i)),i):this.clearTimeout(i)},e.clearTimersOnDispose_=function(){var i=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(t){var n=t[0],s=t[1];i[n].forEach(function(o,u){return i[s](u)})}),i.clearingTimersOnDispose_=!1}))},a.registerComponent=function(i,t){if(typeof i!="string"||!i)throw new Error('Illegal component name, "'+i+'"; must be a non-empty string.');var n=a.getComponent("Tech"),s=n&&n.isTech(t),o=a===t||a.prototype.isPrototypeOf(t.prototype);if(s||!o){var u;throw s?u="techs must be registered using Tech.registerTech()":u="must be a Component subclass",new Error('Illegal component, "'+i+'"; '+u+".")}i=we(i),a.components_||(a.components_={});var l=a.getComponent("Player");if(i==="Player"&&l&&l.players){var c=l.players,d=Object.keys(c);if(c&&d.length>0&&d.map(function(h){return c[h]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return a.components_[i]=t,a.components_[ds(i)]=t,t},a.getComponent=function(i){if(!(!i||!a.components_))return a.components_[i]},a}();j.prototype.supportsRaf_=typeof P.requestAnimationFrame=="function"&&typeof P.cancelAnimationFrame=="function";j.registerComponent("Component",j);function Db(a,e,r){if(typeof e!="number"||e<0||e>r)throw new Error("Failed to execute '"+a+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+r+").")}function yh(a,e,r,i){return Db(a,i,r.length-1),r[i][e]}function xu(a){var e;return a===void 0||a.length===0?e={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:e={length:a.length,start:yh.bind(null,"start",0,a),end:yh.bind(null,"end",1,a)},P.Symbol&&P.Symbol.iterator&&(e[P.Symbol.iterator]=function(){return(a||[]).values()}),e}function zr(a,e){return Array.isArray(a)?xu(a):a===void 0||e===void 0?xu():xu([[a,e]])}function _h(a,e){var r=0,i,t;if(!e)return 0;(!a||!a.length)&&(a=zr(0,0));for(var n=0;n<a.length;n++)i=a.start(n),t=a.end(n),t>e&&(t=e),r+=t-i;return r/e}function et(a){if(a instanceof et)return a;typeof a=="number"?this.code=a:typeof a=="string"?this.message=a:rr(a)&&(typeof a.code=="number"&&(this.code=a.code),Ee(this,a)),this.message||(this.message=et.defaultMessages[this.code]||"")}et.prototype.code=0;et.prototype.message="";et.prototype.status=null;et.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];et.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Ci=0;Ci<et.errorTypes.length;Ci++)et[et.errorTypes[Ci]]=Ci,et.prototype[et.errorTypes[Ci]]=Ci;function In(a){return a!=null&&typeof a.then=="function"}function Ut(a){In(a)&&a.then(null,function(e){})}var Su=function(e){var r=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(i,t,n){return e[t]&&(i[t]=e[t]),i},{cues:e.cues&&Array.prototype.map.call(e.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})});return r},Ab=function(e){var r=e.$$("track"),i=Array.prototype.map.call(r,function(n){return n.track}),t=Array.prototype.map.call(r,function(n){var s=Su(n.track);return n.src&&(s.src=n.src),s});return t.concat(Array.prototype.filter.call(e.textTracks(),function(n){return i.indexOf(n)===-1}).map(Su))},wb=function(e,r){return e.forEach(function(i){var t=r.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(function(n){return t.addCue(n)})}),r.textTracks()},Th={textTracksToJson:Ab,jsonToTextTracks:wb,trackToJson_:Su},Eu="vjs-modal-dialog",Di=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.handleKeyDown_=function(s){return n.handleKeyDown(s)},n.close_=function(s){return n.close(s)},n.opened_=n.hasBeenOpened_=n.hasBeenFilled_=!1,n.closeable(!n.options_.uncloseable),n.content(n.options_.content),n.contentEl_=de("div",{className:Eu+"-content"},{role:"document"}),n.descEl_=de("p",{className:Eu+"-description vjs-control-text",id:n.el().getAttribute("aria-describedby")}),Hr(n.descEl_,n.description()),n.el_.appendChild(n.descEl_),n.el_.appendChild(n.contentEl_),n}var r=e.prototype;return r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},r.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,a.prototype.dispose.call(this)},r.buildCSSClass=function(){return Eu+" vjs-hidden "+a.prototype.buildCSSClass.call(this)},r.label=function(){return this.localize(this.options_.label||"Modal Window")},r.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},r.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},r.opened=function(t){return typeof t=="boolean"&&this[t?"open":"close"](),this.opened_},r.close=function(){if(!!this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},r.closeable=function(t){if(typeof t=="boolean"){var n=this.closeable_=!!t,s=this.getChild("closeButton");if(n&&!s){var o=this.contentEl_;this.contentEl_=this.el_,s=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=o,this.on(s,"close",this.close_)}!n&&s&&(this.off(s,"close",this.close_),this.removeChild(s),s.dispose())}return this.closeable_},r.fill=function(){this.fillWith(this.content())},r.fillWith=function(t){var n=this.contentEl(),s=n.parentNode,o=n.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,s.removeChild(n),this.empty(),sh(n,t),this.trigger("modalfill"),o?s.insertBefore(n,o):s.appendChild(n);var u=this.getChild("closeButton");u&&s.appendChild(u.el_)},r.empty=function(){this.trigger("beforemodalempty"),fu(this.contentEl()),this.trigger("modalempty")},r.content=function(t){return typeof t!="undefined"&&(this.content_=t),this.content_},r.conditionalFocus_=function(){var t=W.activeElement,n=this.player_.el_;this.previouslyActiveEl_=null,(n.contains(t)||n===t)&&(this.previouslyActiveEl_=t,this.focus())},r.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},r.handleKeyDown=function(t){if(t.stopPropagation(),oe.isEventKey(t,"Escape")&&this.closeable()){t.preventDefault(),this.close();return}if(!!oe.isEventKey(t,"Tab")){for(var n=this.focusableEls_(),s=this.el_.querySelector(":focus"),o,u=0;u<n.length;u++)if(s===n[u]){o=u;break}W.activeElement===this.el_&&(o=0),t.shiftKey&&o===0?(n[n.length-1].focus(),t.preventDefault()):!t.shiftKey&&o===n.length-1&&(n[0].focus(),t.preventDefault())}},r.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(n){return(n instanceof P.HTMLAnchorElement||n instanceof P.HTMLAreaElement)&&n.hasAttribute("href")||(n instanceof P.HTMLInputElement||n instanceof P.HTMLSelectElement||n instanceof P.HTMLTextAreaElement||n instanceof P.HTMLButtonElement)&&!n.hasAttribute("disabled")||n instanceof P.HTMLIFrameElement||n instanceof P.HTMLObjectElement||n instanceof P.HTMLEmbedElement||n.hasAttribute("tabindex")&&n.getAttribute("tabindex")!==-1||n.hasAttribute("contenteditable")})},e}(j);Di.prototype.options_={pauseOnOpen:!0,temporary:!0};j.registerComponent("ModalDialog",Di);var Ai=function(a){$(e,a);function e(i){var t;i===void 0&&(i=[]),t=a.call(this)||this,t.tracks_=[],Object.defineProperty(se(t),"length",{get:function(){return this.tracks_.length}});for(var n=0;n<i.length;n++)t.addTrack(i[n]);return t}var r=e.prototype;return r.addTrack=function(t){var n=this,s=this.tracks_.length;""+s in this||Object.defineProperty(this,s,{get:function(){return this.tracks_[s]}}),this.tracks_.indexOf(t)===-1&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this})),t.labelchange_=function(){n.trigger({track:t,type:"labelchange",target:n})},ur(t)&&t.addEventListener("labelchange",t.labelchange_)},r.removeTrack=function(t){for(var n,s=0,o=this.length;s<o;s++)if(this[s]===t){n=this[s],n.off&&n.off(),this.tracks_.splice(s,1);break}!n||this.trigger({track:n,type:"removetrack",target:this})},r.getTrackById=function(t){for(var n=null,s=0,o=this.length;s<o;s++){var u=this[s];if(u.id===t){n=u;break}}return n},e}(Ne);Ai.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var kb in Ai.prototype.allowedEvents_)Ai.prototype["on"+kb]=null;var Cu=function(e,r){for(var i=0;i<e.length;i++)!Object.keys(e[i]).length||r.id===e[i].id||(e[i].enabled=!1)},Pb=function(a){$(e,a);function e(i){var t;i===void 0&&(i=[]);for(var n=i.length-1;n>=0;n--)if(i[n].enabled){Cu(i,i[n]);break}return t=a.call(this,i)||this,t.changing_=!1,t}var r=e.prototype;return r.addTrack=function(t){var n=this;t.enabled&&Cu(this,t),a.prototype.addTrack.call(this,t),!!t.addEventListener&&(t.enabledChange_=function(){n.changing_||(n.changing_=!0,Cu(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},r.removeTrack=function(t){a.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},e}(Ai),Du=function(e,r){for(var i=0;i<e.length;i++)!Object.keys(e[i]).length||r.id===e[i].id||(e[i].selected=!1)},Ib=function(a){$(e,a);function e(i){var t;i===void 0&&(i=[]);for(var n=i.length-1;n>=0;n--)if(i[n].selected){Du(i,i[n]);break}return t=a.call(this,i)||this,t.changing_=!1,Object.defineProperty(se(t),"selectedIndex",{get:function(){for(var o=0;o<this.length;o++)if(this[o].selected)return o;return-1},set:function(){}}),t}var r=e.prototype;return r.addTrack=function(t){var n=this;t.selected&&Du(this,t),a.prototype.addTrack.call(this,t),!!t.addEventListener&&(t.selectedChange_=function(){n.changing_||(n.changing_=!0,Du(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},r.removeTrack=function(t){a.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},e}(Ai),bh=function(a){$(e,a);function e(){return a.apply(this,arguments)||this}var r=e.prototype;return r.addTrack=function(t){var n=this;a.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_);var s=["metadata","chapters"];s.indexOf(t.kind)===-1&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},r.removeTrack=function(t){a.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(Ai),Lb=function(){function a(r){r===void 0&&(r=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var i=0,t=r.length;i<t;i++)this.addTrackElement_(r[i])}var e=a.prototype;return e.addTrackElement_=function(i){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),this.trackElements_.indexOf(i)===-1&&this.trackElements_.push(i)},e.getTrackElementByTrack_=function(i){for(var t,n=0,s=this.trackElements_.length;n<s;n++)if(i===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},e.removeTrackElement_=function(i){for(var t=0,n=this.trackElements_.length;t<n;t++)if(i===this.trackElements_[t]){this.trackElements_[t].track&&typeof this.trackElements_[t].track.off=="function"&&this.trackElements_[t].track.off(),typeof this.trackElements_[t].off=="function"&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},a}(),xh=function(){function a(r){a.prototype.setCues_.call(this,r),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=a.prototype;return e.setCues_=function(i){var t=this.length||0,n=0,s=i.length;this.cues_=i,this.length_=i.length;var o=function(l){""+l in this||Object.defineProperty(this,""+l,{get:function(){return this.cues_[l]}})};if(t<s)for(n=t;n<s;n++)o.call(this,n)},e.getCueById=function(i){for(var t=null,n=0,s=this.length;n<s;n++){var o=this[n];if(o.id===i){t=o;break}}return t},a}(),Ob={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Fb={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Bb={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Sh={disabled:"disabled",hidden:"hidden",showing:"showing"},Au=function(a){$(e,a);function e(r){var i;r===void 0&&(r={}),i=a.call(this)||this;var t={id:r.id||"vjs_track_"+Sr(),kind:r.kind||"",language:r.language||""},n=r.label||"",s=function(l){Object.defineProperty(se(i),l,{get:function(){return t[l]},set:function(){}})};for(var o in t)s(o);return Object.defineProperty(se(i),"label",{get:function(){return n},set:function(l){l!==n&&(n=l,this.trigger("labelchange"))}}),i}return e}(Ne),wu=function(e){var r=["protocol","hostname","port","pathname","search","hash","host"],i=W.createElement("a");i.href=e;for(var t={},n=0;n<r.length;n++)t[r[n]]=i[r[n]];return t.protocol==="http:"&&(t.host=t.host.replace(/:80$/,"")),t.protocol==="https:"&&(t.host=t.host.replace(/:443$/,"")),t.protocol||(t.protocol=P.location.protocol),t.host||(t.host=P.location.host),t},Eh=function(e){if(!e.match(/^https?:\/\//)){var r=W.createElement("a");r.href=e,e=r.href}return e},ku=function(e){if(typeof e=="string"){var r=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,i=r.exec(e);if(i)return i.pop().toLowerCase()}return""},fs=function(e,r){r===void 0&&(r=P.location);var i=wu(e),t=i.protocol===":"?r.protocol:i.protocol,n=t+i.host!==r.protocol+r.host;return n},Rb=Object.freeze({__proto__:null,parseUrl:wu,getAbsoluteURL:Eh,getFileExtension:ku,isCrossOrigin:fs}),Ch=function(e,r){var i=new P.WebVTT.Parser(P,P.vttjs,P.WebVTT.StringDecoder()),t=[];i.oncue=function(n){r.addCue(n)},i.onparsingerror=function(n){t.push(n)},i.onflush=function(){r.trigger({type:"loadeddata",target:r})},i.parse(e),t.length>0&&(P.console&&P.console.groupCollapsed&&P.console.groupCollapsed("Text Track parsing errors for "+r.src),t.forEach(function(n){return le.error(n)}),P.console&&P.console.groupEnd&&P.console.groupEnd()),i.flush()},Dh=function(e,r){var i={uri:e},t=fs(e);t&&(i.cors=t);var n=r.tech_.crossOrigin()==="use-credentials";n&&(i.withCredentials=n),gd(i,ge(this,function(s,o,u){if(s)return le.error(s,o);r.loaded_=!0,typeof P.WebVTT!="function"?r.tech_&&r.tech_.any(["vttjsloaded","vttjserror"],function(l){if(l.type==="vttjserror"){le.error("vttjs failed to load, stopping trying to process "+r.src);return}return Ch(u,r)}):Ch(u,r)}))},Ln=function(a){$(e,a);function e(i){var t;if(i===void 0&&(i={}),!i.tech)throw new Error("A tech was not provided.");var n=_e(i,{kind:Bb[i.kind]||"subtitles",language:i.language||i.srclang||""}),s=Sh[n.mode]||"disabled",o=n.default;(n.kind==="metadata"||n.kind==="chapters")&&(s="hidden"),t=a.call(this,n)||this,t.tech_=n.tech,t.cues_=[],t.activeCues_=[],t.preload_=t.tech_.preloadTextTracks!==!1;var u=new xh(t.cues_),l=new xh(t.activeCues_),c=!1,d=ge(se(t),function(){!this.tech_.isReady_||this.tech_.isDisposed()||(this.activeCues=this.activeCues,c&&(this.trigger("cuechange"),c=!1))}),h=function(){t.tech_.off("timeupdate",d)};return t.tech_.one("dispose",h),s!=="disabled"&&t.tech_.on("timeupdate",d),Object.defineProperties(se(t),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return s},set:function(T){!Sh[T]||s!==T&&(s=T,!this.preload_&&s!=="disabled"&&this.cues.length===0&&Dh(this.src,this),this.tech_.off("timeupdate",d),s!=="disabled"&&this.tech_.on("timeupdate",d),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?u:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return l;for(var T=this.tech_.currentTime(),x=[],y=0,E=this.cues.length;y<E;y++){var D=this.cues[y];(D.startTime<=T&&D.endTime>=T||D.startTime===D.endTime&&D.startTime<=T&&D.startTime+.5>=T)&&x.push(D)}if(c=!1,x.length!==this.activeCues_.length)c=!0;else for(var A=0;A<x.length;A++)this.activeCues_.indexOf(x[A])===-1&&(c=!0);return this.activeCues_=x,l.setCues_(this.activeCues_),l},set:function(){}}}),n.src?(t.src=n.src,t.preload_||(t.loaded_=!0),(t.preload_||n.kind!=="subtitles"&&n.kind!=="captions")&&Dh(t.src,se(t))):t.loaded_=!0,t}var r=e.prototype;return r.addCue=function(t){var n=t;if(P.vttjs&&!(t instanceof P.vttjs.VTTCue)){n=new P.vttjs.VTTCue(t.startTime,t.endTime,t.text);for(var s in t)s in n||(n[s]=t[s]);n.id=t.id,n.originalCue_=t}for(var o=this.tech_.textTracks(),u=0;u<o.length;u++)o[u]!==this&&o[u].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)},r.removeCue=function(t){for(var n=this.cues_.length;n--;){var s=this.cues_[n];if(s===t||s.originalCue_&&s.originalCue_===t){this.cues_.splice(n,1),this.cues.setCues_(this.cues_);break}}},e}(Au);Ln.prototype.allowedEvents_={cuechange:"cuechange"};var Ah=function(a){$(e,a);function e(r){var i;r===void 0&&(r={});var t=_e(r,{kind:Fb[r.kind]||""});i=a.call(this,t)||this;var n=!1;return Object.defineProperty(se(i),"enabled",{get:function(){return n},set:function(o){typeof o!="boolean"||o===n||(n=o,this.trigger("enabledchange"))}}),t.enabled&&(i.enabled=t.enabled),i.loaded_=!0,i}return e}(Au),wh=function(a){$(e,a);function e(r){var i;r===void 0&&(r={});var t=_e(r,{kind:Ob[r.kind]||""});i=a.call(this,t)||this;var n=!1;return Object.defineProperty(se(i),"selected",{get:function(){return n},set:function(o){typeof o!="boolean"||o===n||(n=o,this.trigger("selectedchange"))}}),t.selected&&(i.selected=t.selected),i}return e}(Au),kh=0,Mb=1,Ph=2,Nb=3,wi=function(a){$(e,a);function e(r){var i;r===void 0&&(r={}),i=a.call(this)||this;var t,n=new Ln(r);return i.kind=n.kind,i.src=n.src,i.srclang=n.language,i.label=n.label,i.default=n.default,Object.defineProperties(se(i),{readyState:{get:function(){return t}},track:{get:function(){return n}}}),t=kh,n.addEventListener("loadeddata",function(){t=Ph,i.trigger({type:"load",target:se(i)})}),i}return e}(Ne);wi.prototype.allowedEvents_={load:"load"};wi.NONE=kh;wi.LOADING=Mb;wi.LOADED=Ph;wi.ERROR=Nb;var Tt={audio:{ListClass:Pb,TrackClass:Ah,capitalName:"Audio"},video:{ListClass:Ib,TrackClass:wh,capitalName:"Video"},text:{ListClass:bh,TrackClass:Ln,capitalName:"Text"}};Object.keys(Tt).forEach(function(a){Tt[a].getterName=a+"Tracks",Tt[a].privateName=a+"Tracks_"});var ki={remoteText:{ListClass:bh,TrackClass:Ln,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Lb,TrackClass:wi,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},tt=_t({},Tt,ki);ki.names=Object.keys(ki);Tt.names=Object.keys(Tt);tt.names=[].concat(ki.names).concat(Tt.names);function Ub(a,e,r,i,t){t===void 0&&(t={});var n=a.textTracks();t.kind=e,r&&(t.label=r),i&&(t.language=i),t.tech=a;var s=new tt.text.TrackClass(t);return n.addTrack(s),s}var ve=function(a){$(e,a);function e(i,t){var n;return i===void 0&&(i={}),t===void 0&&(t=function(){}),i.reportTouchActivity=!1,n=a.call(this,null,i,t)||this,n.onDurationChange_=function(s){return n.onDurationChange(s)},n.trackProgress_=function(s){return n.trackProgress(s)},n.trackCurrentTime_=function(s){return n.trackCurrentTime(s)},n.stopTrackingCurrentTime_=function(s){return n.stopTrackingCurrentTime(s)},n.disposeSourceHandler_=function(s){return n.disposeSourceHandler(s)},n.hasStarted_=!1,n.on("playing",function(){this.hasStarted_=!0}),n.on("loadstart",function(){this.hasStarted_=!1}),tt.names.forEach(function(s){var o=tt[s];i&&i[o.getterName]&&(n[o.privateName]=i[o.getterName])}),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(s){i["native"+s+"Tracks"]===!1&&(n["featuresNative"+s+"Tracks"]=!1)}),i.nativeCaptions===!1||i.nativeTextTracks===!1?n.featuresNativeTextTracks=!1:(i.nativeCaptions===!0||i.nativeTextTracks===!0)&&(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.preloadTextTracks=i.preloadTextTracks!==!1,n.autoRemoteTextTracks_=new tt.text.ListClass,n.initTrackListeners(),i.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}var r=e.prototype;return r.triggerSourceset=function(t){var n=this;this.isReady_||this.one("ready",function(){return n.setTimeout(function(){return n.triggerSourceset(t)},1)}),this.trigger({src:t,type:"sourceset"})},r.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},r.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},r.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(ge(this,function(){var n=this.bufferedPercent();this.bufferedPercent_!==n&&this.trigger("progress"),this.bufferedPercent_=n,n===1&&this.stopTrackingProgress()}),500)},r.onDurationChange=function(t){this.duration_=this.duration()},r.buffered=function(){return zr(0,0)},r.bufferedPercent=function(){return _h(this.buffered(),this.duration_)},r.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},r.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},r.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},r.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},r.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.dispose=function(){this.clearTracks(Tt.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),a.prototype.dispose.call(this)},r.clearTracks=function(t){var n=this;t=[].concat(t),t.forEach(function(s){for(var o=n[s+"Tracks"]()||[],u=o.length;u--;){var l=o[u];s==="text"&&n.removeRemoteTextTrack(l),o.removeTrack(l)}})},r.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],n=t.length;n--;){var s=t[n];this.removeRemoteTextTrack(s)}},r.reset=function(){},r.crossOrigin=function(){},r.setCrossOrigin=function(){},r.error=function(t){return t!==void 0&&(this.error_=new et(t),this.trigger("error")),this.error_},r.played=function(){return this.hasStarted_?zr(0,0):zr()},r.play=function(){},r.setScrubbing=function(){},r.scrubbing=function(){},r.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.initTrackListeners=function(){var t=this;Tt.names.forEach(function(n){var s=Tt[n],o=function(){t.trigger(n+"trackchange")},u=t[s.getterName]();u.addEventListener("removetrack",o),u.addEventListener("addtrack",o),t.on("dispose",function(){u.removeEventListener("removetrack",o),u.removeEventListener("addtrack",o)})})},r.addWebVttScript_=function(){var t=this;if(!P.WebVTT)if(W.body.contains(this.el())){if(!this.options_["vtt.js"]&&Sn(Ed)&&Object.keys(Ed).length>0){this.trigger("vttjsloaded");return}var n=W.createElement("script");n.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",n.onload=function(){t.trigger("vttjsloaded")},n.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){n.onload=null,n.onerror=null}),P.WebVTT=!0,this.el().parentNode.appendChild(n)}else this.ready(this.addWebVttScript_)},r.emulateTextTracks=function(){var t=this,n=this.textTracks(),s=this.remoteTextTracks(),o=function(h){return n.addTrack(h.track)},u=function(h){return n.removeTrack(h.track)};s.on("addtrack",o),s.on("removetrack",u),this.addWebVttScript_();var l=function(){return t.trigger("texttrackchange")},c=function(){l();for(var h=0;h<n.length;h++){var v=n[h];v.removeEventListener("cuechange",l),v.mode==="showing"&&v.addEventListener("cuechange",l)}};c(),n.addEventListener("change",c),n.addEventListener("addtrack",c),n.addEventListener("removetrack",c),this.on("dispose",function(){s.off("addtrack",o),s.off("removetrack",u),n.removeEventListener("change",c),n.removeEventListener("addtrack",c),n.removeEventListener("removetrack",c);for(var d=0;d<n.length;d++){var h=n[d];h.removeEventListener("cuechange",l)}})},r.addTextTrack=function(t,n,s){if(!t)throw new Error("TextTrack kind is required but was not provided");return Ub(this,t,n,s)},r.createRemoteTextTrack=function(t){var n=_e(t,{tech:this});return new ki.remoteTextEl.TrackClass(n)},r.addRemoteTextTrack=function(t,n){var s=this;t===void 0&&(t={});var o=this.createRemoteTextTrack(t);return n!==!0&&n!==!1&&(le.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(o),this.remoteTextTracks().addTrack(o.track),n!==!0&&this.ready(function(){return s.autoRemoteTextTracks_.addTrack(o.track)}),o},r.removeRemoteTextTrack=function(t){var n=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(n),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},r.getVideoPlaybackQuality=function(){return{}},r.requestPictureInPicture=function(){var t=this.options_.Promise||P.Promise;if(t)return t.reject()},r.disablePictureInPicture=function(){return!0},r.setDisablePictureInPicture=function(){},r.setPoster=function(){},r.playsinline=function(){},r.setPlaysinline=function(){},r.overrideNativeAudioTracks=function(){},r.overrideNativeVideoTracks=function(){},r.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(t,n){return e.canPlayType(t.type)},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,n){if(e.techs_||(e.techs_={}),!e.isTech(n))throw new Error("Tech "+t+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=we(t),e.techs_[t]=n,e.techs_[ds(t)]=n,t!=="Tech"&&e.defaultTechOrder_.push(t),n},e.getTech=function(t){if(!!t){if(e.techs_&&e.techs_[t])return e.techs_[t];if(t=we(t),P&&P.videojs&&P.videojs[t])return le.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),P.videojs[t]}},e}(j);tt.names.forEach(function(a){var e=tt[a];ve.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});ve.prototype.featuresVolumeControl=!0;ve.prototype.featuresMuteControl=!0;ve.prototype.featuresFullscreenResize=!1;ve.prototype.featuresPlaybackRate=!1;ve.prototype.featuresProgressEvents=!1;ve.prototype.featuresSourceset=!1;ve.prototype.featuresTimeupdateEvents=!1;ve.prototype.featuresNativeTextTracks=!1;ve.withSourceHandlers=function(a){a.registerSourceHandler=function(r,i){var t=a.sourceHandlers;t||(t=a.sourceHandlers=[]),i===void 0&&(i=t.length),t.splice(i,0,r)},a.canPlayType=function(r){for(var i=a.sourceHandlers||[],t,n=0;n<i.length;n++)if(t=i[n].canPlayType(r),t)return t;return""},a.selectSourceHandler=function(r,i){for(var t=a.sourceHandlers||[],n,s=0;s<t.length;s++)if(n=t[s].canHandleSource(r,i),n)return t[s];return null},a.canPlaySource=function(r,i){var t=a.selectSourceHandler(r,i);return t?t.canHandleSource(r,i):""};var e=["seekable","seeking","duration"];e.forEach(function(r){var i=this[r];typeof i=="function"&&(this[r]=function(){return this.sourceHandler_&&this.sourceHandler_[r]?this.sourceHandler_[r].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},a.prototype),a.prototype.setSource=function(r){var i=a.selectSourceHandler(r,this.options_);i||(a.nativeSourceHandler?i=a.nativeSourceHandler:le.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==a.nativeSourceHandler&&(this.currentSource_=r),this.sourceHandler_=i.handleSource(r,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},a.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};j.registerComponent("Tech",ve);ve.registerTech("Tech",ve);ve.defaultTechOrder_=[];var Wr={},Pu={},hs={};function qb(a,e){Wr[a]=Wr[a]||[],Wr[a].push(e)}function Vb(a,e,r){a.setTimeout(function(){return $r(e,Wr[e.type],r,a)},1)}function Hb(a,e){a.forEach(function(r){return r.setTech&&r.setTech(e)})}function jb(a,e,r){return a.reduceRight(Iu(r),e[r]())}function Gb(a,e,r,i){return e[r](a.reduce(Iu(r),i))}function Ih(a,e,r,i){i===void 0&&(i=null);var t="call"+we(r),n=a.reduce(Iu(t),i),s=n===hs,o=s?null:e[r](n);return $b(a,r,o,s),o}var zb={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Wb={setCurrentTime:1,setMuted:1,setVolume:1},Lh={play:1,pause:1};function Iu(a){return function(e,r){return e===hs?hs:r[a]?r[a](e):e}}function $b(a,e,r,i){for(var t=a.length-1;t>=0;t--){var n=a[t];n[e]&&n[e](i,r)}}function Kb(a){Pu[a.id()]=null}function Xb(a,e){var r=Pu[a.id()],i=null;if(r==null)return i=e(a),Pu[a.id()]=[[e,i]],i;for(var t=0;t<r.length;t++){var n=r[t],s=n[0],o=n[1];s===e&&(i=o)}return i===null&&(i=e(a),r.push([e,i])),i}function $r(a,e,r,i,t,n){a===void 0&&(a={}),e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n=!1);var s=e,o=s[0],u=s.slice(1);if(typeof o=="string")$r(a,Wr[o],r,i,t,n);else if(o){var l=Xb(i,o);if(!l.setSource)return t.push(l),$r(a,u,r,i,t,n);l.setSource(Ee({},a),function(c,d){if(c)return $r(a,u,r,i,t,n);t.push(l),$r(d,a.type===d.type?u:Wr[d.type],r,i,t,n)})}else u.length?$r(a,u,r,i,t,n):n?r(a,t):$r(a,Wr["*"],r,i,t,!0)}var Qb={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},ps=function(e){e===void 0&&(e="");var r=ku(e),i=Qb[r.toLowerCase()];return i||""},Yb=function(e,r){if(!r)return"";if(e.cache_.source.src===r&&e.cache_.source.type)return e.cache_.source.type;var i=e.cache_.sources.filter(function(o){return o.src===r});if(i.length)return i[0].type;for(var t=e.$$("source"),n=0;n<t.length;n++){var s=t[n];if(s.type&&s.src&&s.src===r)return s.type}return ps(r)},Jb=function a(e){if(Array.isArray(e)){var r=[];e.forEach(function(i){i=a(i),Array.isArray(i)?r=r.concat(i):rr(i)&&r.push(i)}),e=r}else typeof e=="string"&&e.trim()?e=[Oh({src:e})]:rr(e)&&typeof e.src=="string"&&e.src&&e.src.trim()?e=[Oh(e)]:e=[];return e};function Oh(a){if(!a.type){var e=ps(a.src);e&&(a.type=e)}return a}var Zb=function(a){$(e,a);function e(r,i,t){var n,s=_e({createEl:!1},i);if(n=a.call(this,r,s,t)||this,!i.playerOptions.sources||i.playerOptions.sources.length===0)for(var o=0,u=i.playerOptions.techOrder;o<u.length;o++){var l=we(u[o]),c=ve.getTech(l);if(l||(c=j.getComponent(l)),c&&c.isSupported()){r.loadTech_(l);break}}else r.src(i.playerOptions.sources);return n}return e}(j);j.registerComponent("MediaLoader",Zb);var ms=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.handleMouseOver_=function(s){return n.handleMouseOver(s)},n.handleMouseOut_=function(s){return n.handleMouseOut(s)},n.handleClick_=function(s){return n.handleClick(s)},n.handleKeyDown_=function(s){return n.handleKeyDown(s)},n.emitTapEvents(),n.enable(),n}var r=e.prototype;return r.createEl=function(t,n,s){t===void 0&&(t="div"),n===void 0&&(n={}),s===void 0&&(s={}),n=Ee({className:this.buildCSSClass(),tabIndex:0},n),t==="button"&&le.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),s=Ee({role:"button"},s),this.tabIndex_=n.tabIndex;var o=de(t,n,s);return o.appendChild(de("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},r.dispose=function(){this.controlTextEl_=null,a.prototype.dispose.call(this)},r.createControlTextEl=function(t){return this.controlTextEl_=de("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},r.controlText=function(t,n){if(n===void 0&&(n=this.el()),t===void 0)return this.controlText_||"Need Text";var s=this.localize(t);this.controlText_=t,Hr(this.controlTextEl_,s),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&n.setAttribute("title",s)},r.buildCSSClass=function(){return"vjs-control vjs-button "+a.prototype.buildCSSClass.call(this)},r.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_!="undefined"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},r.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_!="undefined"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},r.handleLanguagechange=function(){this.controlText(this.controlText_)},r.handleClick=function(t){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},r.handleKeyDown=function(t){oe.isEventKey(t,"Space")||oe.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):a.prototype.handleKeyDown.call(this,t)},e}(j);j.registerComponent("ClickableComponent",ms);var ex=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.update(),n.update_=function(s){return n.update(s)},i.on("posterchange",n.update_),n}var r=e.prototype;return r.dispose=function(){this.player().off("posterchange",this.update_),a.prototype.dispose.call(this)},r.createEl=function(){var t=de("div",{className:"vjs-poster",tabIndex:-1});return t},r.update=function(t){var n=this.player().poster();this.setSrc(n),n?this.show():this.hide()},r.setSrc=function(t){var n="";t&&(n='url("'+t+'")'),this.el_.style.backgroundImage=n},r.handleClick=function(t){if(!!this.player_.controls()){var n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((Dn||Cn)&&n)&&this.player_.tech(!0).focus(),this.player_.paused()?Ut(this.player_.play()):this.player_.pause()}},e}(ms);j.registerComponent("PosterImage",ex);var bt="#222",Fh="#ccc",tx={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Lu(a,e){var r;if(a.length===4)r=a[1]+a[1]+a[2]+a[2]+a[3]+a[3];else if(a.length===7)r=a.slice(1);else throw new Error("Invalid color code provided, "+a+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+e+")"}function Ou(a,e,r){try{a.style[e]=r}catch{return}}var rx=function(a){$(e,a);function e(i,t,n){var s;s=a.call(this,i,t,n)||this;var o=function(l){return s.updateDisplay(l)};return i.on("loadstart",function(u){return s.toggleDisplay(u)}),i.on("texttrackchange",o),i.on("loadedmetadata",function(u){return s.preselectTrack(u)}),i.ready(ge(se(s),function(){if(i.tech_&&i.tech_.featuresNativeTextTracks){this.hide();return}i.on("fullscreenchange",o),i.on("playerresize",o),P.addEventListener("orientationchange",o),i.on("dispose",function(){return P.removeEventListener("orientationchange",o)});for(var u=this.options_.playerOptions.tracks||[],l=0;l<u.length;l++)this.player_.addRemoteTextTrack(u[l],!0);this.preselectTrack()})),s}var r=e.prototype;return r.preselectTrack=function(){for(var t={captions:1,subtitles:1},n=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,o,u,l,c=0;c<n.length;c++){var d=n[c];s&&s.enabled&&s.language&&s.language===d.language&&d.kind in t?d.kind===s.kind?l=d:l||(l=d):s&&!s.enabled?(l=null,o=null,u=null):d.default&&(d.kind==="descriptions"&&!o?o=d:d.kind in t&&!u&&(u=d))}l?l.mode="showing":u?u.mode="showing":o&&(o.mode="showing")},r.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},r.clearDisplay=function(){typeof P.WebVTT=="function"&&P.WebVTT.processCues(P,[],this.el_)},r.updateDisplay=function(){var t=this.player_.textTracks(),n=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),n){for(var s=[],o=0;o<t.length;++o){var u=t[o];u.mode==="showing"&&s.push(u)}this.updateForTrack(s);return}for(var l=null,c=null,d=t.length;d--;){var h=t[d];h.mode==="showing"&&(h.kind==="descriptions"?l=h:c=h)}c?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(c)):l&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(l))},r.updateDisplayState=function(t){for(var n=this.player_.textTrackSettings.getValues(),s=t.activeCues,o=s.length;o--;){var u=s[o];if(!!u){var l=u.displayState;if(n.color&&(l.firstChild.style.color=n.color),n.textOpacity&&Ou(l.firstChild,"color",Lu(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(l.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&Ou(l.firstChild,"backgroundColor",Lu(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?Ou(l,"backgroundColor",Lu(n.windowColor,n.windowOpacity)):l.style.backgroundColor=n.windowColor),n.edgeStyle&&(n.edgeStyle==="dropshadow"?l.firstChild.style.textShadow="2px 2px 3px "+bt+", 2px 2px 4px "+bt+", 2px 2px 5px "+bt:n.edgeStyle==="raised"?l.firstChild.style.textShadow="1px 1px "+bt+", 2px 2px "+bt+", 3px 3px "+bt:n.edgeStyle==="depressed"?l.firstChild.style.textShadow="1px 1px "+Fh+", 0 1px "+Fh+", -1px -1px "+bt+", 0 -1px "+bt:n.edgeStyle==="uniform"&&(l.firstChild.style.textShadow="0 0 4px "+bt+", 0 0 4px "+bt+", 0 0 4px "+bt+", 0 0 4px "+bt)),n.fontPercent&&n.fontPercent!==1){var c=P.parseFloat(l.style.fontSize);l.style.fontSize=c*n.fontPercent+"px",l.style.height="auto",l.style.top="auto"}n.fontFamily&&n.fontFamily!=="default"&&(n.fontFamily==="small-caps"?l.firstChild.style.fontVariant="small-caps":l.firstChild.style.fontFamily=tx[n.fontFamily])}}},r.updateForTrack=function(t){if(Array.isArray(t)||(t=[t]),!(typeof P.WebVTT!="function"||t.every(function(v){return!v.activeCues}))){for(var n=[],s=0;s<t.length;++s)for(var o=t[s],u=0;u<o.activeCues.length;++u)n.push(o.activeCues[u]);P.WebVTT.processCues(P,n,this.el_);for(var l=0;l<t.length;++l){for(var c=t[l],d=0;d<c.activeCues.length;++d){var h=c.activeCues[d].displayState;ar(h,"vjs-text-track-cue"),ar(h,"vjs-text-track-cue-"+(c.language?c.language:l)),c.language&&xi(h,"lang",c.language)}this.player_.textTrackSettings&&this.updateDisplayState(c)}}},e}(j);j.registerComponent("TextTrackDisplay",rx);var ix=function(a){$(e,a);function e(){return a.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){var t=this.player_.isAudio(),n=this.localize(t?"Audio Player":"Video Player"),s=de("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[n])}),o=a.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return o.appendChild(s),o},e}(j);j.registerComponent("LoadingSpinner",ix);var Pt=function(a){$(e,a);function e(){return a.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(t,n,s){n===void 0&&(n={}),s===void 0&&(s={}),t="button",n=Ee({className:this.buildCSSClass()},n),s=Ee({type:"button"},s);var o=de(t,n,s);return o.appendChild(de("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},r.addChild=function(t,n){n===void 0&&(n={});var s=this.constructor.name;return le.warn("Adding an actionable (user controllable) child to a Button ("+s+") is not supported; use a ClickableComponent instead."),j.prototype.addChild.call(this,t,n)},r.enable=function(){a.prototype.enable.call(this),this.el_.removeAttribute("disabled")},r.disable=function(){a.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},r.handleKeyDown=function(t){if(oe.isEventKey(t,"Space")||oe.isEventKey(t,"Enter")){t.stopPropagation();return}a.prototype.handleKeyDown.call(this,t)},e}(ms);j.registerComponent("Button",Pt);var Bh=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.mouseused_=!1,n.on("mousedown",function(s){return n.handleMouseDown(s)}),n}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-big-play-button"},r.handleClick=function(t){var n=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){var s=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;Ut(n),this.player_.tech(!0)&&!((Dn||Cn)&&s)&&this.player_.tech(!0).focus();return}var o=this.player_.getChild("controlBar"),u=o&&o.getChild("playToggle");if(!u){this.player_.tech(!0).focus();return}var l=function(){return u.focus()};In(n)?n.then(l,function(){}):this.setTimeout(l,1)},r.handleKeyDown=function(t){this.mouseused_=!1,a.prototype.handleKeyDown.call(this,t)},r.handleMouseDown=function(t){this.mouseused_=!0},e}(Pt);Bh.prototype.controlText_="Play Video";j.registerComponent("BigPlayButton",Bh);var nx=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.controlText(t&&t.controlText||n.localize("Close")),n}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-close-button "+a.prototype.buildCSSClass.call(this)},r.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},r.handleKeyDown=function(t){oe.isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):a.prototype.handleKeyDown.call(this,t)},e}(Pt);j.registerComponent("CloseButton",nx);var Rh=function(a){$(e,a);function e(i,t){var n;return t===void 0&&(t={}),n=a.call(this,i,t)||this,t.replay=t.replay===void 0||t.replay,n.on(i,"play",function(s){return n.handlePlay(s)}),n.on(i,"pause",function(s){return n.handlePause(s)}),t.replay&&n.on(i,"ended",function(s){return n.handleEnded(s)}),n}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-play-control "+a.prototype.buildCSSClass.call(this)},r.handleClick=function(t){this.player_.paused()?Ut(this.player_.play()):this.player_.pause()},r.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},r.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},r.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},r.handleEnded=function(t){var n=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(s){return n.handleSeeked(s)})},e}(Pt);Rh.prototype.controlText_="Play";j.registerComponent("PlayToggle",Rh);var Mh=function(e,r){e=e<0?0:e;var i=Math.floor(e%60),t=Math.floor(e/60%60),n=Math.floor(e/3600),s=Math.floor(r/60%60),o=Math.floor(r/3600);return(isNaN(e)||e===1/0)&&(n=t=i="-"),n=n>0||o>0?n+":":"",t=((n||s>=10)&&t<10?"0"+t:t)+":",i=i<10?"0"+i:i,n+t+i},Fu=Mh;function ax(a){Fu=a}function sx(){Fu=Mh}function Pi(a,e){return e===void 0&&(e=a),Fu(a,e)}var Ii=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.on(i,["timeupdate","ended"],function(s){return n.updateContent(s)}),n.updateTextNode_(),n}var r=e.prototype;return r.createEl=function(){var t=this.buildCSSClass(),n=a.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control"}),s=de("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xA0"},{role:"presentation"});return n.appendChild(s),this.contentEl_=de("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),n.appendChild(this.contentEl_),n},r.dispose=function(){this.contentEl_=null,this.textNode_=null,a.prototype.dispose.call(this)},r.updateTextNode_=function(t){var n=this;t===void 0&&(t=0),t=Pi(t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(!!n.contentEl_){var s=n.textNode_;s&&n.contentEl_.firstChild!==s&&(s=null,le.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),n.textNode_=W.createTextNode(n.formattedTime_),!!n.textNode_&&(s?n.contentEl_.replaceChild(n.textNode_,s):n.contentEl_.appendChild(n.textNode_))}}))},r.updateContent=function(t){},e}(j);Ii.prototype.labelText_="Time";Ii.prototype.controlText_="Time";j.registerComponent("TimeDisplay",Ii);var Bu=function(a){$(e,a);function e(){return a.apply(this,arguments)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-current-time"},r.updateContent=function(t){var n;this.player_.ended()?n=this.player_.duration():n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(n)},e}(Ii);Bu.prototype.labelText_="Current Time";Bu.prototype.controlText_="Current Time";j.registerComponent("CurrentTimeDisplay",Bu);var Ru=function(a){$(e,a);function e(i,t){var n;n=a.call(this,i,t)||this;var s=function(u){return n.updateContent(u)};return n.on(i,"durationchange",s),n.on(i,"loadstart",s),n.on(i,"loadedmetadata",s),n}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-duration"},r.updateContent=function(t){var n=this.player_.duration();this.updateTextNode_(n)},e}(Ii);Ru.prototype.labelText_="Duration";Ru.prototype.controlText_="Duration";j.registerComponent("DurationDisplay",Ru);var ox=function(a){$(e,a);function e(){return a.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){var t=a.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),n=a.prototype.createEl.call(this,"div"),s=a.prototype.createEl.call(this,"span",{textContent:"/"});return n.appendChild(s),t.appendChild(n),t},e}(j);j.registerComponent("TimeDivider",ox);var Mu=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.on(i,"durationchange",function(s){return n.updateContent(s)}),n}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-remaining-time"},r.createEl=function(){var t=a.prototype.createEl.call(this);return t.insertBefore(de("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},r.updateContent=function(t){if(typeof this.player_.duration()=="number"){var n;this.player_.ended()?n=0:this.player_.remainingTimeDisplay?n=this.player_.remainingTimeDisplay():n=this.player_.remainingTime(),this.updateTextNode_(n)}},e}(Ii);Mu.prototype.labelText_="Remaining Time";Mu.prototype.controlText_="Remaining Time";j.registerComponent("RemainingTimeDisplay",Mu);var ux=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.updateShowing(),n.on(n.player(),"durationchange",function(s){return n.updateShowing(s)}),n}var r=e.prototype;return r.createEl=function(){var t=a.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=de("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(de("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xA0"})),this.contentEl_.appendChild(W.createTextNode(this.localize("LIVE"))),t.appendChild(this.contentEl_),t},r.dispose=function(){this.contentEl_=null,a.prototype.dispose.call(this)},r.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(j);j.registerComponent("LiveDisplay",ux);var Nh=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.updateLiveEdgeStatus(),n.player_.liveTracker&&(n.updateLiveEdgeStatusHandler_=function(s){return n.updateLiveEdgeStatus(s)},n.on(n.player_.liveTracker,"liveedgechange",n.updateLiveEdgeStatusHandler_)),n}var r=e.prototype;return r.createEl=function(){var t=a.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=de("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},r.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},r.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},r.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,a.prototype.dispose.call(this)},e}(Pt);Nh.prototype.controlText_="Seek to live, currently playing live";j.registerComponent("SeekToLive",Nh);var gs=function(e,r,i){return e=Number(e),Math.min(i,Math.max(r,isNaN(e)?r:e))},Nu=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.handleMouseDown_=function(s){return n.handleMouseDown(s)},n.handleMouseUp_=function(s){return n.handleMouseUp(s)},n.handleKeyDown_=function(s){return n.handleKeyDown(s)},n.handleClick_=function(s){return n.handleClick(s)},n.handleMouseMove_=function(s){return n.handleMouseMove(s)},n.update_=function(s){return n.update(s)},n.bar=n.getChild(n.options_.barName),n.vertical(!!n.options_.vertical),n.enable(),n}var r=e.prototype;return r.enabled=function(){return this.enabled_},r.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},r.disable=function(){if(!!this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},r.createEl=function(t,n,s){return n===void 0&&(n={}),s===void 0&&(s={}),n.className=n.className+" vjs-slider",n=Ee({tabIndex:0},n),s=Ee({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},s),a.prototype.createEl.call(this,t,n,s)},r.handleMouseDown=function(t){var n=this.bar.el_.ownerDocument;t.type==="mousedown"&&t.preventDefault(),t.type==="touchstart"&&!nr&&t.preventDefault(),rh(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove_),this.on(n,"mouseup",this.handleMouseUp_),this.on(n,"touchmove",this.handleMouseMove_),this.on(n,"touchend",this.handleMouseUp_),this.handleMouseMove(t)},r.handleMouseMove=function(t){},r.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;ih(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.update()},r.update=function(){var t=this;if(!(!this.el_||!this.bar)){var n=this.getProgress();return n===this.progress_||(this.progress_=n,this.requestNamedAnimationFrame("Slider#update",function(){var s=t.vertical()?"height":"width";t.bar.el().style[s]=(n*100).toFixed(2)+"%"})),n}},r.getProgress=function(){return Number(gs(this.getPercent(),0,1).toFixed(4))},r.calculateDistance=function(t){var n=as(this.el_,t);return this.vertical()?n.y:n.x},r.handleKeyDown=function(t){oe.isEventKey(t,"Left")||oe.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):oe.isEventKey(t,"Right")||oe.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):a.prototype.handleKeyDown.call(this,t)},r.handleClick=function(t){t.stopPropagation(),t.preventDefault()},r.vertical=function(t){if(t===void 0)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(j);j.registerComponent("Slider",Nu);var Uu=function(e,r){return gs(e/r*100,0,100).toFixed(2)+"%"},lx=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.partEls_=[],n.on(i,"progress",function(s){return n.update(s)}),n}var r=e.prototype;return r.createEl=function(){var t=a.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),n=de("span",{className:"vjs-control-text"}),s=de("span",{textContent:this.localize("Loaded")}),o=W.createTextNode(": ");return this.percentageEl_=de("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(n),n.appendChild(s),n.appendChild(o),n.appendChild(this.percentageEl_),t},r.dispose=function(){this.partEls_=null,this.percentageEl_=null,a.prototype.dispose.call(this)},r.update=function(t){var n=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var s=n.player_.liveTracker,o=n.player_.buffered(),u=s&&s.isLive()?s.seekableEnd():n.player_.duration(),l=n.player_.bufferedEnd(),c=n.partEls_,d=Uu(l,u);n.percent_!==d&&(n.el_.style.width=d,Hr(n.percentageEl_,d),n.percent_=d);for(var h=0;h<o.length;h++){var v=o.start(h),T=o.end(h),x=c[h];x||(x=n.el_.appendChild(de()),c[h]=x),!(x.dataset.start===v&&x.dataset.end===T)&&(x.dataset.start=v,x.dataset.end=T,x.style.left=Uu(v,l),x.style.width=Uu(T-v,l))}for(var y=c.length;y>o.length;y--)n.el_.removeChild(c[y-1]);c.length=o.length})},e}(j);j.registerComponent("LoadProgressBar",lx);var cx=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.update=or(ge(se(n),n.update),kt),n}var r=e.prototype;return r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},r.update=function(t,n,s){var o=wn(this.el_),u=Si(this.player_.el()),l=t.width*n;if(!(!u||!o)){var c=t.left-u.left+l,d=t.width-l+(u.right-t.right),h=o.width/2;c<h?h+=h-c:d<h&&(h=d),h<0?h=0:h>o.width&&(h=o.width),h=Math.round(h),this.el_.style.right="-"+h+"px",this.write(s)}},r.write=function(t){Hr(this.el_,t)},r.updateTime=function(t,n,s,o){var u=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var l,c=u.player_.duration();if(u.player_.liveTracker&&u.player_.liveTracker.isLive()){var d=u.player_.liveTracker.liveWindow(),h=d-n*d;l=(h<1?"":"-")+Pi(h,d)}else l=Pi(s,c);u.update(t,n,l),o&&o()})},e}(j);j.registerComponent("TimeTooltip",cx);var qu=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.update=or(ge(se(n),n.update),kt),n}var r=e.prototype;return r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},r.update=function(t,n){var s=this.getChild("timeTooltip");if(!!s){var o=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();s.updateTime(t,n,o)}},e}(j);qu.prototype.options_={children:[]};!ot&&!ir&&qu.prototype.options_.children.push("timeTooltip");j.registerComponent("PlayProgressBar",qu);var Uh=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.update=or(ge(se(n),n.update),kt),n}var r=e.prototype;return r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(t,n){var s=this,o=n*this.player_.duration();this.getChild("timeTooltip").updateTime(t,n,o,function(){s.el_.style.left=t.width*n+"px"})},e}(j);Uh.prototype.options_={children:["timeTooltip"]};j.registerComponent("MouseTimeDisplay",Uh);var vs=5,qh=12,Vu=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.setEventHandlers_(),n}var r=e.prototype;return r.setEventHandlers_=function(){var t=this;this.update_=ge(this,this.update),this.update=or(this.update_,kt),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(n){return t.enableInterval_(n)},this.disableIntervalHandler_=function(n){return t.disableInterval_(n)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in W&&"visibilityState"in W&&this.on(W,"visibilitychange",this.toggleVisibility_)},r.toggleVisibility_=function(t){W.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(t)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},r.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,kt))},r.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&t&&t.type!=="ended"||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},r.update=function(t){var n=this;if(W.visibilityState!=="hidden"){var s=a.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var o=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),u=n.player_.liveTracker,l=n.player_.duration();u&&u.isLive()&&(l=n.player_.liveTracker.liveCurrentTime()),n.percent_!==s&&(n.el_.setAttribute("aria-valuenow",(s*100).toFixed(2)),n.percent_=s),(n.currentTime_!==o||n.duration_!==l)&&(n.el_.setAttribute("aria-valuetext",n.localize("progress bar timing: currentTime={1} duration={2}",[Pi(o,l),Pi(l,l)],"{1} of {2}")),n.currentTime_=o,n.duration_=l),n.bar&&n.bar.update(Si(n.el()),n.getProgress())}),s}},r.userSeek_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(t)},r.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},r.getPercent=function(){var t=this.getCurrentTime_(),n,s=this.player_.liveTracker;return s&&s.isLive()?(n=(t-s.seekableStart())/s.liveWindow(),s.atLiveEdge()&&(n=1)):n=t/this.player_.duration(),n},r.handleMouseDown=function(t){!kn(t)||(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),a.prototype.handleMouseDown.call(this,t))},r.handleMouseMove=function(t){if(!!kn(t)){var n,s=this.calculateDistance(t),o=this.player_.liveTracker;if(!o||!o.isLive())n=s*this.player_.duration(),n===this.player_.duration()&&(n=n-.1);else{if(s>=.99){o.seekToLiveEdge();return}var u=o.seekableStart(),l=o.liveCurrentTime();if(n=u+s*o.liveWindow(),n>=l&&(n=l),n<=u&&(n=u+.1),n===1/0)return}this.userSeek_(n)}},r.enable=function(){a.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");!t||t.show()},r.disable=function(){a.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");!t||t.hide()},r.handleMouseUp=function(t){a.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Ut(this.player_.play()):this.update_()},r.stepForward=function(){this.userSeek_(this.player_.currentTime()+vs)},r.stepBack=function(){this.userSeek_(this.player_.currentTime()-vs)},r.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},r.handleKeyDown=function(t){var n=this.player_.liveTracker;if(oe.isEventKey(t,"Space")||oe.isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(oe.isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.userSeek_(0);else if(oe.isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(oe(t))){t.preventDefault(),t.stopPropagation();var s=(oe.codes[oe(t)]-oe.codes["0"])*10/100;n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*s):this.userSeek_(this.player_.duration()*s)}else oe.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()-vs*qh)):oe.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()+vs*qh)):a.prototype.handleKeyDown.call(this,t)},r.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in W&&"visibilityState"in W&&this.off(W,"visibilitychange",this.toggleVisibility_),a.prototype.dispose.call(this)},e}(Nu);Vu.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!ot&&!ir&&Vu.prototype.options_.children.splice(1,0,"mouseTimeDisplay");j.registerComponent("SeekBar",Vu);var Vh=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.handleMouseMove=or(ge(se(n),n.handleMouseMove),kt),n.throttledHandleMouseSeek=or(ge(se(n),n.handleMouseSeek),kt),n.handleMouseUpHandler_=function(s){return n.handleMouseUp(s)},n.handleMouseDownHandler_=function(s){return n.handleMouseDown(s)},n.enable(),n}var r=e.prototype;return r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},r.handleMouseMove=function(t){var n=this.getChild("seekBar");if(!!n){var s=n.getChild("playProgressBar"),o=n.getChild("mouseTimeDisplay");if(!(!s&&!o)){var u=n.el(),l=wn(u),c=as(u,t).x;c=gs(c,0,1),o&&o.update(l,c),s&&s.update(l,n.getProgress())}}},r.handleMouseSeek=function(t){var n=this.getChild("seekBar");n&&n.handleMouseMove(t)},r.enabled=function(){return this.enabled_},r.disable=function(){if(this.children().forEach(function(n){return n.disable&&n.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var t=this.getChild("seekBar");this.player_.scrubbing(!1),t.videoWasPlaying&&Ut(this.player_.play())}},r.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},r.removeListenersAddedOnMousedownAndTouchstart=function(){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},r.handleMouseDown=function(t){var n=this.el_.ownerDocument,s=this.getChild("seekBar");s&&s.handleMouseDown(t),this.on(n,"mousemove",this.throttledHandleMouseSeek),this.on(n,"touchmove",this.throttledHandleMouseSeek),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)},r.handleMouseUp=function(t){var n=this.getChild("seekBar");n&&n.handleMouseUp(t),this.removeListenersAddedOnMousedownAndTouchstart()},e}(j);Vh.prototype.options_={children:["seekBar"]};j.registerComponent("ProgressControl",Vh);var Hh=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.on(i,["enterpictureinpicture","leavepictureinpicture"],function(s){return n.handlePictureInPictureChange(s)}),n.on(i,["disablepictureinpicturechanged","loadedmetadata"],function(s){return n.handlePictureInPictureEnabledChange(s)}),n.disable(),n}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-picture-in-picture-control "+a.prototype.buildCSSClass.call(this)},r.handlePictureInPictureEnabledChange=function(){W.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},r.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},r.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(Pt);Hh.prototype.controlText_="Picture-in-Picture";j.registerComponent("PictureInPictureToggle",Hh);var jh=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.on(i,"fullscreenchange",function(s){return n.handleFullscreenChange(s)}),W[i.fsApi_.fullscreenEnabled]===!1&&n.disable(),n}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-fullscreen-control "+a.prototype.buildCSSClass.call(this)},r.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},r.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(Pt);jh.prototype.controlText_="Fullscreen";j.registerComponent("FullscreenToggle",jh);var dx=function(e,r){r.tech_&&!r.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(r,"loadstart",function(){r.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},fx=function(a){$(e,a);function e(){return a.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){var t=a.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return t.appendChild(a.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),t},e}(j);j.registerComponent("VolumeLevel",fx);var hx=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.update=or(ge(se(n),n.update),kt),n}var r=e.prototype;return r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},r.update=function(t,n,s,o){if(!s){var u=Si(this.el_),l=Si(this.player_.el()),c=t.width*n;if(!l||!u)return;var d=t.left-l.left+c,h=t.width-c+(l.right-t.right),v=u.width/2;d<v?v+=v-d:h<v&&(v=h),v<0?v=0:v>u.width&&(v=u.width),this.el_.style.right="-"+v+"px"}this.write(o+"%")},r.write=function(t){Hr(this.el_,t)},r.updateVolume=function(t,n,s,o,u){var l=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){l.update(t,n,s,o.toFixed(0)),u&&u()})},e}(j);j.registerComponent("VolumeLevelTooltip",hx);var Gh=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.update=or(ge(se(n),n.update),kt),n}var r=e.prototype;return r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(t,n,s){var o=this,u=100*n;this.getChild("volumeLevelTooltip").updateVolume(t,n,s,u,function(){s?o.el_.style.bottom=t.height*n+"px":o.el_.style.left=t.width*n+"px"})},e}(j);Gh.prototype.options_={children:["volumeLevelTooltip"]};j.registerComponent("MouseVolumeLevelDisplay",Gh);var ys=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.on("slideractive",function(s){return n.updateLastVolume_(s)}),n.on(i,"volumechange",function(s){return n.updateARIAAttributes(s)}),i.ready(function(){return n.updateARIAAttributes()}),n}var r=e.prototype;return r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},r.handleMouseDown=function(t){!kn(t)||a.prototype.handleMouseDown.call(this,t)},r.handleMouseMove=function(t){var n=this.getChild("mouseVolumeLevelDisplay");if(n){var s=this.el(),o=Si(s),u=this.vertical(),l=as(s,t);l=u?l.y:l.x,l=gs(l,0,1),n.update(o,l,u)}!kn(t)||(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},r.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},r.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},r.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},r.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},r.updateARIAAttributes=function(t){var n=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",n),this.el_.setAttribute("aria-valuetext",n+"%")},r.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},r.updateLastVolume_=function(){var t=this,n=this.player_.volume();this.one("sliderinactive",function(){t.player_.volume()===0&&t.player_.lastVolume_(n)})},e}(Nu);ys.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!ot&&!ir&&ys.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");ys.prototype.playerEvent="volumechange";j.registerComponent("VolumeBar",ys);var zh=function(a){$(e,a);function e(i,t){var n;return t===void 0&&(t={}),t.vertical=t.vertical||!1,(typeof t.volumeBar=="undefined"||Sn(t.volumeBar))&&(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),n=a.call(this,i,t)||this,dx(se(n),i),n.throttledHandleMouseMove=or(ge(se(n),n.handleMouseMove),kt),n.handleMouseUpHandler_=function(s){return n.handleMouseUp(s)},n.on("mousedown",function(s){return n.handleMouseDown(s)}),n.on("touchstart",function(s){return n.handleMouseDown(s)}),n.on("mousemove",function(s){return n.handleMouseMove(s)}),n.on(n.volumeBar,["focus","slideractive"],function(){n.volumeBar.addClass("vjs-slider-active"),n.addClass("vjs-slider-active"),n.trigger("slideractive")}),n.on(n.volumeBar,["blur","sliderinactive"],function(){n.volumeBar.removeClass("vjs-slider-active"),n.removeClass("vjs-slider-active"),n.trigger("sliderinactive")}),n}var r=e.prototype;return r.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),a.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},r.handleMouseDown=function(t){var n=this.el_.ownerDocument;this.on(n,"mousemove",this.throttledHandleMouseMove),this.on(n,"touchmove",this.throttledHandleMouseMove),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)},r.handleMouseUp=function(t){var n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseMove),this.off(n,"touchmove",this.throttledHandleMouseMove),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)},r.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(j);zh.prototype.options_={children:["volumeBar"]};j.registerComponent("VolumeControl",zh);var px=function(e,r){r.tech_&&!r.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(r,"loadstart",function(){r.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},Wh=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,px(se(n),i),n.on(i,["loadstart","volumechange"],function(s){return n.update(s)}),n}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-mute-control "+a.prototype.buildCSSClass.call(this)},r.handleClick=function(t){var n=this.player_.volume(),s=this.player_.lastVolume_();if(n===0){var o=s<.1?.1:s;this.player_.volume(o),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},r.update=function(t){this.updateIcon_(),this.updateControlText_()},r.updateIcon_=function(){var t=this.player_.volume(),n=3;ot&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),t===0||this.player_.muted()?n=0:t<.33?n=1:t<.67&&(n=2);for(var s=0;s<4;s++)An(this.el_,"vjs-vol-"+s);ar(this.el_,"vjs-vol-"+n)},r.updateControlText_=function(){var t=this.player_.muted()||this.player_.volume()===0,n=t?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n)},e}(Pt);Wh.prototype.controlText_="Mute";j.registerComponent("MuteToggle",Wh);var $h=function(a){$(e,a);function e(i,t){var n;return t===void 0&&(t={}),typeof t.inline!="undefined"?t.inline=t.inline:t.inline=!0,(typeof t.volumeControl=="undefined"||Sn(t.volumeControl))&&(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),n=a.call(this,i,t)||this,n.handleKeyPressHandler_=function(s){return n.handleKeyPress(s)},n.on(i,["loadstart"],function(s){return n.volumePanelState_(s)}),n.on(n.muteToggle,"keyup",function(s){return n.handleKeyPress(s)}),n.on(n.volumeControl,"keyup",function(s){return n.handleVolumeControlKeyUp(s)}),n.on("keydown",function(s){return n.handleKeyPress(s)}),n.on("mouseover",function(s){return n.handleMouseOver(s)}),n.on("mouseout",function(s){return n.handleMouseOut(s)}),n.on(n.volumeControl,["slideractive"],n.sliderActive_),n.on(n.volumeControl,["sliderinactive"],n.sliderInactive_),n}var r=e.prototype;return r.sliderActive_=function(){this.addClass("vjs-slider-active")},r.sliderInactive_=function(){this.removeClass("vjs-slider-active")},r.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},r.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),a.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},r.dispose=function(){this.handleMouseOut(),a.prototype.dispose.call(this)},r.handleVolumeControlKeyUp=function(t){oe.isEventKey(t,"Esc")&&this.muteToggle.focus()},r.handleMouseOver=function(t){this.addClass("vjs-hover"),pt(W,"keyup",this.handleKeyPressHandler_)},r.handleMouseOut=function(t){this.removeClass("vjs-hover"),$e(W,"keyup",this.handleKeyPressHandler_)},r.handleKeyPress=function(t){oe.isEventKey(t,"Esc")&&this.handleMouseOut()},e}(j);$h.prototype.options_={children:["muteToggle","volumeControl"]};j.registerComponent("VolumePanel",$h);var Kh=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,t&&(n.menuButton_=t.menuButton),n.focusedChild_=-1,n.on("keydown",function(s){return n.handleKeyDown(s)}),n.boundHandleBlur_=function(s){return n.handleBlur(s)},n.boundHandleTapClick_=function(s){return n.handleTapClick(s)},n}var r=e.prototype;return r.addEventListenerForItem=function(t){t instanceof j&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},r.removeEventListenerForItem=function(t){t instanceof j&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},r.removeChild=function(t){typeof t=="string"&&(t=this.getChild(t)),this.removeEventListenerForItem(t),a.prototype.removeChild.call(this,t)},r.addItem=function(t){var n=this.addChild(t);n&&this.addEventListenerForItem(n)},r.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=de(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=a.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),pt(n,"click",function(s){s.preventDefault(),s.stopImmediatePropagation()}),n},r.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,a.prototype.dispose.call(this)},r.handleBlur=function(t){var n=t.relatedTarget||W.activeElement;if(!this.children().some(function(o){return o.el()===n})){var s=this.menuButton_;s&&s.buttonPressed_&&n!==s.el().firstChild&&s.unpressButton()}},r.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var n=this.children();if(!Array.isArray(n))return;var s=n.filter(function(o){return o.el()===t.target})[0];if(!s)return;s.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},r.handleKeyDown=function(t){oe.isEventKey(t,"Left")||oe.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(oe.isEventKey(t,"Right")||oe.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},r.stepForward=function(){var t=0;this.focusedChild_!==void 0&&(t=this.focusedChild_+1),this.focus(t)},r.stepBack=function(){var t=0;this.focusedChild_!==void 0&&(t=this.focusedChild_-1),this.focus(t)},r.focus=function(t){t===void 0&&(t=0);var n=this.children().slice(),s=n.length&&n[0].hasClass("vjs-menu-title");s&&n.shift(),n.length>0&&(t<0?t=0:t>=n.length&&(t=n.length-1),this.focusedChild_=t,n[t].el_.focus())},e}(j);j.registerComponent("Menu",Kh);var Hu=function(a){$(e,a);function e(i,t){var n;t===void 0&&(t={}),n=a.call(this,i,t)||this,n.menuButton_=new Pt(i,t),n.menuButton_.controlText(n.controlText_),n.menuButton_.el_.setAttribute("aria-haspopup","true");var s=Pt.prototype.buildCSSClass();n.menuButton_.el_.className=n.buildCSSClass()+" "+s,n.menuButton_.removeClass("vjs-control"),n.addChild(n.menuButton_),n.update(),n.enabled_=!0;var o=function(l){return n.handleClick(l)};return n.handleMenuKeyUp_=function(u){return n.handleMenuKeyUp(u)},n.on(n.menuButton_,"tap",o),n.on(n.menuButton_,"click",o),n.on(n.menuButton_,"keydown",function(u){return n.handleKeyDown(u)}),n.on(n.menuButton_,"mouseenter",function(){n.addClass("vjs-hover"),n.menu.show(),pt(W,"keyup",n.handleMenuKeyUp_)}),n.on("mouseleave",function(u){return n.handleMouseLeave(u)}),n.on("keydown",function(u){return n.handleSubmenuKeyDown(u)}),n}var r=e.prototype;return r.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},r.createMenu=function(){var t=new Kh(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var n=de("li",{className:"vjs-menu-title",textContent:we(this.options_.title),tabIndex:-1}),s=new j(this.player_,{el:n});t.addItem(s)}if(this.items=this.createItems(),this.items)for(var o=0;o<this.items.length;o++)t.addItem(this.items[o]);return t},r.createItems=function(){},r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},r.buildWrapperCSSClass=function(){var t="vjs-menu-button";this.options_.inline===!0?t+="-inline":t+="-popup";var n=Pt.prototype.buildCSSClass();return"vjs-menu-button "+t+" "+n+" "+a.prototype.buildCSSClass.call(this)},r.buildCSSClass=function(){var t="vjs-menu-button";return this.options_.inline===!0?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+a.prototype.buildCSSClass.call(this)},r.controlText=function(t,n){return n===void 0&&(n=this.menuButton_.el()),this.menuButton_.controlText(t,n)},r.dispose=function(){this.handleMouseLeave(),a.prototype.dispose.call(this)},r.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},r.handleMouseLeave=function(t){this.removeClass("vjs-hover"),$e(W,"keyup",this.handleMenuKeyUp_)},r.focus=function(){this.menuButton_.focus()},r.blur=function(){this.menuButton_.blur()},r.handleKeyDown=function(t){oe.isEventKey(t,"Esc")||oe.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),oe.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(oe.isEventKey(t,"Up")||oe.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},r.handleMenuKeyUp=function(t){(oe.isEventKey(t,"Esc")||oe.isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")},r.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},r.handleSubmenuKeyDown=function(t){(oe.isEventKey(t,"Esc")||oe.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),oe.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},r.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),ot&&Yf())return;this.menu.focus()}},r.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},r.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},r.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(j);j.registerComponent("MenuButton",Hu);var ju=function(a){$(e,a);function e(r,i){var t,n=i.tracks;if(t=a.call(this,r,i)||this,t.items.length<=1&&t.hide(),!n)return se(t);var s=ge(se(t),t.update);return n.addEventListener("removetrack",s),n.addEventListener("addtrack",s),n.addEventListener("labelchange",s),t.player_.on("ready",s),t.player_.on("dispose",function(){n.removeEventListener("removetrack",s),n.removeEventListener("addtrack",s),n.removeEventListener("labelchange",s)}),t}return e}(Hu);j.registerComponent("TrackButton",ju);var mx=["Tab","Esc","Up","Down","Right","Left"],On=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.selectable=t.selectable,n.isSelected_=t.selected||!1,n.multiSelectable=t.multiSelectable,n.selected(n.isSelected_),n.selectable?n.multiSelectable?n.el_.setAttribute("role","menuitemcheckbox"):n.el_.setAttribute("role","menuitemradio"):n.el_.setAttribute("role","menuitem"),n}var r=e.prototype;return r.createEl=function(t,n,s){this.nonIconControl=!0;var o=a.prototype.createEl.call(this,"li",Ee({className:"vjs-menu-item",tabIndex:-1},n),s);return o.replaceChild(de("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),o.querySelector(".vjs-icon-placeholder")),o},r.handleKeyDown=function(t){mx.some(function(n){return oe.isEventKey(t,n)})||a.prototype.handleKeyDown.call(this,t)},r.handleClick=function(t){this.selected(!0)},r.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(ms);j.registerComponent("MenuItem",On);var Fn=function(a){$(e,a);function e(i,t){var n,s=t.track,o=i.textTracks();t.label=s.label||s.language||"Unknown",t.selected=s.mode==="showing",n=a.call(this,i,t)||this,n.track=s,n.kinds=(t.kinds||[t.kind||n.track.kind]).filter(Boolean);var u=function(){for(var h=arguments.length,v=new Array(h),T=0;T<h;T++)v[T]=arguments[T];n.handleTracksChange.apply(se(n),v)},l=function(){for(var h=arguments.length,v=new Array(h),T=0;T<h;T++)v[T]=arguments[T];n.handleSelectedLanguageChange.apply(se(n),v)};if(i.on(["loadstart","texttrackchange"],u),o.addEventListener("change",u),o.addEventListener("selectedlanguagechange",l),n.on("dispose",function(){i.off(["loadstart","texttrackchange"],u),o.removeEventListener("change",u),o.removeEventListener("selectedlanguagechange",l)}),o.onchange===void 0){var c;n.on(["tap","click"],function(){if(typeof P.Event!="object")try{c=new P.Event("change")}catch{}c||(c=W.createEvent("Event"),c.initEvent("change",!0,!0)),o.dispatchEvent(c)})}return n.handleTracksChange(),n}var r=e.prototype;return r.handleClick=function(t){var n=this.track,s=this.player_.textTracks();if(a.prototype.handleClick.call(this,t),!!s)for(var o=0;o<s.length;o++){var u=s[o];this.kinds.indexOf(u.kind)!==-1&&(u===n?u.mode!=="showing"&&(u.mode="showing"):u.mode!=="disabled"&&(u.mode="disabled"))}},r.handleTracksChange=function(t){var n=this.track.mode==="showing";n!==this.isSelected_&&this.selected(n)},r.handleSelectedLanguageChange=function(t){if(this.track.mode==="showing"){var n=this.player_.cache_.selectedLanguage;if(n&&n.enabled&&n.language===this.track.language&&n.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},r.dispose=function(){this.track=null,a.prototype.dispose.call(this)},e}(On);j.registerComponent("TextTrackMenuItem",Fn);var Xh=function(a){$(e,a);function e(i,t){return t.track={player:i,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,a.call(this,i,t)||this}var r=e.prototype;return r.handleTracksChange=function(t){for(var n=this.player().textTracks(),s=!0,o=0,u=n.length;o<u;o++){var l=n[o];if(this.options_.kinds.indexOf(l.kind)>-1&&l.mode==="showing"){s=!1;break}}s!==this.isSelected_&&this.selected(s)},r.handleSelectedLanguageChange=function(t){for(var n=this.player().textTracks(),s=!0,o=0,u=n.length;o<u;o++){var l=n[o];if(["captions","descriptions","subtitles"].indexOf(l.kind)>-1&&l.mode==="showing"){s=!1;break}}s&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Fn);j.registerComponent("OffTextTrackMenuItem",Xh);var Li=function(a){$(e,a);function e(i,t){return t===void 0&&(t={}),t.tracks=i.textTracks(),a.call(this,i,t)||this}var r=e.prototype;return r.createItems=function(t,n){t===void 0&&(t=[]),n===void 0&&(n=Fn);var s;this.label_&&(s=this.label_+" off"),t.push(new Xh(this.player_,{kinds:this.kinds_,kind:this.kind_,label:s})),this.hideThreshold_+=1;var o=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var u=0;u<o.length;u++){var l=o[u];if(this.kinds_.indexOf(l.kind)>-1){var c=new n(this.player_,{track:l,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});c.addClass("vjs-"+l.kind+"-menu-item"),t.push(c)}}return t},e}(ju);j.registerComponent("TextTrackButton",Li);var Qh=function(a){$(e,a);function e(i,t){var n,s=t.track,o=t.cue,u=i.currentTime();return t.selectable=!0,t.multiSelectable=!1,t.label=o.text,t.selected=o.startTime<=u&&u<o.endTime,n=a.call(this,i,t)||this,n.track=s,n.cue=o,s.addEventListener("cuechange",ge(se(n),n.update)),n}var r=e.prototype;return r.handleClick=function(t){a.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},r.update=function(t){var n=this.cue,s=this.player_.currentTime();this.selected(n.startTime<=s&&s<n.endTime)},e}(On);j.registerComponent("ChaptersTrackMenuItem",Qh);var Gu=function(a){$(e,a);function e(i,t,n){return a.call(this,i,t,n)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-chapters-button "+a.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-chapters-button "+a.prototype.buildWrapperCSSClass.call(this)},r.update=function(t){(!this.track_||t&&(t.type==="addtrack"||t.type==="removetrack"))&&this.setTrack(this.findChaptersTrack()),a.prototype.update.call(this)},r.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var s=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);s&&s.addEventListener("load",this.updateHandler_)}}},r.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],n=t.length-1;n>=0;n--){var s=t[n];if(s.kind===this.kind_)return s}},r.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(we(this.kind_))},r.createMenu=function(){return this.options_.title=this.getMenuCaption(),a.prototype.createMenu.call(this)},r.createItems=function(){var t=[];if(!this.track_)return t;var n=this.track_.cues;if(!n)return t;for(var s=0,o=n.length;s<o;s++){var u=n[s],l=new Qh(this.player_,{track:this.track_,cue:u});t.push(l)}return t},e}(Li);Gu.prototype.kind_="chapters";Gu.prototype.controlText_="Chapters";j.registerComponent("ChaptersButton",Gu);var zu=function(a){$(e,a);function e(i,t,n){var s;s=a.call(this,i,t,n)||this;var o=i.textTracks(),u=ge(se(s),s.handleTracksChange);return o.addEventListener("change",u),s.on("dispose",function(){o.removeEventListener("change",u)}),s}var r=e.prototype;return r.handleTracksChange=function(t){for(var n=this.player().textTracks(),s=!1,o=0,u=n.length;o<u;o++){var l=n[o];if(l.kind!==this.kind_&&l.mode==="showing"){s=!0;break}}s?this.disable():this.enable()},r.buildCSSClass=function(){return"vjs-descriptions-button "+a.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+a.prototype.buildWrapperCSSClass.call(this)},e}(Li);zu.prototype.kind_="descriptions";zu.prototype.controlText_="Descriptions";j.registerComponent("DescriptionsButton",zu);var Wu=function(a){$(e,a);function e(i,t,n){return a.call(this,i,t,n)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-subtitles-button "+a.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+a.prototype.buildWrapperCSSClass.call(this)},e}(Li);Wu.prototype.kind_="subtitles";Wu.prototype.controlText_="Subtitles";j.registerComponent("SubtitlesButton",Wu);var $u=function(a){$(e,a);function e(i,t){var n;return t.track={player:i,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",n=a.call(this,i,t)||this,n.addClass("vjs-texttrack-settings"),n.controlText(", opens "+t.kind+" settings dialog"),n}var r=e.prototype;return r.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(Fn);j.registerComponent("CaptionSettingsMenuItem",$u);var Ku=function(a){$(e,a);function e(i,t,n){return a.call(this,i,t,n)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-captions-button "+a.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-captions-button "+a.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var t=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(t.push(new $u(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),a.prototype.createItems.call(this,t)},e}(Li);Ku.prototype.kind_="captions";Ku.prototype.controlText_="Captions";j.registerComponent("CaptionsButton",Ku);var Yh=function(a){$(e,a);function e(){return a.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(t,n,s){var o=a.prototype.createEl.call(this,t,n,s),u=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(u.appendChild(de("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),u.appendChild(de("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),o},e}(Fn);j.registerComponent("SubsCapsMenuItem",Yh);var Xu=function(a){$(e,a);function e(i,t){var n;return t===void 0&&(t={}),n=a.call(this,i,t)||this,n.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(n.player_.language_)>-1&&(n.label_="captions"),n.menuButton_.controlText(we(n.label_)),n}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-subs-caps-button "+a.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+a.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var t=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(t.push(new $u(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=a.prototype.createItems.call(this,t,Yh),t},e}(Li);Xu.prototype.kinds_=["captions","subtitles"];Xu.prototype.controlText_="Subtitles";j.registerComponent("SubsCapsButton",Xu);var Jh=function(a){$(e,a);function e(i,t){var n,s=t.track,o=i.audioTracks();t.label=s.label||s.language||"Unknown",t.selected=s.enabled,n=a.call(this,i,t)||this,n.track=s,n.addClass("vjs-"+s.kind+"-menu-item");var u=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];n.handleTracksChange.apply(se(n),d)};return o.addEventListener("change",u),n.on("dispose",function(){o.removeEventListener("change",u)}),n}var r=e.prototype;return r.createEl=function(t,n,s){var o=a.prototype.createEl.call(this,t,n,s),u=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(u.appendChild(a.prototype.createEl.call(this,"span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),u.appendChild(a.prototype.createEl.call(this,"span",{className:"vjs-control-text",textContent:this.localize("Descriptions")}))),o},r.handleClick=function(t){a.prototype.handleClick.call(this,t),this.track.enabled=!0},r.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(On);j.registerComponent("AudioTrackMenuItem",Jh);var Zh=function(a){$(e,a);function e(i,t){return t===void 0&&(t={}),t.tracks=i.audioTracks(),a.call(this,i,t)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-audio-button "+a.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-audio-button "+a.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(t){t===void 0&&(t=[]),this.hideThreshold_=1;for(var n=this.player_.audioTracks(),s=0;s<n.length;s++){var o=n[s];t.push(new Jh(this.player_,{track:o,selectable:!0,multiSelectable:!1}))}return t},e}(ju);Zh.prototype.controlText_="Audio Track";j.registerComponent("AudioTrackButton",Zh);var Qu=function(a){$(e,a);function e(i,t){var n,s=t.rate,o=parseFloat(s,10);return t.label=s,t.selected=o===i.playbackRate(),t.selectable=!0,t.multiSelectable=!1,n=a.call(this,i,t)||this,n.label=s,n.rate=o,n.on(i,"ratechange",function(u){return n.update(u)}),n}var r=e.prototype;return r.handleClick=function(t){a.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},r.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(On);Qu.prototype.contentElType="button";j.registerComponent("PlaybackRateMenuItem",Qu);var ep=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.menuButton_.el_.setAttribute("aria-describedby",n.labelElId_),n.updateVisibility(),n.updateLabel(),n.on(i,"loadstart",function(s){return n.updateVisibility(s)}),n.on(i,"ratechange",function(s){return n.updateLabel(s)}),n.on(i,"playbackrateschange",function(s){return n.handlePlaybackRateschange(s)}),n}var r=e.prototype;return r.createEl=function(){var t=a.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=de("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),t.appendChild(this.labelEl_),t},r.dispose=function(){this.labelEl_=null,a.prototype.dispose.call(this)},r.buildCSSClass=function(){return"vjs-playback-rate "+a.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-playback-rate "+a.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){for(var t=this.playbackRates(),n=[],s=t.length-1;s>=0;s--)n.push(new Qu(this.player(),{rate:t[s]+"x"}));return n},r.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},r.handleClick=function(t){for(var n=this.player().playbackRate(),s=this.playbackRates(),o=s[0],u=0;u<s.length;u++)if(s[u]>n){o=s[u];break}this.player().playbackRate(o)},r.handlePlaybackRateschange=function(t){this.update()},r.playbackRates=function(){var t=this.player();return t.playbackRates&&t.playbackRates()||[]},r.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},r.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},r.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},e}(Hu);ep.prototype.controlText_="Playback Rate";j.registerComponent("PlaybackRateMenuButton",ep);var tp=function(a){$(e,a);function e(){return a.apply(this,arguments)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-spacer "+a.prototype.buildCSSClass.call(this)},r.createEl=function(t,n,s){return t===void 0&&(t="div"),n===void 0&&(n={}),s===void 0&&(s={}),n.className||(n.className=this.buildCSSClass()),a.prototype.createEl.call(this,t,n,s)},e}(j);j.registerComponent("Spacer",tp);var gx=function(a){$(e,a);function e(){return a.apply(this,arguments)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-custom-control-spacer "+a.prototype.buildCSSClass.call(this)},r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xA0"})},e}(tp);j.registerComponent("CustomControlSpacer",gx);var _s=function(a){$(e,a);function e(){return a.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(j);_s.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in W&&_s.prototype.options_.children.splice(_s.prototype.options_.children.length-1,0,"pictureInPictureToggle");j.registerComponent("ControlBar",_s);var rp=function(a){$(e,a);function e(i,t){var n;return n=a.call(this,i,t)||this,n.on(i,"error",function(s){return n.open(s)}),n}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-error-display "+a.prototype.buildCSSClass.call(this)},r.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(Di);rp.prototype.options_=_t({},Di.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});j.registerComponent("ErrorDisplay",rp);var Yu="vjs-text-track-settings",ip=["#000","Black"],np=["#00F","Blue"],ap=["#0FF","Cyan"],sp=["#0F0","Green"],op=["#F0F","Magenta"],up=["#F00","Red"],lp=["#FFF","White"],cp=["#FF0","Yellow"],Ju=["1","Opaque"],Zu=["0.5","Semi-Transparent"],dp=["0","Transparent"],Kr={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[ip,lp,up,sp,np,cp,op,ap]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Ju,Zu,dp]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[lp,ip,up,sp,np,cp,op,ap]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return e==="1.00"?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Ju,Zu]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[dp,Zu,Ju]}};Kr.windowColor.options=Kr.backgroundColor.options;function fp(a,e){if(e&&(a=e(a)),a&&a!=="none")return a}function vx(a,e){var r=a.options[a.options.selectedIndex].value;return fp(r,e)}function yx(a,e,r){if(!!e){for(var i=0;i<a.options.length;i++)if(fp(a.options[i].value,r)===e){a.selectedIndex=i;break}}}var _x=function(a){$(e,a);function e(i,t){var n;return t.temporary=!1,n=a.call(this,i,t)||this,n.updateDisplay=n.updateDisplay.bind(se(n)),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=de("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),t.persistTextTrackSettings===void 0&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",function(){n.saveSettings(),n.close()}),n.on(n.$(".vjs-default-button"),"click",function(){n.setDefaults(),n.updateDisplay()}),yi(Kr,function(s){n.on(n.$(s.selector),"change",n.updateDisplay)}),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}var r=e.prototype;return r.dispose=function(){this.endDialog=null,a.prototype.dispose.call(this)},r.createElSelect_=function(t,n,s){var o=this;n===void 0&&(n=""),s===void 0&&(s="label");var u=Kr[t],l=u.id.replace("%s",this.id_),c=[n,l].join(" ").trim();return["<"+s+' id="'+l+'" class="'+(s==="label"?"vjs-label":"")+'">',this.localize(u.label),"</"+s+">",'<select aria-labelledby="'+c+'">'].concat(u.options.map(function(d){var h=l+"-"+d[1].replace(/\W+/g,"");return['<option id="'+h+'" value="'+d[0]+'" ','aria-labelledby="'+c+" "+h+'">',o.localize(d[1]),"</option>"].join("")})).concat("</select>").join("")},r.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},r.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},r.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},r.createElColors_=function(){return de("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},r.createElFont_=function(){return de("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},r.createElControls_=function(){var t=this.localize("restore all settings to the default values");return de("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},r.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},r.label=function(){return this.localize("Caption Settings Dialog")},r.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},r.buildCSSClass=function(){return a.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},r.getValues=function(){var t=this;return ob(Kr,function(n,s,o){var u=vx(t.$(s.selector),s.parser);return u!==void 0&&(n[o]=u),n},{})},r.setValues=function(t){var n=this;yi(Kr,function(s,o){yx(n.$(s.selector),t[o],s.parser)})},r.setDefaults=function(){var t=this;yi(Kr,function(n){var s=n.hasOwnProperty("default")?n.default:0;t.$(n.selector).selectedIndex=s})},r.restoreSettings=function(){var t;try{t=JSON.parse(P.localStorage.getItem(Yu))}catch(n){le.warn(n)}t&&this.setValues(t)},r.saveSettings=function(){if(!!this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?P.localStorage.setItem(Yu,JSON.stringify(t)):P.localStorage.removeItem(Yu)}catch(n){le.warn(n)}}},r.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},r.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,n=t&&t.subsCapsButton,s=t&&t.captionsButton;n?n.focus():s&&s.focus()},e}(Di);j.registerComponent("TextTrackSettings",_x);var Tx=function(a){$(e,a);function e(i,t){var n,s=t.ResizeObserver||P.ResizeObserver;t.ResizeObserver===null&&(s=!1);var o=_e({createEl:!s,reportTouchActivity:!1},t);return n=a.call(this,i,o)||this,n.ResizeObserver=t.ResizeObserver||P.ResizeObserver,n.loadListener_=null,n.resizeObserver_=null,n.debouncedHandler_=yb(function(){n.resizeHandler()},100,!1,se(n)),s?(n.resizeObserver_=new n.ResizeObserver(n.debouncedHandler_),n.resizeObserver_.observe(i.el())):(n.loadListener_=function(){if(!(!n.el_||!n.el_.contentWindow)){var u=n.debouncedHandler_,l=n.unloadListener_=function(){$e(this,"resize",u),$e(this,"unload",l),l=null};pt(n.el_.contentWindow,"unload",l),pt(n.el_.contentWindow,"resize",u)}},n.one("load",n.loadListener_)),n}var r=e.prototype;return r.createEl=function(){return a.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},r.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},r.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,a.prototype.dispose.call(this)},e}(j);j.registerComponent("ResizeManager",Tx);var bx={trackingThreshold:20,liveTolerance:15},xx=function(a){$(e,a);function e(i,t){var n,s=_e(bx,t,{createEl:!1});return n=a.call(this,i,s)||this,n.handleVisibilityChange_=function(o){return n.handleVisibilityChange(o)},n.trackLiveHandler_=function(){return n.trackLive_()},n.handlePlay_=function(o){return n.handlePlay(o)},n.handleFirstTimeupdate_=function(o){return n.handleFirstTimeupdate(o)},n.handleSeeked_=function(o){return n.handleSeeked(o)},n.seekToLiveEdge_=function(o){return n.seekToLiveEdge(o)},n.reset_(),n.on(n.player_,"durationchange",function(o){return n.handleDurationchange(o)}),n.one(n.player_,"canplay",function(){return n.toggleTracking()}),Dn&&"hidden"in W&&"visibilityState"in W&&n.on(W,"visibilitychange",n.handleVisibilityChange_),n}var r=e.prototype;return r.handleVisibilityChange=function(){this.player_.duration()===1/0&&(W.hidden?this.stopTracking():this.startTracking())},r.trackLive_=function(){var t=this.player_.seekable();if(!(!t||!t.length)){var n=Number(P.performance.now().toFixed(4)),s=this.lastTime_===-1?0:(n-this.lastTime_)/1e3;this.lastTime_=n,this.pastSeekEnd_=this.pastSeekEnd()+s;var o=this.liveCurrentTime(),u=this.player_.currentTime(),l=this.player_.paused()||this.seekedBehindLive_||Math.abs(o-u)>this.options_.liveTolerance;(!this.timeupdateSeen_||o===1/0)&&(l=!1),l!==this.behindLiveEdge_&&(this.behindLiveEdge_=l,this.trigger("liveedgechange"))}},r.handleDurationchange=function(){this.toggleTracking()},r.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},r.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,kt),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},r.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},r.handleSeeked=function(){var t=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&t>2,this.nextSeekedFromUser_=!1,this.trackLive_()},r.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},r.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},r.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},r.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},r.seekableEnd=function(){for(var t=this.player_.seekable(),n=[],s=t?t.length:0;s--;)n.push(t.end(s));return n.length?n.sort()[n.length-1]:1/0},r.seekableStart=function(){for(var t=this.player_.seekable(),n=[],s=t?t.length:0;s--;)n.push(t.start(s));return n.length?n.sort()[0]:0},r.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?0:t-this.seekableStart()},r.isLive=function(){return this.isTracking()},r.atLiveEdge=function(){return!this.behindLiveEdge()},r.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},r.pastSeekEnd=function(){var t=this.seekableEnd();return this.lastSeekEnd_!==-1&&t!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=t,this.pastSeekEnd_},r.behindLiveEdge=function(){return this.behindLiveEdge_},r.isTracking=function(){return typeof this.trackingInterval_=="number"},r.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},r.dispose=function(){this.off(W,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),a.prototype.dispose.call(this)},e}(j);j.registerComponent("LiveTracker",xx);var el=function(e){var r=e.el();if(r.hasAttribute("src"))return e.triggerSourceset(r.src),!0;var i=e.$$("source"),t=[],n="";if(!i.length)return!1;for(var s=0;s<i.length;s++){var o=i[s].src;o&&t.indexOf(o)===-1&&t.push(o)}return t.length?(t.length===1&&(n=t[0]),e.triggerSourceset(n),!0):!1},Sx=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var r=W.createElement(this.nodeName.toLowerCase());r.innerHTML=e;for(var i=W.createDocumentFragment();r.childNodes.length;)i.appendChild(r.childNodes[0]);return this.innerText="",P.Element.prototype.appendChild.call(this,i),this.innerHTML}}),hp=function(e,r){for(var i={},t=0;t<e.length&&(i=Object.getOwnPropertyDescriptor(e[t],r),!(i&&i.set&&i.get));t++);return i.enumerable=!0,i.configurable=!0,i},Ex=function(e){return hp([e.el(),P.HTMLMediaElement.prototype,P.Element.prototype,Sx],"innerHTML")},pp=function(e){var r=e.el();if(!r.resetSourceWatch_){var i={},t=Ex(e),n=function(o){return function(){for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];var d=o.apply(r,l);return el(e),d}};["append","appendChild","insertAdjacentHTML"].forEach(function(s){!r[s]||(i[s]=r[s],r[s]=n(i[s]))}),Object.defineProperty(r,"innerHTML",_e(t,{set:n(t.set)})),r.resetSourceWatch_=function(){r.resetSourceWatch_=null,Object.keys(i).forEach(function(s){r[s]=i[s]}),Object.defineProperty(r,"innerHTML",t)},e.one("sourceset",r.resetSourceWatch_)}},Cx=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Eh(P.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return P.Element.prototype.setAttribute.call(this,"src",e),e}}),Dx=function(e){return hp([e.el(),P.HTMLMediaElement.prototype,Cx],"src")},Ax=function(e){if(!!e.featuresSourceset){var r=e.el();if(!r.resetSourceset_){var i=Dx(e),t=r.setAttribute,n=r.load;Object.defineProperty(r,"src",_e(i,{set:function(o){var u=i.set.call(r,o);return e.triggerSourceset(r.src),u}})),r.setAttribute=function(s,o){var u=t.call(r,s,o);return/src/i.test(s)&&e.triggerSourceset(r.src),u},r.load=function(){var s=n.call(r);return el(e)||(e.triggerSourceset(""),pp(e)),s},r.currentSrc?e.triggerSourceset(r.currentSrc):el(e)||pp(e),r.resetSourceset_=function(){r.resetSourceset_=null,r.load=n,r.setAttribute=t,Object.defineProperty(r,"src",i),r.resetSourceWatch_&&r.resetSourceWatch_()}}}},tl=function(e,r,i,t){t===void 0&&(t=!0);var n=function(u){return Object.defineProperty(e,r,{value:u,enumerable:!0,writable:!0})},s={configurable:!0,enumerable:!0,get:function(){var u=i();return n(u),u}};return t&&(s.set=n),Object.defineProperty(e,r,s)},J=function(a){$(e,a);function e(i,t){var n;n=a.call(this,i,t)||this;var s=i.source,o=!1;if(s&&(n.el_.currentSrc!==s.src||i.tag&&i.tag.initNetworkState_===3)?n.setSource(s):n.handleLateInit_(n.el_),i.enableSourceset&&n.setupSourcesetHandling_(),n.isScrubbing_=!1,n.el_.hasChildNodes()){for(var u=n.el_.childNodes,l=u.length,c=[];l--;){var d=u[l],h=d.nodeName.toLowerCase();h==="track"&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(d),n.remoteTextTracks().addTrack(d.track),n.textTracks().addTrack(d.track),!o&&!n.el_.hasAttribute("crossorigin")&&fs(d.src)&&(o=!0)):c.push(d))}for(var v=0;v<c.length;v++)n.el_.removeChild(c[v])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&o&&le.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),n.restoreMetadataTracksInIOSNativePlayer_(),(_i||cu||zf)&&i.nativeControlsForTouch===!0&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}var r=e.prototype;return r.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,a.prototype.dispose.call(this)},r.setupSourcesetHandling_=function(){Ax(this)},r.restoreMetadataTracksInIOSNativePlayer_=function(){var t=this.textTracks(),n,s=function(){n=[];for(var l=0;l<t.length;l++){var c=t[l];c.kind==="metadata"&&n.push({track:c,storedMode:c.mode})}};s(),t.addEventListener("change",s),this.on("dispose",function(){return t.removeEventListener("change",s)});var o=function u(){for(var l=0;l<n.length;l++){var c=n[l];c.track.mode==="disabled"&&c.track.mode!==c.storedMode&&(c.track.mode=c.storedMode)}t.removeEventListener("change",u)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",s),t.removeEventListener("change",o),t.addEventListener("change",o)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",s),t.addEventListener("change",s),t.removeEventListener("change",o)})},r.overrideNative_=function(t,n){var s=this;if(n===this["featuresNative"+t+"Tracks"]){var o=t.toLowerCase();this[o+"TracksListeners_"]&&Object.keys(this[o+"TracksListeners_"]).forEach(function(u){var l=s.el()[o+"Tracks"];l.removeEventListener(u,s[o+"TracksListeners_"][u])}),this["featuresNative"+t+"Tracks"]=!n,this[o+"TracksListeners_"]=null,this.proxyNativeTracksForType_(o)}},r.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},r.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},r.proxyNativeTracksForType_=function(t){var n=this,s=Tt[t],o=this.el()[s.getterName],u=this[s.getterName]();if(!(!this["featuresNative"+s.capitalName+"Tracks"]||!o||!o.addEventListener)){var l={change:function(h){var v={type:"change",target:u,currentTarget:u,srcElement:u};u.trigger(v),t==="text"&&n[ki.remoteText.getterName]().trigger(v)},addtrack:function(h){u.addTrack(h.track)},removetrack:function(h){u.removeTrack(h.track)}},c=function(){for(var h=[],v=0;v<u.length;v++){for(var T=!1,x=0;x<o.length;x++)if(o[x]===u[v]){T=!0;break}T||h.push(u[v])}for(;h.length;)u.removeTrack(h.shift())};this[s.getterName+"Listeners_"]=l,Object.keys(l).forEach(function(d){var h=l[d];o.addEventListener(d,h),n.on("dispose",function(v){return o.removeEventListener(d,h)})}),this.on("loadstart",c),this.on("dispose",function(d){return n.off("loadstart",c)})}},r.proxyNativeTracks_=function(){var t=this;Tt.names.forEach(function(n){t.proxyNativeTracksForType_(n)})},r.createEl=function(){var t=this.options_.tag;if(!t||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(t){var n=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(n,t),e.disposeMediaElement(t),t=n}else{t=W.createElement("video");var s=this.options_.tag&&sr(this.options_.tag),o=_e({},s);(!_i||this.options_.nativeControlsForTouch!==!0)&&delete o.controls,eh(t,Ee(o,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}typeof this.options_.preload!="undefined"&&xi(t,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(t.disablePictureInPicture=this.options_.disablePictureInPicture);for(var u=["loop","muted","playsinline","autoplay"],l=0;l<u.length;l++){var c=u[l],d=this.options_[c];typeof d!="undefined"&&(d?xi(t,c,c):ns(t,c),t[c]=d)}return t},r.handleLateInit_=function(t){if(!(t.networkState===0||t.networkState===3)){if(t.readyState===0){var n=!1,s=function(){n=!0};this.on("loadstart",s);var o=function(){n||this.trigger("loadstart")};this.on("loadedmetadata",o),this.ready(function(){this.off("loadstart",s),this.off("loadedmetadata",o),n||this.trigger("loadstart")});return}var u=["loadstart"];u.push("loadedmetadata"),t.readyState>=2&&u.push("loadeddata"),t.readyState>=3&&u.push("canplay"),t.readyState>=4&&u.push("canplaythrough"),this.ready(function(){u.forEach(function(l){this.trigger(l)},this)})}},r.setScrubbing=function(t){this.isScrubbing_=t},r.scrubbing=function(){return this.isScrubbing_},r.setCurrentTime=function(t){try{this.isScrubbing_&&this.el_.fastSeek&&is?this.el_.fastSeek(t):this.el_.currentTime=t}catch(n){le(n,"Video is not ready. (Video.js)")}},r.duration=function(){var t=this;if(this.el_.duration===1/0&&ir&&nr&&this.el_.currentTime===0){var n=function s(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",s))};return this.on("timeupdate",n),NaN}return this.el_.duration||NaN},r.width=function(){return this.el_.offsetWidth},r.height=function(){return this.el_.offsetHeight},r.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var n=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},s=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",n),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",s),this.on("dispose",function(){t.off("webkitbeginfullscreen",s),t.off("webkitendfullscreen",n)})}},r.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var t=P.navigator&&P.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},r.enterFullScreen=function(){var t=this.el_;if(t.paused&&t.networkState<=t.HAVE_METADATA)Ut(this.el_.play()),this.setTimeout(function(){t.pause();try{t.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}},0);else try{t.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}},r.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},r.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},r.src=function(t){if(t===void 0)return this.el_.src;this.setSrc(t)},r.reset=function(){e.resetMediaElement(this.el_)},r.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},r.setControls=function(t){this.el_.controls=!!t},r.addTextTrack=function(t,n,s){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,s):a.prototype.addTextTrack.call(this,t,n,s)},r.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return a.prototype.createRemoteTextTrack.call(this,t);var n=W.createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},r.addRemoteTextTrack=function(t,n){var s=a.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(s),s},r.removeRemoteTextTrack=function(t){if(a.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),s=n.length;s--;)(t===n[s]||t===n[s].track)&&this.el().removeChild(n[s])},r.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var t={};return typeof this.el().webkitDroppedFrameCount!="undefined"&&typeof this.el().webkitDecodedFrameCount!="undefined"&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),P.performance&&typeof P.performance.now=="function"?t.creationTime=P.performance.now():P.performance&&P.performance.timing&&typeof P.performance.timing.navigationStart=="number"&&(t.creationTime=P.Date.now()-P.performance.timing.navigationStart),t},e}(ve);tl(J,"TEST_VID",function(){if(!!Ti()){var a=W.createElement("video"),e=W.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",a.appendChild(e),a}});J.isSupported=function(){try{J.TEST_VID.volume=.5}catch{return!1}return!!(J.TEST_VID&&J.TEST_VID.canPlayType)};J.canPlayType=function(a){return J.TEST_VID.canPlayType(a)};J.canPlaySource=function(a,e){return J.canPlayType(a.type)};J.canControlVolume=function(){try{var a=J.TEST_VID.volume;return J.TEST_VID.volume=a/2+.1,a!==J.TEST_VID.volume}catch{return!1}};J.canMuteVolume=function(){try{var a=J.TEST_VID.muted;return J.TEST_VID.muted=!a,J.TEST_VID.muted?xi(J.TEST_VID,"muted","muted"):ns(J.TEST_VID,"muted","muted"),a!==J.TEST_VID.muted}catch{return!1}};J.canControlPlaybackRate=function(){if(ir&&nr&&$f<58)return!1;try{var a=J.TEST_VID.playbackRate;return J.TEST_VID.playbackRate=a/2+.1,a!==J.TEST_VID.playbackRate}catch{return!1}};J.canOverrideAttributes=function(){try{var a=function(){};Object.defineProperty(W.createElement("video"),"src",{get:a,set:a}),Object.defineProperty(W.createElement("audio"),"src",{get:a,set:a}),Object.defineProperty(W.createElement("video"),"innerHTML",{get:a,set:a}),Object.defineProperty(W.createElement("audio"),"innerHTML",{get:a,set:a})}catch{return!1}return!0};J.supportsNativeTextTracks=function(){return is||ot&&nr};J.supportsNativeVideoTracks=function(){return!!(J.TEST_VID&&J.TEST_VID.videoTracks)};J.supportsNativeAudioTracks=function(){return!!(J.TEST_VID&&J.TEST_VID.audioTracks)};J.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(a){var e=a[0],r=a[1];tl(J.prototype,e,function(){return J[r]()},!0)});J.prototype.movingMediaElementInDOM=!ot;J.prototype.featuresFullscreenResize=!0;J.prototype.featuresProgressEvents=!0;J.prototype.featuresTimeupdateEvents=!0;var Ts;J.patchCanPlayType=function(){ou>=4&&!Wf&&!nr&&(Ts=J.TEST_VID&&J.TEST_VID.constructor.prototype.canPlayType,J.TEST_VID.constructor.prototype.canPlayType=function(a){var e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return a&&e.test(a)?"maybe":Ts.call(this,a)})};J.unpatchCanPlayType=function(){var a=J.TEST_VID.constructor.prototype.canPlayType;return Ts&&(J.TEST_VID.constructor.prototype.canPlayType=Ts),a};J.patchCanPlayType();J.disposeMediaElement=function(a){if(!!a){for(a.parentNode&&a.parentNode.removeChild(a);a.hasChildNodes();)a.removeChild(a.firstChild);a.removeAttribute("src"),typeof a.load=="function"&&function(){try{a.load()}catch{}}()}};J.resetMediaElement=function(a){if(!!a){for(var e=a.querySelectorAll("source"),r=e.length;r--;)a.removeChild(e[r]);a.removeAttribute("src"),typeof a.load=="function"&&function(){try{a.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(a){J.prototype[a]=function(){return this.el_[a]||this.el_.hasAttribute(a)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(a){J.prototype["set"+we(a)]=function(e){this.el_[a]=e,e?this.el_.setAttribute(a,a):this.el_.removeAttribute(a)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(a){J.prototype[a]=function(){return this.el_[a]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(a){J.prototype["set"+we(a)]=function(e){this.el_[a]=e}});["pause","load","play"].forEach(function(a){J.prototype[a]=function(){return this.el_[a]()}});ve.withSourceHandlers(J);J.nativeSourceHandler={};J.nativeSourceHandler.canPlayType=function(a){try{return J.TEST_VID.canPlayType(a)}catch{return""}};J.nativeSourceHandler.canHandleSource=function(a,e){if(a.type)return J.nativeSourceHandler.canPlayType(a.type);if(a.src){var r=ku(a.src);return J.nativeSourceHandler.canPlayType("video/"+r)}return""};J.nativeSourceHandler.handleSource=function(a,e,r){e.setSrc(a.src)};J.nativeSourceHandler.dispose=function(){};J.registerSourceHandler(J.nativeSourceHandler);ve.registerTech("Html5",J);var mp=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],rl={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},il=["tiny","xsmall","small","medium","large","xlarge","huge"],bs={};il.forEach(function(a){var e=a.charAt(0)==="x"?"x-"+a.substring(1):a;bs[a]="vjs-layout-"+e});var wx={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Pe=function(a){$(e,a);function e(i,t,n){var s;if(i.id=i.id||t.id||"vjs_video_"+Sr(),t=Ee(e.getTagSettings(i),t),t.initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language)if(typeof i.closest=="function"){var o=i.closest("[lang]");o&&o.getAttribute&&(t.language=o.getAttribute("lang"))}else for(var u=i;u&&u.nodeType===1;){if(sr(u).hasOwnProperty("lang")){t.language=u.getAttribute("lang");break}u=u.parentNode}if(s=a.call(this,null,t,n)||this,s.boundDocumentFullscreenChange_=function(h){return s.documentFullscreenChange_(h)},s.boundFullWindowOnEscKey_=function(h){return s.fullWindowOnEscKey(h)},s.boundUpdateStyleEl_=function(h){return s.updateStyleEl_(h)},s.boundApplyInitTime_=function(h){return s.applyInitTime_(h)},s.boundUpdateCurrentBreakpoint_=function(h){return s.updateCurrentBreakpoint_(h)},s.boundHandleTechClick_=function(h){return s.handleTechClick_(h)},s.boundHandleTechDoubleClick_=function(h){return s.handleTechDoubleClick_(h)},s.boundHandleTechTouchStart_=function(h){return s.handleTechTouchStart_(h)},s.boundHandleTechTouchMove_=function(h){return s.handleTechTouchMove_(h)},s.boundHandleTechTouchEnd_=function(h){return s.handleTechTouchEnd_(h)},s.boundHandleTechTap_=function(h){return s.handleTechTap_(h)},s.isFullscreen_=!1,s.log=Vf(s.id_),s.fsApi_=Za,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=i,s.tagAttributes=i&&sr(i),s.language(s.options_.language),t.languages){var l={};Object.getOwnPropertyNames(t.languages).forEach(function(h){l[h.toLowerCase()]=t.languages[h]}),s.languages_=l}else s.languages_=e.prototype.options_.languages;s.resetCache_(),s.poster_=t.poster||"",s.controls_=!!t.controls,i.controls=!1,i.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],i.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach(function(h){if(typeof s[h]!="function")throw new Error('plugin "'+h+'" does not exist')}),s.scrubbing_=!1,s.el_=s.createEl(),Tu(se(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(pt(W,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on(["playerreset","resize"],s.boundUpdateStyleEl_);var c=_e(s.options_);t.plugins&&Object.keys(t.plugins).forEach(function(h){s[h](t.plugins[h])}),t.debug&&s.debug(!0),s.options_.playerOptions=c,s.middleware_=[],s.playbackRates(t.playbackRates),s.initChildren(),s.isAudio(i.nodeName.toLowerCase()==="audio"),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),_i&&s.addClass("vjs-touch-enabled"),ot||s.addClass("vjs-workinghover"),e.players[s.id_]=se(s);var d=Mf.split(".")[0];return s.addClass("vjs-v"+d),s.userActive(!0),s.reportUserActivity(),s.one("play",function(h){return s.listenForUserActivity_(h)}),s.on("stageclick",function(h){return s.handleStageClick_(h)}),s.on("keydown",function(h){return s.handleKeyDown(h)}),s.on("languagechange",function(h){return s.handleLanguagechange(h)}),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s}var r=e.prototype;return r.dispose=function(){var t=this;this.trigger("dispose"),this.off("dispose"),$e(W,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),$e(W,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Kb(this),tt.names.forEach(function(n){var s=tt[n],o=t[s.getterName]();o&&o.off&&o.off()}),a.prototype.dispose.call(this)},r.createEl=function(){var t=this.tag,n,s=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player"),o=this.tag.tagName.toLowerCase()==="video-js";s?n=this.el_=t.parentNode:o||(n=this.el_=a.prototype.createEl.call(this,"div"));var u=sr(t);if(o){for(n=this.el_=t,t=this.tag=W.createElement("video");n.children.length;)t.appendChild(n.firstChild);jr(n,"video-js")||ar(n,"video-js"),n.appendChild(t),s=this.playerElIngest_=n,Object.keys(n).forEach(function(T){try{t[T]=n[T]}catch{}})}if(t.setAttribute("tabindex","-1"),u.tabindex="-1",(Dn||nr&&Kf)&&(t.setAttribute("role","application"),u.role="application"),t.removeAttribute("width"),t.removeAttribute("height"),"width"in u&&delete u.width,"height"in u&&delete u.height,Object.getOwnPropertyNames(u).forEach(function(T){o&&T==="class"||n.setAttribute(T,u[T]),o&&t.setAttribute(T,u[T])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=n.player=this,this.addClass("vjs-paused"),P.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=ch("vjs-styles-dimensions");var l=xr(".vjs-styles-defaults"),c=xr("head");c.insertBefore(this.styleEl_,l?l.nextSibling:c.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var d=t.getElementsByTagName("a"),h=0;h<d.length;h++){var v=d.item(h);ar(v,"vjs-hidden"),v.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!s&&t.parentNode.insertBefore(n,t),du(t,n),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=n,n},r.crossOrigin=function(t){if(!t)return this.techGet_("crossOrigin");if(t!=="anonymous"&&t!=="use-credentials"){le.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+t+'"');return}this.techCall_("setCrossOrigin",t)},r.width=function(t){return this.dimension("width",t)},r.height=function(t){return this.dimension("height",t)},r.dimension=function(t,n){var s=t+"_";if(n===void 0)return this[s]||0;if(n===""||n==="auto"){this[s]=void 0,this.updateStyleEl_();return}var o=parseFloat(n);if(isNaN(o)){le.error('Improper value "'+n+'" supplied for for '+t);return}this[s]=o,this.updateStyleEl_()},r.fluid=function(t){var n=this;if(t===void 0)return!!this.fluid_;this.fluid_=!!t,ur(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),_b(this,function(){n.on(["playerreset","resize"],n.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},r.fill=function(t){if(t===void 0)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},r.aspectRatio=function(t){if(t===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},r.updateStyleEl_=function(){if(P.VIDEOJS_NO_DYNAMIC_STYLE===!0){var t=typeof this.width_=="number"?this.width_:this.options_.width,n=typeof this.height_=="number"?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(t>=0&&(s.width=t),n>=0&&(s.height=n));return}var o,u,l,c;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?l=this.aspectRatio_:this.videoWidth()>0?l=this.videoWidth()+":"+this.videoHeight():l="16:9";var d=l.split(":"),h=d[1]/d[0];this.width_!==void 0?o=this.width_:this.height_!==void 0?o=this.height_/h:o=this.videoWidth()||300,this.height_!==void 0?u=this.height_:u=o*h,/^[^a-zA-Z]/.test(this.id())?c="dimensions-"+this.id():c=this.id()+"-dimensions",this.addClass(c),dh(this.styleEl_,`
      .`+c+` {
        width: `+o+`px;
        height: `+u+`px;
      }

      .`+c+`.vjs-fluid {
        padding-top: `+h*100+`%;
      }
    `)},r.loadTech_=function(t,n){var s=this;this.tech_&&this.unloadTech_();var o=we(t),u=t.charAt(0).toLowerCase()+t.slice(1);o!=="Html5"&&this.tag&&(ve.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=o,this.isReady_=!1;var l=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(l=!1);var c={source:n,autoplay:l,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+u+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};tt.names.forEach(function(h){var v=tt[h];c[v.getterName]=s[v.privateName]}),Ee(c,this.options_[o]),Ee(c,this.options_[u]),Ee(c,this.options_[t.toLowerCase()]),this.tag&&(c.tag=this.tag),n&&n.src===this.cache_.src&&this.cache_.currentTime>0&&(c.startTime=this.cache_.currentTime);var d=ve.getTech(t);if(!d)throw new Error("No Tech named '"+o+"' exists! '"+o+"' should be registered using videojs.registerTech()'");this.tech_=new d(c),this.tech_.ready(ge(this,this.handleTechReady_),!0),Th.jsonToTextTracks(this.textTracksJson_||[],this.tech_),mp.forEach(function(h){s.on(s.tech_,h,function(v){return s["handleTech"+we(h)+"_"](v)})}),Object.keys(rl).forEach(function(h){s.on(s.tech_,h,function(v){if(s.tech_.playbackRate()===0&&s.tech_.seeking()){s.queuedCallbacks_.push({callback:s["handleTech"+rl[h]+"_"].bind(s),event:v});return}s["handleTech"+rl[h]+"_"](v)})}),this.on(this.tech_,"loadstart",function(h){return s.handleTechLoadStart_(h)}),this.on(this.tech_,"sourceset",function(h){return s.handleTechSourceset_(h)}),this.on(this.tech_,"waiting",function(h){return s.handleTechWaiting_(h)}),this.on(this.tech_,"ended",function(h){return s.handleTechEnded_(h)}),this.on(this.tech_,"seeking",function(h){return s.handleTechSeeking_(h)}),this.on(this.tech_,"play",function(h){return s.handleTechPlay_(h)}),this.on(this.tech_,"firstplay",function(h){return s.handleTechFirstPlay_(h)}),this.on(this.tech_,"pause",function(h){return s.handleTechPause_(h)}),this.on(this.tech_,"durationchange",function(h){return s.handleTechDurationChange_(h)}),this.on(this.tech_,"fullscreenchange",function(h,v){return s.handleTechFullscreenChange_(h,v)}),this.on(this.tech_,"fullscreenerror",function(h,v){return s.handleTechFullscreenError_(h,v)}),this.on(this.tech_,"enterpictureinpicture",function(h){return s.handleTechEnterPictureInPicture_(h)}),this.on(this.tech_,"leavepictureinpicture",function(h){return s.handleTechLeavePictureInPicture_(h)}),this.on(this.tech_,"error",function(h){return s.handleTechError_(h)}),this.on(this.tech_,"posterchange",function(h){return s.handleTechPosterChange_(h)}),this.on(this.tech_,"textdata",function(h){return s.handleTechTextData_(h)}),this.on(this.tech_,"ratechange",function(h){return s.handleTechRateChange_(h)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(o!=="Html5"||!this.tag)&&du(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},r.unloadTech_=function(){var t=this;tt.names.forEach(function(n){var s=tt[n];t[s.privateName]=t[s.getterName]()}),this.textTracksJson_=Th.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},r.tech=function(t){return t===void 0&&le.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},r.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},r.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},r.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},r.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},r.manualAutoplay_=function(t){var n=this;if(!(!this.tech_||typeof t!="string")){var s=function(){var l=n.muted();n.muted(!0);var c=function(){n.muted(l)};n.playTerminatedQueue_.push(c);var d=n.play();if(!!In(d))return d.catch(function(h){throw c(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(h||""))})},o;if(t==="any"&&!this.muted()?(o=this.play(),In(o)&&(o=o.catch(s))):t==="muted"&&!this.muted()?o=s():o=this.play(),!!In(o))return o.then(function(){n.trigger({type:"autoplay-success",autoplay:t})}).catch(function(){n.trigger({type:"autoplay-failure",autoplay:t})})}},r.updateSourceCaches_=function(t){t===void 0&&(t="");var n=t,s="";typeof n!="string"&&(n=t.src,s=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],n&&!s&&(s=Yb(this,n)),this.cache_.source=_e({},t,{src:n,type:s});for(var o=this.cache_.sources.filter(function(v){return v.src&&v.src===n}),u=[],l=this.$$("source"),c=[],d=0;d<l.length;d++){var h=sr(l[d]);u.push(h),h.src&&h.src===n&&c.push(h.src)}c.length&&!o.length?this.cache_.sources=u:o.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=n},r.handleTechSourceset_=function(t){var n=this;if(!this.changingSrc_){var s=function(c){return n.updateSourceCaches_(c)},o=this.currentSource().src,u=t.src;o&&!/^blob:/.test(o)&&/^blob:/.test(u)&&(!this.lastSource_||this.lastSource_.tech!==u&&this.lastSource_.player!==o)&&(s=function(){}),s(u),t.src||this.tech_.any(["sourceset","loadstart"],function(l){if(l.type!=="sourceset"){var c=n.techGet("currentSrc");n.lastSource_.tech=c,n.updateSourceCaches_(c)}})}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},r.hasStarted=function(t){if(t===void 0)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},r.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},r.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(t){return t.callback(t.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},r.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var n=this.currentTime(),s=function o(){n!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",o))};this.on("timeupdate",s)},r.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},r.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},r.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},r.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},r.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},r.handleTechFirstPlay_=function(){this.options_.starttime&&(le.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},r.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},r.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},r.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},r.handleTechClick_=function(t){!this.controls_||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,t):this.paused()?Ut(this.play()):this.pause())},r.handleTechDoubleClick_=function(t){if(!!this.controls_){var n=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(s){return s.contains(t.target)});n||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},r.handleTechTap_=function(){this.userActive(!this.userActive())},r.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},r.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},r.handleTechTouchEnd_=function(t){t.cancelable&&t.preventDefault()},r.handleStageClick_=function(){this.reportUserActivity()},r.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},r.documentFullscreenChange_=function(t){var n=t.target.player;if(!(n&&n!==this)){var s=this.el(),o=W[this.fsApi_.fullscreenElement]===s;!o&&s.matches?o=s.matches(":"+this.fsApi_.fullscreen):!o&&s.msMatchesSelector&&(o=s.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(o)}},r.handleTechFullscreenChange_=function(t,n){n&&(n.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(n.isFullscreen))},r.handleTechFullscreenError_=function(t,n){this.trigger("fullscreenerror",n)},r.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},r.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},r.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},r.handleTechError_=function(){var t=this.tech_.error();this.error(t)},r.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},r.getCache=function(){return this.cache_},r.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},r.techCall_=function(t,n){this.ready(function(){if(t in Wb)return Gb(this.middleware_,this.tech_,t,n);if(t in Lh)return Ih(this.middleware_,this.tech_,t,n);try{this.tech_&&this.tech_[t](n)}catch(s){throw le(s),s}},!0)},r.techGet_=function(t){if(!(!this.tech_||!this.tech_.isReady_)){if(t in zb)return jb(this.middleware_,this.tech_,t);if(t in Lh)return Ih(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(n){throw this.tech_[t]===void 0?(le("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",n),n):n.name==="TypeError"?(le("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",n),this.tech_.isReady_=!1,n):(le(n),n)}}},r.play=function(){var t=this,n=this.options_.Promise||P.Promise;return n?new n(function(s){t.play_(s)}):this.play_()},r.play_=function(t){var n=this;t===void 0&&(t=Ut),this.playCallbacks_.push(t);var s=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!s){this.waitToPlay_=function(u){n.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!s&&(is||ot)&&this.load();return}var o=this.techGet_("play");o===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(o)},r.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach(function(n){n()})},r.runPlayCallbacks_=function(t){var n=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],n.forEach(function(s){s(t)})},r.pause=function(){this.techCall_("pause")},r.paused=function(){return this.techGet_("paused")!==!1},r.played=function(){return this.techGet_("played")||zr(0,0)},r.scrubbing=function(t){if(typeof t=="undefined")return this.scrubbing_;this.scrubbing_=!!t,this.techCall_("setScrubbing",this.scrubbing_),t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},r.currentTime=function(t){if(typeof t!="undefined"){if(t<0&&(t=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=t,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",t),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},r.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},r.duration=function(t){if(t===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;t=parseFloat(t),t<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(t)||this.trigger("durationchange"))},r.remainingTime=function(){return this.duration()-this.currentTime()},r.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},r.buffered=function(){var t=this.techGet_("buffered");return(!t||!t.length)&&(t=zr(0,0)),t},r.bufferedPercent=function(){return _h(this.buffered(),this.duration())},r.bufferedEnd=function(){var t=this.buffered(),n=this.duration(),s=t.end(t.length-1);return s>n&&(s=n),s},r.volume=function(t){var n;if(t!==void 0){n=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=n,this.techCall_("setVolume",n),n>0&&this.lastVolume_(n);return}return n=parseFloat(this.techGet_("volume")),isNaN(n)?1:n},r.muted=function(t){if(t!==void 0){this.techCall_("setMuted",t);return}return this.techGet_("muted")||!1},r.defaultMuted=function(t){return t!==void 0?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},r.lastVolume_=function(t){if(t!==void 0&&t!==0){this.cache_.lastVolume=t;return}return this.cache_.lastVolume},r.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},r.isFullscreen=function(t){if(t!==void 0){var n=this.isFullscreen_;this.isFullscreen_=Boolean(t),this.isFullscreen_!==n&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},r.requestFullscreen=function(t){var n=this.options_.Promise||P.Promise;if(n){var s=this;return new n(function(o,u){function l(){s.off("fullscreenerror",d),s.off("fullscreenchange",c)}function c(){l(),o()}function d(v,T){l(),u(T)}s.one("fullscreenchange",c),s.one("fullscreenerror",d);var h=s.requestFullscreenHelper_(t);h&&(h.then(l,l),h.then(o,u))})}return this.requestFullscreenHelper_()},r.requestFullscreenHelper_=function(t){var n=this,s;if(this.fsApi_.prefixed||(s=this.options_.fullscreen&&this.options_.fullscreen.options||{},t!==void 0&&(s=t)),this.fsApi_.requestFullscreen){var o=this.el_[this.fsApi_.requestFullscreen](s);return o&&o.then(function(){return n.isFullscreen(!0)},function(){return n.isFullscreen(!1)}),o}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},r.exitFullscreen=function(){var t=this.options_.Promise||P.Promise;if(t){var n=this;return new t(function(s,o){function u(){n.off("fullscreenerror",c),n.off("fullscreenchange",l)}function l(){u(),s()}function c(h,v){u(),o(v)}n.one("fullscreenchange",l),n.one("fullscreenerror",c);var d=n.exitFullscreenHelper_();d&&(d.then(u,u),d.then(s,o))})}return this.exitFullscreenHelper_()},r.exitFullscreenHelper_=function(){var t=this;if(this.fsApi_.requestFullscreen){var n=W[this.fsApi_.exitFullscreen]();return n&&Ut(n.then(function(){return t.isFullscreen(!1)})),n}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},r.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=W.documentElement.style.overflow,pt(W,"keydown",this.boundFullWindowOnEscKey_),W.documentElement.style.overflow="hidden",ar(W.body,"vjs-full-window"),this.trigger("enterFullWindow")},r.fullWindowOnEscKey=function(t){oe.isEventKey(t,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},r.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,$e(W,"keydown",this.boundFullWindowOnEscKey_),W.documentElement.style.overflow=this.docOrigOverflow,An(W.body,"vjs-full-window"),this.trigger("exitFullWindow")},r.disablePictureInPicture=function(t){if(t===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",t),this.options_.disablePictureInPicture=t,this.trigger("disablepictureinpicturechanged")},r.isInPictureInPicture=function(t){if(t!==void 0){this.isInPictureInPicture_=!!t,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},r.requestPictureInPicture=function(){if("pictureInPictureEnabled"in W&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},r.exitPictureInPicture=function(){if("pictureInPictureEnabled"in W)return W.exitPictureInPicture()},r.handleKeyDown=function(t){var n=this.options_.userActions;if(!(!n||!n.hotkeys)){var s=function(u){var l=u.tagName.toLowerCase();if(u.isContentEditable)return!0;var c=["button","checkbox","hidden","radio","reset","submit"];if(l==="input")return c.indexOf(u.type)===-1;var d=["textarea"];return d.indexOf(l)!==-1};s(this.el_.ownerDocument.activeElement)||(typeof n.hotkeys=="function"?n.hotkeys.call(this,t):this.handleHotkeys(t))}},r.handleHotkeys=function(t){var n=this.options_.userActions?this.options_.userActions.hotkeys:{},s=n.fullscreenKey,o=s===void 0?function(x){return oe.isEventKey(x,"f")}:s,u=n.muteKey,l=u===void 0?function(x){return oe.isEventKey(x,"m")}:u,c=n.playPauseKey,d=c===void 0?function(x){return oe.isEventKey(x,"k")||oe.isEventKey(x,"Space")}:c;if(o.call(this,t)){t.preventDefault(),t.stopPropagation();var h=j.getComponent("FullscreenToggle");W[this.fsApi_.fullscreenEnabled]!==!1&&h.prototype.handleClick.call(this,t)}else if(l.call(this,t)){t.preventDefault(),t.stopPropagation();var v=j.getComponent("MuteToggle");v.prototype.handleClick.call(this,t)}else if(d.call(this,t)){t.preventDefault(),t.stopPropagation();var T=j.getComponent("PlayToggle");T.prototype.handleClick.call(this,t)}},r.canPlayType=function(t){for(var n,s=0,o=this.options_.techOrder;s<o.length;s++){var u=o[s],l=ve.getTech(u);if(l||(l=j.getComponent(u)),!l){le.error('The "'+u+'" tech is undefined. Skipped browser support check for that tech.');continue}if(l.isSupported()&&(n=l.canPlayType(t),n))return n}return""},r.selectSource=function(t){var n=this,s=this.options_.techOrder.map(function(d){return[d,ve.getTech(d)]}).filter(function(d){var h=d[0],v=d[1];return v?v.isSupported():(le.error('The "'+h+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),o=function(h,v,T){var x;return h.some(function(y){return v.some(function(E){if(x=T(y,E),x)return!0})}),x},u,l=function(h){return function(v,T){return h(T,v)}},c=function(h,v){var T=h[0],x=h[1];if(x.canPlaySource(v,n.options_[T.toLowerCase()]))return{source:v,tech:T}};return this.options_.sourceOrder?u=o(t,s,l(c)):u=o(s,t,c),u||!1},r.handleSrc_=function(t,n){var s=this;if(typeof t=="undefined")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var o=Jb(t);if(!o.length){this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);return}if(this.changingSrc_=!0,n||(this.cache_.sources=o),this.updateSourceCaches_(o[0]),Vb(this,o[0],function(c,d){s.middleware_=d,n||(s.cache_.sources=o),s.updateSourceCaches_(c);var h=s.src_(c);if(h){if(o.length>1)return s.handleSrc_(o.slice(1));s.changingSrc_=!1,s.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),s.triggerReady();return}Hb(d,s.tech_)}),this.options_.retryOnError&&o.length>1){var u=function(){s.error(null),s.handleSrc_(o.slice(1),!0)},l=function(){s.off("error",u)};this.one("error",u),this.one("playing",l),this.resetRetryOnError_=function(){s.off("error",u),s.off("playing",l)}}},r.src=function(t){return this.handleSrc_(t,!1)},r.src_=function(t){var n=this,s=this.selectSource([t]);return s?xb(s.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(s.tech,s.source),this.tech_.ready(function(){n.changingSrc_=!1}),!1):!0},r.load=function(){this.techCall_("load")},r.reset=function(){var t=this,n=this.options_.Promise||P.Promise;if(this.paused()||!n)this.doReset_();else{var s=this.play();Ut(s.then(function(){return t.doReset_()}))}},r.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),ur(this)&&this.trigger("playerreset")},r.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},r.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar,n=t.durationDisplay,s=t.remainingTimeDisplay;n&&n.updateContent(),s&&s.updateContent()},r.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},r.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},r.currentSources=function(){var t=this.currentSource(),n=[];return Object.keys(t).length!==0&&n.push(t),this.cache_.sources||n},r.currentSource=function(){return this.cache_.source||{}},r.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},r.currentType=function(){return this.currentSource()&&this.currentSource().type||""},r.preload=function(t){if(t!==void 0){this.techCall_("setPreload",t),this.options_.preload=t;return}return this.techGet_("preload")},r.autoplay=function(t){if(t===void 0)return this.options_.autoplay||!1;var n;typeof t=="string"&&/(any|play|muted)/.test(t)||t===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=t,this.manualAutoplay_(typeof t=="string"?t:"play"),n=!1):t?this.options_.autoplay=!0:this.options_.autoplay=!1,n=typeof n=="undefined"?this.options_.autoplay:n,this.tech_&&this.techCall_("setAutoplay",n)},r.playsinline=function(t){return t!==void 0?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},r.loop=function(t){if(t!==void 0){this.techCall_("setLoop",t),this.options_.loop=t;return}return this.techGet_("loop")},r.poster=function(t){if(t===void 0)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},r.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},r.controls=function(t){if(t===void 0)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},r.usingNativeControls=function(t){if(t===void 0)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},r.error=function(t){var n=this;if(t===void 0)return this.error_||null;if(br("beforeerror").forEach(function(o){var u=o(n,t);if(!(rr(u)&&!Array.isArray(u)||typeof u=="string"||typeof u=="number"||u===null)){n.log.error("please return a value that MediaError expects in beforeerror hooks");return}t=u}),this.options_.suppressNotSupportedError&&t&&t.code===4){var s=function(){this.error(t)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],s),this.one("loadstart",function(){this.off(["click","touchstart"],s)});return}if(t===null){this.error_=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new et(t),this.addClass("vjs-error"),le.error("(CODE:"+this.error_.code+" "+et.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),br("error").forEach(function(o){return o(n,n.error_)})},r.reportUserActivity=function(t){this.userActivity_=!0},r.userActive=function(t){if(t===void 0)return this.userActive_;if(t=!!t,t!==this.userActive_){if(this.userActive_=t,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(n){n.stopPropagation(),n.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},r.listenForUserActivity_=function(){var t,n,s,o=ge(this,this.reportUserActivity),u=function(T){(T.screenX!==n||T.screenY!==s)&&(n=T.screenX,s=T.screenY,o())},l=function(){o(),this.clearInterval(t),t=this.setInterval(o,250)},c=function(T){o(),this.clearInterval(t)};this.on("mousedown",l),this.on("mousemove",u),this.on("mouseup",c),this.on("mouseleave",c);var d=this.getChild("controlBar");d&&!ot&&!ir&&(d.on("mouseenter",function(v){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),d.on("mouseleave",function(v){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",o),this.on("keyup",o);var h;this.setInterval(function(){if(!!this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(h);var v=this.options_.inactivityTimeout;v<=0||(h=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},v))}},250)},r.playbackRate=function(t){if(t!==void 0){this.techCall_("setPlaybackRate",t);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},r.defaultPlaybackRate=function(t){return t!==void 0?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},r.isAudio=function(t){if(t!==void 0){this.isAudio_=!!t;return}return!!this.isAudio_},r.addTextTrack=function(t,n,s){if(this.tech_)return this.tech_.addTextTrack(t,n,s)},r.addRemoteTextTrack=function(t,n){if(this.tech_)return this.tech_.addRemoteTextTrack(t,n)},r.removeRemoteTextTrack=function(t){t===void 0&&(t={});var n=t,s=n.track;if(s||(s=t),this.tech_)return this.tech_.removeRemoteTextTrack(s)},r.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},r.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},r.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},r.language=function(t){if(t===void 0)return this.language_;this.language_!==String(t).toLowerCase()&&(this.language_=String(t).toLowerCase(),ur(this)&&this.trigger("languagechange"))},r.languages=function(){return _e(e.prototype.options_.languages,this.languages_)},r.toJSON=function(){var t=_e(this.options_),n=t.tracks;t.tracks=[];for(var s=0;s<n.length;s++){var o=n[s];o=_e(o),o.player=void 0,t.tracks[s]=o}return t},r.createModal=function(t,n){var s=this;n=n||{},n.content=t||"";var o=new Di(this,n);return this.addChild(o),o.on("dispose",function(){s.removeChild(o)}),o.open(),o},r.updateCurrentBreakpoint_=function(){if(!!this.responsive())for(var t=this.currentBreakpoint(),n=this.currentWidth(),s=0;s<il.length;s++){var o=il[s],u=this.breakpoints_[o];if(n<=u){if(t===o)return;t&&this.removeClass(bs[t]),this.addClass(bs[o]),this.breakpoint_=o;break}}},r.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},r.breakpoints=function(t){return t===void 0?Ee(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Ee({},wx,t),this.updateCurrentBreakpoint_(),Ee(this.breakpoints_))},r.responsive=function(t){if(t===void 0)return this.responsive_;t=Boolean(t);var n=this.responsive_;if(t!==n)return this.responsive_=t,t?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t},r.currentBreakpoint=function(){return this.breakpoint_},r.currentBreakpointClass=function(){return bs[this.breakpoint_]||""},r.loadMedia=function(t,n){var s=this;if(!(!t||typeof t!="object")){this.reset(),this.cache_.media=_e(t);var o=this.cache_.media,u=o.artwork,l=o.poster,c=o.src,d=o.textTracks;!u&&l&&(this.cache_.media.artwork=[{src:l,type:ps(l)}]),c&&this.src(c),l&&this.poster(l),Array.isArray(d)&&d.forEach(function(h){return s.addRemoteTextTrack(h,!1)}),this.ready(n)}},r.getMedia=function(){if(!this.cache_.media){var t=this.poster(),n=this.currentSources(),s=Array.prototype.map.call(this.remoteTextTracks(),function(u){return{kind:u.kind,label:u.label,language:u.language,src:u.src}}),o={src:n,textTracks:s};return t&&(o.poster=t,o.artwork=[{src:o.poster,type:ps(o.poster)}]),o}return _e(this.cache_.media)},e.getTagSettings=function(t){var n={sources:[],tracks:[]},s=sr(t),o=s["data-setup"];if(jr(t,"vjs-fill")&&(s.fill=!0),jr(t,"vjs-fluid")&&(s.fluid=!0),o!==null){var u=S_(o||"{}"),l=u[0],c=u[1];l&&le.error(l),Ee(s,c)}if(Ee(n,s),t.hasChildNodes())for(var d=t.childNodes,h=0,v=d.length;h<v;h++){var T=d[h],x=T.nodeName.toLowerCase();x==="source"?n.sources.push(sr(T)):x==="track"&&n.tracks.push(sr(T))}return n},r.flexNotSupported_=function(){var t=W.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},r.debug=function(t){if(t===void 0)return this.debugEnabled_;t?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},r.playbackRates=function(t){if(t===void 0)return this.cache_.playbackRates;!Array.isArray(t)||!t.every(function(n){return typeof n=="number"})||(this.cache_.playbackRates=t,this.trigger("playbackrateschange"))},e}(j);tt.names.forEach(function(a){var e=tt[a];Pe.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Pe.prototype.crossorigin=Pe.prototype.crossOrigin;Pe.players={};var Bn=P.navigator;Pe.prototype.options_={techOrder:ve.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Bn&&(Bn.languages&&Bn.languages[0]||Bn.userLanguage||Bn.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(a){Pe.prototype[a]=function(){return this.techGet_(a)}});mp.forEach(function(a){Pe.prototype["handleTech"+we(a)+"_"]=function(){return this.trigger(a)}});j.registerComponent("Player",Pe);var xs="plugin",Oi="activePlugins_",Fi={},Ss=function(e){return Fi.hasOwnProperty(e)},Es=function(e){return Ss(e)?Fi[e]:void 0},gp=function(e,r){e[Oi]=e[Oi]||{},e[Oi][r]=!0},Cs=function(e,r,i){var t=(i?"before":"")+"pluginsetup";e.trigger(t,r),e.trigger(t+":"+r.name,r)},kx=function(e,r){var i=function(){Cs(this,{name:e,plugin:r,instance:null},!0);var n=r.apply(this,arguments);return gp(this,e),Cs(this,{name:e,plugin:r,instance:n}),n};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i},vp=function(e,r){return r.prototype.name=e,function(){Cs(this,{name:e,plugin:r,instance:null},!0);for(var i=arguments.length,t=new Array(i),n=0;n<i;n++)t[n]=arguments[n];var s=Ra(r,[this].concat(t));return this[e]=function(){return s},Cs(this,s.getEventHash()),s}},qt=function(){function a(r){if(this.constructor===a)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=r,this.log||(this.log=this.player.log.createLogger(this.name)),Tu(this),delete this.trigger,vh(this,this.constructor.defaultState),gp(r,this.name),this.dispose=this.dispose.bind(this),r.on("dispose",this.dispose)}var e=a.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(i){return i===void 0&&(i={}),i.name=this.name,i.plugin=this.constructor,i.instance=this,i},e.trigger=function(i,t){return t===void 0&&(t={}),Ei(this.eventBusEl_,i,this.getEventHash(t))},e.handleStateChanged=function(i){},e.dispose=function(){var i=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[Oi][i]=!1,this.player=this.state=null,t[i]=vp(i,Fi[i])},a.isBasic=function(i){var t=typeof i=="string"?Es(i):i;return typeof t=="function"&&!a.prototype.isPrototypeOf(t.prototype)},a.registerPlugin=function(i,t){if(typeof i!="string")throw new Error('Illegal plugin name, "'+i+'", must be a string, was '+typeof i+".");if(Ss(i))le.warn('A plugin named "'+i+'" already exists. You may want to avoid re-registering plugins!');else if(Pe.prototype.hasOwnProperty(i))throw new Error('Illegal plugin name, "'+i+'", cannot share a name with an existing player method!');if(typeof t!="function")throw new Error('Illegal plugin for "'+i+'", must be a function, was '+typeof t+".");return Fi[i]=t,i!==xs&&(a.isBasic(t)?Pe.prototype[i]=kx(i,t):Pe.prototype[i]=vp(i,t)),t},a.deregisterPlugin=function(i){if(i===xs)throw new Error("Cannot de-register base plugin.");Ss(i)&&(delete Fi[i],delete Pe.prototype[i])},a.getPlugins=function(i){i===void 0&&(i=Object.keys(Fi));var t;return i.forEach(function(n){var s=Es(n);s&&(t=t||{},t[n]=s)}),t},a.getPluginVersion=function(i){var t=Es(i);return t&&t.VERSION||""},a}();qt.getPlugin=Es;qt.BASE_PLUGIN_NAME=xs;qt.registerPlugin(xs,qt);Pe.prototype.usingPlugin=function(a){return!!this[Oi]&&this[Oi][a]===!0};Pe.prototype.hasPlugin=function(a){return!!Ss(a)};var Px=function(e,r){r===void 0&&(r={});var i=function(){e.apply(this,arguments)},t={};typeof r=="object"?(r.constructor!==Object.prototype.constructor&&(i=r.constructor),t=r):typeof r=="function"&&(i=r),d2(i,e),e&&(i.super_=e);for(var n in t)t.hasOwnProperty(n)&&(i.prototype[n]=t[n]);return i},yp=function(e){return e.indexOf("#")===0?e.slice(1):e};function B(a,e,r){var i=B.getPlayer(a);if(i)return e&&le.warn('Player "'+a+'" is already initialised. Options will not be applied.'),r&&i.ready(r),i;var t=typeof a=="string"?xr("#"+yp(a)):a;if(!bi(t))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!t.ownerDocument.defaultView||!t.ownerDocument.body.contains(t))&&le.warn("The element supplied is not included in the DOM"),e=e||{},br("beforesetup").forEach(function(s){var o=s(t,_e(e));if(!rr(o)||Array.isArray(o)){le.error("please return an object in beforesetup hooks");return}e=_e(e,o)});var n=j.getComponent("Player");return i=new n(t,e,r),br("setup").forEach(function(s){return s(i)}),i}B.hooks_=tr;B.hooks=br;B.hook=ib;B.hookOnce=nb;B.removeHook=Nf;if(P.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Ti()){var Ds=xr(".vjs-styles-defaults");if(!Ds){Ds=ch("vjs-styles-defaults");var nl=xr("head");nl&&nl.insertBefore(Ds,nl.firstChild),dh(Ds,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid {
        padding-top: 56.25%
      }
    `)}}mu(1,B);B.VERSION=Mf;B.options=Pe.prototype.options_;B.getPlayers=function(){return Pe.players};B.getPlayer=function(a){var e=Pe.players,r;if(typeof a=="string"){var i=yp(a),t=e[i];if(t)return t;r=xr("#"+i)}else r=a;if(bi(r)){var n=r,s=n.player,o=n.playerId;if(s||e[o])return s||e[o]}};B.getAllPlayers=function(){return Object.keys(Pe.players).map(function(a){return Pe.players[a]}).filter(Boolean)};B.players=Pe.players;B.getComponent=j.getComponent;B.registerComponent=function(a,e){ve.isTech(e)&&le.warn("The "+a+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),j.registerComponent.call(j,a,e)};B.getTech=ve.getTech;B.registerTech=ve.registerTech;B.use=qb;Object.defineProperty(B,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(B.middleware,"TERMINATOR",{value:hs,writeable:!1,enumerable:!0});B.browser=cb;B.TOUCH_ENABLED=_i;B.extend=Px;B.mergeOptions=_e;B.bind=ge;B.registerPlugin=qt.registerPlugin;B.deregisterPlugin=qt.deregisterPlugin;B.plugin=function(a,e){return le.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),qt.registerPlugin(a,e)};B.getPlugins=qt.getPlugins;B.getPlugin=qt.getPlugin;B.getPluginVersion=qt.getPluginVersion;B.addLanguage=function(a,e){var r;return a=(""+a).toLowerCase(),B.options.languages=_e(B.options.languages,(r={},r[a]=e,r)),B.options.languages[a]};B.log=le;B.createLogger=Vf;B.createTimeRange=B.createTimeRanges=zr;B.formatTime=Pi;B.setFormatTime=ax;B.resetFormatTime=sx;B.parseUrl=wu;B.isCrossOrigin=fs;B.EventTarget=Ne;B.on=pt;B.one=us;B.off=$e;B.trigger=Ei;B.xhr=gd;B.TextTrack=Ln;B.AudioTrack=Ah;B.VideoTrack=wh;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(a){B[a]=function(){return le.warn("videojs."+a+"() is deprecated; use videojs.dom."+a+"() instead"),uh[a].apply(null,arguments)}});B.computedStyle=En;B.dom=uh;B.url=Rb;B.defineLazyProperty=tl;B.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.12.0 @license Apache-2.0 */var It=Ma,As=function(e,r,i){return e&&i&&i.responseURL&&r!==i.responseURL?i.responseURL:r},Lt=function(e){return B.log.debug?B.log.debug.bind(B,"VHS:",e+" >"):function(){}},Er=1/30,Vt=Er*3,_p=function(e,r){var i=[],t;if(e&&e.length)for(t=0;t<e.length;t++)r(e.start(t),e.end(t))&&i.push([e.start(t),e.end(t)]);return B.createTimeRanges(i)},Bi=function(e,r){return _p(e,function(i,t){return i-Vt<=r&&t+Vt>=r})},ws=function(e,r){return _p(e,function(i){return i-Er>=r})},Ix=function(e){if(e.length<2)return B.createTimeRanges();for(var r=[],i=1;i<e.length;i++){var t=e.end(i-1),n=e.start(i);r.push([t,n])}return B.createTimeRanges(r)},Lx=function(e,r){var i=null,t=null,n=0,s=[],o=[];if(!e||!e.length||!r||!r.length)return B.createTimeRange();for(var u=e.length;u--;)s.push({time:e.start(u),type:"start"}),s.push({time:e.end(u),type:"end"});for(u=r.length;u--;)s.push({time:r.start(u),type:"start"}),s.push({time:r.end(u),type:"end"});for(s.sort(function(l,c){return l.time-c.time}),u=0;u<s.length;u++)s[u].type==="start"?(n++,n===2&&(i=s[u].time)):s[u].type==="end"&&(n--,n===1&&(t=s[u].time)),i!==null&&t!==null&&(o.push([i,t]),i=null,t=null);return B.createTimeRanges(o)},Tp=function(e){var r=[];if(!e||!e.length)return"";for(var i=0;i<e.length;i++)r.push(e.start(i)+" => "+e.end(i));return r.join(", ")},Ox=function(e,r,i){i===void 0&&(i=1);var t=e.length?e.end(e.length-1):0;return(t-r)/i},Xr=function(e){for(var r=[],i=0;i<e.length;i++)r.push({start:e.start(i),end:e.end(i)});return r},Fx=function(e,r){if(e===r)return!1;if(!e&&r||!r&&e||e.length!==r.length)return!0;for(var i=0;i<e.length;i++)if(e.start(i)!==r.start(i)||e.end(i)!==r.end(i))return!0;return!1},bp=function(e){if(!(!e||!e.length||!e.end))return e.end(e.length-1)},al=function(e,r){var i=0;if(!e||!e.length)return i;for(var t=0;t<e.length;t++){var n=e.start(t),s=e.end(t);if(!(r>s)){if(r>n&&r<=s){i+=s-r;continue}i+=s-n}}return i},xp=B.createTimeRange,sl=function(e,r){if(!r.preload)return r.duration;var i=0;return(r.parts||[]).forEach(function(t){i+=t.duration}),(r.preloadHints||[]).forEach(function(t){t.type==="PART"&&(i+=e.partTargetDuration)}),i},ol=function(e){return(e.segments||[]).reduce(function(r,i,t){return i.parts?i.parts.forEach(function(n,s){r.push({duration:n.duration,segmentIndex:t,partIndex:s,part:n,segment:i})}):r.push({duration:i.duration,segmentIndex:t,partIndex:null,segment:i,part:null}),r},[])},Sp=function(e){var r=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return r&&r.parts||[]},Ep=function(e){var r=e.preloadSegment;if(!!r){var i=r.parts,t=r.preloadHints,n=(t||[]).reduce(function(s,o){return s+(o.type==="PART"?1:0)},0);return n+=i&&i.length?i.length:0,n}},Cp=function(e,r){if(r.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var i=Sp(r).length>0;return i&&r.serverControl&&r.serverControl.partHoldBack?r.serverControl.partHoldBack:i&&r.partTargetDuration?r.partTargetDuration*3:r.serverControl&&r.serverControl.holdBack?r.serverControl.holdBack:r.targetDuration?r.targetDuration*3:0},Bx=function(e,r){var i=0,t=r-e.mediaSequence,n=e.segments[t];if(n){if(typeof n.start!="undefined")return{result:n.start,precise:!0};if(typeof n.end!="undefined")return{result:n.end-n.duration,precise:!0}}for(;t--;){if(n=e.segments[t],typeof n.end!="undefined")return{result:i+n.end,precise:!0};if(i+=sl(e,n),typeof n.start!="undefined")return{result:i+n.start,precise:!0}}return{result:i,precise:!1}},Rx=function(e,r){for(var i=0,t,n=r-e.mediaSequence;n<e.segments.length;n++){if(t=e.segments[n],typeof t.start!="undefined")return{result:t.start-i,precise:!0};if(i+=sl(e,t),typeof t.end!="undefined")return{result:t.end-i,precise:!0}}return{result:-1,precise:!1}},Dp=function(e,r,i){if(typeof r=="undefined"&&(r=e.mediaSequence+e.segments.length),r<e.mediaSequence)return 0;var t=Bx(e,r);if(t.precise)return t.result;var n=Rx(e,r);return n.precise?n.result:t.result+i},Ap=function(e,r,i){if(!e)return 0;if(typeof i!="number"&&(i=0),typeof r=="undefined"){if(e.totalDuration)return e.totalDuration;if(!e.endList)return P.Infinity}return Dp(e,r,i)},Rn=function(e){var r=e.defaultDuration,i=e.durationList,t=e.startIndex,n=e.endIndex,s=0;if(t>n){var o=[n,t];t=o[0],n=o[1]}if(t<0){for(var u=t;u<Math.min(0,n);u++)s+=r;t=0}for(var l=t;l<n;l++)s+=i[l].duration;return s},wp=function(e,r,i,t){if(!e||!e.segments)return null;if(e.endList)return Ap(e);if(r===null)return null;r=r||0;var n=Dp(e,e.mediaSequence+e.segments.length,r);return i&&(t=typeof t=="number"?t:Cp(null,e),n-=t),Math.max(0,n)},Mx=function(e,r,i){var t=!0,n=r||0,s=wp(e,r,t,i);return s===null?xp():xp(n,s)},Nx=function(e){for(var r=e.playlist,i=e.currentTime,t=e.startingSegmentIndex,n=e.startingPartIndex,s=e.startTime,o=e.experimentalExactManifestTimings,u=i-s,l=ol(r),c=0,d=0;d<l.length;d++){var h=l[d];if(t===h.segmentIndex&&!(typeof n=="number"&&typeof h.partIndex=="number"&&n!==h.partIndex)){c=d;break}}if(u<0){if(c>0)for(var v=c-1;v>=0;v--){var T=l[v];if(u+=T.duration,o){if(u<0)continue}else if(u+Er<=0)continue;return{partIndex:T.partIndex,segmentIndex:T.segmentIndex,startTime:s-Rn({defaultDuration:r.targetDuration,durationList:l,startIndex:c,endIndex:v})}}return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:i}}if(c<0){for(var x=c;x<0;x++)if(u-=r.targetDuration,u<0)return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:i};c=0}for(var y=c;y<l.length;y++){var E=l[y];if(u-=E.duration,o){if(u>0)continue}else if(u-Er>=0)continue;return{partIndex:E.partIndex,segmentIndex:E.segmentIndex,startTime:s+Rn({defaultDuration:r.targetDuration,durationList:l,startIndex:c,endIndex:y})}}return{segmentIndex:l[l.length-1].segmentIndex,partIndex:l[l.length-1].partIndex,startTime:i}},kp=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},ul=function(e){return e.excludeUntil&&e.excludeUntil===1/0},ks=function(e){var r=kp(e);return!e.disabled&&!r},Ux=function(e){return e.disabled},qx=function(e){for(var r=0;r<e.segments.length;r++)if(e.segments[r].key)return!0;return!1},Pp=function(e,r){return r.attributes&&r.attributes[e]},Vx=function(e,r,i,t){if(t===void 0&&(t=0),!Pp("BANDWIDTH",i))return NaN;var n=e*i.attributes.BANDWIDTH;return(n-t*8)/r},ll=function(e,r){if(e.playlists.length===1)return!0;var i=r.attributes.BANDWIDTH||Number.MAX_VALUE;return e.playlists.filter(function(t){return ks(t)?(t.attributes.BANDWIDTH||0)<i:!1}).length===0},cl=function(e,r){return!e&&!r||!e&&r||e&&!r?!1:!!(e===r||e.id&&r.id&&e.id===r.id||e.resolvedUri&&r.resolvedUri&&e.resolvedUri===r.resolvedUri||e.uri&&r.uri&&e.uri===r.uri)},Ip=function(e,r){var i=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},t=!1;for(var n in i){for(var s in i[n])if(t=r(i[n][s]),t)break;if(t)break}return!!t},Mn=function(e){if(!e||!e.playlists||!e.playlists.length){var r=Ip(e,function(s){return s.playlists&&s.playlists.length||s.uri});return r}for(var i=function(o){var u=e.playlists[o],l=u.attributes&&u.attributes.CODECS;if(l&&l.split(",").every(function(d){return Id(d)}))return"continue";var c=Ip(e,function(d){return cl(u,d)});return c?"continue":{v:!1}},t=0;t<e.playlists.length;t++){var n=i(t);if(n!=="continue"&&typeof n=="object")return n.v}return!0},ut={liveEdgeDelay:Cp,duration:Ap,seekable:Mx,getMediaInfoForTime:Nx,isEnabled:ks,isDisabled:Ux,isBlacklisted:kp,isIncompatible:ul,playlistEnd:wp,isAes:qx,hasAttribute:Pp,estimateSegmentRequestTime:Vx,isLowestEnabledRendition:ll,isAudioOnly:Mn,playlistMatch:cl,segmentDurationWithParts:sl},Lp=B.log,dl=function(e,r){return e+"-"+r},Hx=function(e){var r=e.onwarn,i=e.oninfo,t=e.manifestString,n=e.customTagParsers,s=n===void 0?[]:n,o=e.customTagMappers,u=o===void 0?[]:o,l=e.experimentalLLHLS,c=new y2;r&&c.on("warn",r),i&&c.on("info",i),s.forEach(function(x){return c.addParser(x)}),u.forEach(function(x){return c.addTagMapper(x)}),c.push(t),c.end();var d=c.manifest;if(l||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(x){d.hasOwnProperty(x)&&delete d[x]}),d.segments&&d.segments.forEach(function(x){["parts","preloadHints"].forEach(function(y){x.hasOwnProperty(y)&&delete x[y]})})),!d.targetDuration){var h=10;d.segments&&d.segments.length&&(h=d.segments.reduce(function(x,y){return Math.max(x,y.duration)},0)),r&&r("manifest has no targetDuration defaulting to "+h),d.targetDuration=h}var v=Sp(d);if(v.length&&!d.partTargetDuration){var T=v.reduce(function(x,y){return Math.max(x,y.duration)},0);r&&(r("manifest has no partTargetDuration defaulting to "+T),Lp.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),d.partTargetDuration=T}return d},Nn=function(e,r){!e.mediaGroups||["AUDIO","SUBTITLES"].forEach(function(i){if(!!e.mediaGroups[i])for(var t in e.mediaGroups[i])for(var n in e.mediaGroups[i][t]){var s=e.mediaGroups[i][t][n];r(s,i,t,n)}})},Op=function(e){var r=e.playlist,i=e.uri,t=e.id;r.id=t,r.playlistErrors_=0,i&&(r.uri=i),r.attributes=r.attributes||{}},jx=function(e){for(var r=e.playlists.length;r--;){var i=e.playlists[r];Op({playlist:i,id:dl(r,i.uri)}),i.resolvedUri=It(e.uri,i.uri),e.playlists[i.id]=i,e.playlists[i.uri]=i,i.attributes.BANDWIDTH||Lp.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},Gx=function(e){Nn(e,function(r){r.uri&&(r.resolvedUri=It(e.uri,r.uri))})},zx=function(e,r){var i=dl(0,r),t={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:P.location.href,resolvedUri:P.location.href,playlists:[{uri:r,id:i,resolvedUri:r,attributes:{}}]};return t.playlists[i]=t.playlists[0],t.playlists[r]=t.playlists[0],t},Fp=function(e,r){e.uri=r;for(var i=0;i<e.playlists.length;i++)if(!e.playlists[i].uri){var t="placeholder-uri-"+i;e.playlists[i].uri=t}var n=Mn(e);Nn(e,function(s,o,u,l){var c="placeholder-uri-"+o+"-"+u+"-"+l;if(!s.playlists||!s.playlists.length){if(n&&o==="AUDIO"&&!s.uri)for(var d=0;d<e.playlists.length;d++){var h=e.playlists[d];if(h.attributes&&h.attributes.AUDIO&&h.attributes.AUDIO===u)return}s.playlists=[_t({},s)]}s.playlists.forEach(function(v,T){var x=dl(T,c);v.uri?v.resolvedUri=v.resolvedUri||It(e.uri,v.uri):(v.uri=T===0?c:x,v.resolvedUri=v.uri),v.id=v.id||x,v.attributes=v.attributes||{},e.playlists[v.id]=v,e.playlists[v.uri]=v})}),jx(e),Gx(e)},Ps=B.mergeOptions,Wx=B.EventTarget,$x=function(e,r){if(r.endList||!r.serverControl)return e;var i={};if(r.serverControl.canBlockReload){var t=r.preloadSegment,n=r.mediaSequence+r.segments.length;if(t){var s=t.parts||[],o=Ep(r)-1;o>-1&&o!==s.length-1&&(i._HLS_part=o),(o>-1||s.length)&&n--}i._HLS_msn=n}if(r.serverControl&&r.serverControl.canSkipUntil&&(i._HLS_skip=r.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){var u=new P.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(l){!i.hasOwnProperty(l)||u.searchParams.set(l,i[l])}),e=u.toString()}return e},Kx=function(e,r){if(!e)return r;var i=Ps(e,r);if(e.preloadHints&&!r.preloadHints&&delete i.preloadHints,e.parts&&!r.parts)delete i.parts;else if(e.parts&&r.parts)for(var t=0;t<r.parts.length;t++)e.parts&&e.parts[t]&&(i.parts[t]=Ps(e.parts[t],r.parts[t]));return!e.skipped&&r.skipped&&(i.skipped=!1),e.preload&&!r.preload&&(i.preload=!1),i},Xx=function(e,r,i){var t=e.slice(),n=r.slice();i=i||0;for(var s=[],o,u=0;u<n.length;u++){var l=t[u+i],c=n[u];l?(o=l.map||o,s.push(Kx(l,c))):(o&&!c.map&&(c.map=o),s.push(c))}return s},Bp=function(e,r){!e.resolvedUri&&e.uri&&(e.resolvedUri=It(r,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=It(r,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=It(r,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=It(r,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(i){i.resolvedUri||(i.resolvedUri=It(r,i.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(i){i.resolvedUri||(i.resolvedUri=It(r,i.uri))})},Rp=function(e){var r=e.segments||[],i=e.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints){for(var t=0;t<i.preloadHints.length;t++)if(i.preloadHints[t].type==="MAP")return r}i.duration=e.targetDuration,i.preload=!0,r.push(i)}return r},Mp=function(e,r){return e===r||e.segments&&r.segments&&e.segments.length===r.segments.length&&e.endList===r.endList&&e.mediaSequence===r.mediaSequence&&e.preloadSegment===r.preloadSegment},fl=function(e,r,i){i===void 0&&(i=Mp);var t=Ps(e,{}),n=t.playlists[r.id];if(!n||i(n,r))return null;r.segments=Rp(r);var s=Ps(n,r);if(s.preloadSegment&&!r.preloadSegment&&delete s.preloadSegment,n.segments){if(r.skip){r.segments=r.segments||[];for(var o=0;o<r.skip.skippedSegments;o++)r.segments.unshift({skipped:!0})}s.segments=Xx(n.segments,r.segments,r.mediaSequence-n.mediaSequence)}s.segments.forEach(function(l){Bp(l,s.resolvedUri)});for(var u=0;u<t.playlists.length;u++)t.playlists[u].id===r.id&&(t.playlists[u]=s);return t.playlists[r.id]=s,t.playlists[r.uri]=s,Nn(e,function(l,c,d,h){if(!!l.playlists)for(var v=0;v<l.playlists.length;v++)r.id===l.playlists[v].id&&(l.playlists[v]=r)}),t},hl=function(e,r){var i=e.segments||[],t=i[i.length-1],n=t&&t.parts&&t.parts[t.parts.length-1],s=n&&n.duration||t&&t.duration;return r&&s?s*1e3:(e.partTargetDuration||e.targetDuration||10)*500},Ri=function(a){$(e,a);function e(i,t,n){var s;if(n===void 0&&(n={}),s=a.call(this)||this,!i)throw new Error("A non-empty playlist URL or object is required");s.logger_=Lt("PlaylistLoader");var o=n,u=o.withCredentials,l=u===void 0?!1:u,c=o.handleManifestRedirects,d=c===void 0?!1:c;s.src=i,s.vhs_=t,s.withCredentials=l,s.handleManifestRedirects=d;var h=t.options_;return s.customTagParsers=h&&h.customTagParsers||[],s.customTagMappers=h&&h.customTagMappers||[],s.experimentalLLHLS=h&&h.experimentalLLHLS||!1,B.browser.IE_VERSION&&(s.experimentalLLHLS=!1),s.state="HAVE_NOTHING",s.handleMediaupdatetimeout_=s.handleMediaupdatetimeout_.bind(se(s)),s.on("mediaupdatetimeout",s.handleMediaupdatetimeout_),s}var r=e.prototype;return r.handleMediaupdatetimeout_=function(){var t=this;if(this.state==="HAVE_METADATA"){var n=this.media(),s=It(this.master.uri,n.uri);this.experimentalLLHLS&&(s=$x(s,n)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:s,withCredentials:this.withCredentials},function(o,u){if(!!t.request){if(o)return t.playlistRequestError(t.request,t.media(),"HAVE_METADATA");t.haveMetadata({playlistString:t.request.responseText,url:t.media().uri,id:t.media().id})}})}},r.playlistRequestError=function(t,n,s){var o=n.uri,u=n.id;this.request=null,s&&(this.state=s),this.error={playlist:this.master.playlists[u],status:t.status,message:"HLS playlist request error at URL: "+o+".",responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")},r.parseManifest_=function(t){var n=this,s=t.url,o=t.manifestString;return Hx({onwarn:function(l){var c=l.message;return n.logger_("m3u8-parser warn for "+s+": "+c)},oninfo:function(l){var c=l.message;return n.logger_("m3u8-parser info for "+s+": "+c)},manifestString:o,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},r.haveMetadata=function(t){var n=t.playlistString,s=t.playlistObject,o=t.url,u=t.id;this.request=null,this.state="HAVE_METADATA";var l=s||this.parseManifest_({url:o,manifestString:n});l.lastRequest=Date.now(),Op({playlist:l,uri:o,id:u});var c=fl(this.master,l);this.targetDuration=l.partTargetDuration||l.targetDuration,this.pendingMedia_=null,c?(this.master=c,this.media_=this.master.playlists[u]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(hl(this.media(),!!c)),this.trigger("loadedplaylist")},r.dispose=function(){this.trigger("dispose"),this.stopRequest(),P.clearTimeout(this.mediaUpdateTimeout),P.clearTimeout(this.finalRenditionTimeout),this.off()},r.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},r.media=function(t,n){var s=this;if(!t)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof t=="string"){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}if(P.clearTimeout(this.finalRenditionTimeout),n){var o=(t.partTargetDuration||t.targetDuration)/2*1e3||5*1e3;this.finalRenditionTimeout=P.setTimeout(this.media.bind(this,t,!1),o);return}var u=this.state,l=!this.media_||t.id!==this.media_.id,c=this.master.playlists[t.id];if(c&&c.endList||t.endList&&t.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,l&&(this.trigger("mediachanging"),u==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(hl(t,!0)),!!l){if(this.state="SWITCHING_MEDIA",this.request){if(t.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=t,this.request=this.vhs_.xhr({uri:t.resolvedUri,withCredentials:this.withCredentials},function(d,h){if(!!s.request){if(t.lastRequest=Date.now(),t.resolvedUri=As(s.handleManifestRedirects,t.resolvedUri,h),d)return s.playlistRequestError(s.request,t,u);s.haveMetadata({playlistString:h.responseText,url:t.uri,id:t.id}),u==="HAVE_MASTER"?s.trigger("loadedmetadata"):s.trigger("mediachange")}})}},r.pause=function(){this.mediaUpdateTimeout&&(P.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},r.load=function(t){var n=this;this.mediaUpdateTimeout&&(P.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var s=this.media();if(t){var o=s?(s.partTargetDuration||s.targetDuration)/2*1e3:5*1e3;this.mediaUpdateTimeout=P.setTimeout(function(){n.mediaUpdateTimeout=null,n.load()},o);return}if(!this.started){this.start();return}s&&!s.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},r.updateMediaUpdateTimeout_=function(t){var n=this;this.mediaUpdateTimeout&&(P.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=P.setTimeout(function(){n.mediaUpdateTimeout=null,n.trigger("mediaupdatetimeout"),n.updateMediaUpdateTimeout_(t)},t))},r.start=function(){var t=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=P.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){t.setupInitialPlaylist(t.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(n,s){if(!!t.request){if(t.request=null,n)return t.error={status:s.status,message:"HLS playlist request error at URL: "+t.src+".",responseText:s.responseText,code:2},t.state==="HAVE_NOTHING"&&(t.started=!1),t.trigger("error");t.src=As(t.handleManifestRedirects,t.src,s);var o=t.parseManifest_({manifestString:s.responseText,url:t.src});t.setupInitialPlaylist(o)}})},r.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},r.setupInitialPlaylist=function(t){if(this.state="HAVE_MASTER",t.playlists){this.master=t,Fp(this.master,this.srcUri()),t.playlists.forEach(function(s){s.segments=Rp(s),s.segments.forEach(function(o){Bp(o,s.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var n=this.srcUri()||P.location.href;this.master=zx(t,n),this.haveMetadata({playlistObject:t,url:n,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},e}(Wx),Qx=B.xhr,Yx=B.mergeOptions,pl=function(e,r,i,t){var n=e.responseType==="arraybuffer"?e.response:e.responseText;!r&&n&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=n.byteLength||n.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),i.headers&&(e.responseHeaders=i.headers),r&&r.code==="ETIMEDOUT"&&(e.timedout=!0),!r&&!e.aborted&&i.statusCode!==200&&i.statusCode!==206&&i.statusCode!==0&&(r=new Error("XHR Failed with a response of: "+(e&&(n||e.responseText)))),t(r,e)},Np=function(){var e=function r(i,t){i=Yx({timeout:45e3},i);var n=r.beforeRequest||B.Vhs.xhr.beforeRequest;if(n&&typeof n=="function"){var s=n(i);s&&(i=s)}var o=B.Vhs.xhr.original===!0?Qx:B.Vhs.xhr,u=o(i,function(c,d){return pl(u,c,d,t)}),l=u.abort;return u.abort=function(){return u.aborted=!0,l.apply(u,arguments)},u.uri=i.uri,u.requestTime=Date.now(),u};return e.original=!0,e},Jx=function(e){var r=e.offset+e.length-1,i=e.offset;return"bytes="+i+"-"+r},ml=function(e){var r={};return e.byterange&&(r.Range=Jx(e.byterange)),r},Zx=function(e,r){return e.start(r)+"-"+e.end(r)},eS=function(e,r){var i=e.toString(16);return"00".substring(0,2-i.length)+i+(r%2?" ":"")},tS=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},Up=function(e){var r={};return Object.keys(e).forEach(function(i){var t=e[i];ArrayBuffer.isView(t)?r[i]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:r[i]=t}),r},Is=function(e){var r=e.byterange||{length:1/0,offset:0};return[r.length,r.offset,e.resolvedUri].join(",")},qp=function(e){return e.resolvedUri},Vp=function(e){for(var r=Array.prototype.slice.call(e),i=16,t="",n,s,o=0;o<r.length/i;o++)n=r.slice(o*i,o*i+i).map(eS).join(""),s=r.slice(o*i,o*i+i).map(tS).join(""),t+=n+" "+s+`
`;return t},rS=function(e){var r=e.bytes;return Vp(r)},iS=function(e){var r="",i;for(i=0;i<e.length;i++)r+=Zx(e,i)+" ";return r},nS=Object.freeze({__proto__:null,createTransferableMessage:Up,initSegmentId:Is,segmentKeyId:qp,hexDump:Vp,tagDump:rS,textRanges:iS}),Hp=.25,aS=function(e,r){if(!r.dateTimeObject)return null;var i=r.videoTimingInfo.transmuxerPrependedSeconds,t=r.videoTimingInfo.transmuxedPresentationStart,n=t+i,s=e-n;return new Date(r.dateTimeObject.getTime()+s*1e3)},sS=function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},oS=function(e,r){var i;try{i=new Date(e)}catch{return null}if(!r||!r.segments||r.segments.length===0)return null;var t=r.segments[0];if(i<t.dateTimeObject)return null;for(var n=0;n<r.segments.length-1;n++){t=r.segments[n];var s=r.segments[n+1].dateTimeObject;if(i<s)break}var o=r.segments[r.segments.length-1],u=o.dateTimeObject,l=o.videoTimingInfo?sS(o.videoTimingInfo):o.duration+o.duration*Hp,c=new Date(u.getTime()+l*1e3);return i>c?null:(i>u&&(t=o),{segment:t,estimatedStart:t.videoTimingInfo?t.videoTimingInfo.transmuxedPresentationStart:ut.duration(r,r.mediaSequence+r.segments.indexOf(t)),type:t.videoTimingInfo?"accurate":"estimate"})},uS=function(e,r){if(!r||!r.segments||r.segments.length===0)return null;for(var i=0,t,n=0;n<r.segments.length&&(t=r.segments[n],i=t.videoTimingInfo?t.videoTimingInfo.transmuxedPresentationEnd:i+t.duration,!(e<=i));n++);var s=r.segments[r.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>i){if(e>i+s.duration*Hp)return null;t=s}return{segment:t,estimatedStart:t.videoTimingInfo?t.videoTimingInfo.transmuxedPresentationStart:i-t.duration,type:t.videoTimingInfo?"accurate":"estimate"}},lS=function(e,r){var i,t;try{i=new Date(e),t=new Date(r)}catch{}var n=i.getTime(),s=t.getTime();return(s-n)/1e3},cS=function(e){if(!e.segments||e.segments.length===0)return!1;for(var r=0;r<e.segments.length;r++){var i=e.segments[r];if(!i.dateTimeObject)return!1}return!0},dS=function(e){var r=e.playlist,i=e.time,t=i===void 0?void 0:i,n=e.callback;if(!n)throw new Error("getProgramTime: callback must be provided");if(!r||t===void 0)return n({message:"getProgramTime: playlist and time must be provided"});var s=uS(t,r);if(!s)return n({message:"valid programTime was not found"});if(s.type==="estimate")return n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});var o={mediaSeconds:t},u=aS(t,s.segment);return u&&(o.programDateTime=u.toISOString()),n(null,o)},fS=function a(e){var r=e.programTime,i=e.playlist,t=e.retryCount,n=t===void 0?2:t,s=e.seekTo,o=e.pauseAfterSeek,u=o===void 0?!0:o,l=e.tech,c=e.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(typeof r=="undefined"||!i||!s)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!l.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!cS(i))return c({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var d=oS(r,i);if(!d)return c({message:r+" was not found in the stream"});var h=d.segment,v=lS(h.dateTimeObject,r);if(d.type==="estimate"){if(n===0)return c({message:r+" is not buffered yet. Try again"});s(d.estimatedStart+v),l.one("seeked",function(){a({programTime:r,playlist:i,retryCount:n-1,seekTo:s,pauseAfterSeek:u,tech:l,callback:c})});return}var T=h.start+v,x=function(){return c(null,l.currentTime())};l.one("seeked",x),u&&l.pause(),s(T)},gl=function(e,r){if(e.readyState===4)return r()},hS=function(e,r,i){var t=[],n,s=!1,o=function(h,v,T,x){return v.abort(),s=!0,i(h,v,T,x)},u=function(h,v){if(!s){if(h)return o(h,v,"",t);var T=v.responseText.substring(t&&t.byteLength||0,v.responseText.length);if(t=qT(t,kf(T,!0)),n=n||bn(t),t.length<10||n&&t.length<n+2)return gl(v,function(){return o(h,v,"",t)});var x=ru(t);return x==="ts"&&t.length<188?gl(v,function(){return o(h,v,"",t)}):!x&&t.length<376?gl(v,function(){return o(h,v,"",t)}):o(null,v,x,t)}},l={uri:e,beforeSend:function(h){h.overrideMimeType("text/plain; charset=x-user-defined"),h.addEventListener("progress",function(v){return v.total,v.loaded,pl(h,null,{statusCode:h.status},u)})}},c=r(l,function(d,h){return pl(c,d,h,u)});return c},pS=B.EventTarget,jp=B.mergeOptions,Gp=function(e,r){if(!Mp(e,r)||e.sidx&&r.sidx&&(e.sidx.offset!==r.sidx.offset||e.sidx.length!==r.sidx.length))return!1;if(!e.sidx&&r.sidx||e.sidx&&!r.sidx||e.segments&&!r.segments||!e.segments&&r.segments)return!1;if(!e.segments&&!r.segments)return!0;for(var i=0;i<e.segments.length;i++){var t=e.segments[i],n=r.segments[i];if(t.uri!==n.uri)return!1;if(!(!t.byterange&&!n.byterange)){var s=t.byterange,o=n.byterange;if(s&&!o||!s&&o||s.offset!==o.offset||s.length!==o.length)return!1}}return!0},mS=function(e){var r=e.masterXml,i=e.srcUrl,t=e.clientOffset,n=e.sidxMapping,s=IT(r,{manifestUri:i,clientOffset:t,sidxMapping:n});return Fp(s,i),s},gS=function(e,r,i){for(var t=!0,n=jp(e,{duration:r.duration,minimumUpdatePeriod:r.minimumUpdatePeriod}),s=0;s<r.playlists.length;s++){var o=r.playlists[s];if(o.sidx){var u=$a(o.sidx);i&&i[u]&&i[u].sidx&&Xo(o,i[u].sidx,o.sidx.resolvedUri)}var l=fl(n,o,Gp);l&&(n=l,t=!1)}return Nn(r,function(c,d,h,v){if(c.playlists&&c.playlists.length){var T=c.playlists[0].id,x=fl(n,c.playlists[0],Gp);x&&(n=x,n.mediaGroups[d][h][v].playlists[0]=n.playlists[T],t=!1)}}),r.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(t=!1),t?null:n},vS=function(e,r){var i=Boolean(!e.map&&!r.map),t=i||Boolean(e.map&&r.map&&e.map.byterange.offset===r.map.byterange.offset&&e.map.byterange.length===r.map.byterange.length);return t&&e.uri===r.uri&&e.byterange.offset===r.byterange.offset&&e.byterange.length===r.byterange.length},zp=function(e,r){var i={};for(var t in e){var n=e[t],s=n.sidx;if(s){var o=$a(s);if(!r[o])break;var u=r[o].sidxInfo;vS(u,s)&&(i[o]=r[o])}}return i},yS=function(e,r){var i=zp(e.playlists,r),t=i;return Nn(e,function(n,s,o,u){if(n.playlists&&n.playlists.length){var l=n.playlists;t=jp(t,zp(l,r))}}),t},vl=function(a){$(e,a);function e(i,t,n,s){var o;n===void 0&&(n={}),o=a.call(this)||this,o.masterPlaylistLoader_=s||se(o),s||(o.isMaster_=!0);var u=n,l=u.withCredentials,c=l===void 0?!1:l,d=u.handleManifestRedirects,h=d===void 0?!1:d;if(o.vhs_=t,o.withCredentials=c,o.handleManifestRedirects=h,!i)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",function(){o.refreshXml_()}),o.on("mediaupdatetimeout",function(){o.refreshMedia_(o.media().id)}),o.state="HAVE_NOTHING",o.loadedPlaylists_={},o.logger_=Lt("DashPlaylistLoader"),o.isMaster_?(o.masterPlaylistLoader_.srcUrl=i,o.masterPlaylistLoader_.sidxMapping_={}):o.childPlaylist_=i,o}var r=e.prototype;return r.requestErrored_=function(t,n,s){if(!this.request)return!0;if(this.request=null,t)return this.error=typeof t=="object"&&!(t instanceof Error)?t:{status:n.status,message:"DASH request error at URL: "+n.uri,response:n.response,code:2},s&&(this.state=s),this.trigger("error"),!0},r.addSidxSegments_=function(t,n,s){var o=this,u=t.sidx&&$a(t.sidx);if(!t.sidx||!u||this.masterPlaylistLoader_.sidxMapping_[u]){this.mediaRequest_=P.setTimeout(function(){return s(!1)},0);return}var l=As(this.handleManifestRedirects,t.sidx.resolvedUri),c=function(h,v){if(!o.requestErrored_(h,v,n)){var T=o.masterPlaylistLoader_.sidxMapping_,x;try{x=FT(ie(v.response).subarray(8))}catch(y){o.requestErrored_(y,v,n);return}return T[u]={sidxInfo:t.sidx,sidx:x},Xo(t,x,t.sidx.resolvedUri),s(!0)}};this.request=hS(l,this.vhs_.xhr,function(d,h,v,T){if(d)return c(d,h);if(!v||v!=="mp4")return c({status:h.status,message:"Unsupported "+(v||"unknown")+" container type for sidx segment at URL: "+l,response:"",playlist:t,internal:!0,blacklistDuration:1/0,code:2},h);var x=t.sidx.byterange,y=x.offset,E=x.length;if(T.length>=E+y)return c(d,{response:T.subarray(y,y+E),status:h.status,uri:h.uri});o.request=o.vhs_.xhr({uri:l,responseType:"arraybuffer",headers:ml({byterange:t.sidx.byterange})},c)})},r.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},P.clearTimeout(this.minimumUpdatePeriodTimeout_),P.clearTimeout(this.mediaRequest_),P.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},r.hasPendingRequest=function(){return this.request||this.mediaRequest_},r.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},r.media=function(t){var n=this;if(!t)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var s=this.state;if(typeof t=="string"){if(!this.masterPlaylistLoader_.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.masterPlaylistLoader_.master.playlists[t]}var o=!this.media_||t.id!==this.media_.id;if(o&&this.loadedPlaylists_[t.id]&&this.loadedPlaylists_[t.id].endList){this.state="HAVE_METADATA",this.media_=t,o&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}!o||(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(t,s,function(u){n.haveMetadata({startingState:s,playlist:t})}))},r.haveMetadata=function(t){var n=t.startingState,s=t.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[s.id]=s,this.mediaRequest_=null,this.refreshMedia_(s.id),n==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},r.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),P.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(P.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},r.load=function(t){var n=this;P.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var s=this.media();if(t){var o=s?s.targetDuration/2*1e3:5*1e3;this.mediaUpdateTimeout=P.setTimeout(function(){return n.load()},o);return}if(!this.started){this.start();return}s&&!s.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},r.start=function(){var t=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=P.setTimeout(function(){return t.haveMaster_()},0);return}this.requestMaster_(function(n,s){t.haveMaster_(),!t.hasPendingRequest()&&!t.media_&&t.media(t.masterPlaylistLoader_.master.playlists[0])})},r.requestMaster_=function(t){var n=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(s,o){if(n.requestErrored_(s,o)){n.state==="HAVE_NOTHING"&&(n.started=!1);return}var u=o.responseText!==n.masterPlaylistLoader_.masterXml_;if(n.masterPlaylistLoader_.masterXml_=o.responseText,o.responseHeaders&&o.responseHeaders.date?n.masterLoaded_=Date.parse(o.responseHeaders.date):n.masterLoaded_=Date.now(),n.masterPlaylistLoader_.srcUrl=As(n.handleManifestRedirects,n.masterPlaylistLoader_.srcUrl,o),u){n.handleMaster_(),n.syncClientServerClock_(function(){return t(o,u)});return}return t(o,u)})},r.syncClientServerClock_=function(t){var n=this,s=LT(this.masterPlaylistLoader_.masterXml_);if(s===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),t();if(s.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=s.value-Date.now(),t();this.request=this.vhs_.xhr({uri:It(this.masterPlaylistLoader_.srcUrl,s.value),method:s.method,withCredentials:this.withCredentials},function(o,u){if(!!n.request){if(o)return n.masterPlaylistLoader_.clientOffset_=n.masterLoaded_-Date.now(),t();var l;s.method==="HEAD"?!u.responseHeaders||!u.responseHeaders.date?l=n.masterLoaded_:l=Date.parse(u.responseHeaders.date):l=Date.parse(u.responseText),n.masterPlaylistLoader_.clientOffset_=l-Date.now(),t()}})},r.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},r.handleMaster_=function(){this.mediaRequest_=null;var t=mS({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_}),n=this.masterPlaylistLoader_.master;n&&(t=gS(n,t,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=t||n;var s=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return s&&s!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=s),(!n||t&&t.minimumUpdatePeriod!==n.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(t)},r.updateMinimumUpdatePeriodTimeout_=function(){var t=this.masterPlaylistLoader_;t.createMupOnMedia_&&(t.off("loadedmetadata",t.createMupOnMedia_),t.createMupOnMedia_=null),t.minimumUpdatePeriodTimeout_&&(P.clearTimeout(t.minimumUpdatePeriodTimeout_),t.minimumUpdatePeriodTimeout_=null);var n=t.master&&t.master.minimumUpdatePeriod;if(n===0&&(t.media()?n=t.media().targetDuration*1e3:(t.createMupOnMedia_=t.updateMinimumUpdatePeriodTimeout_,t.one("loadedmetadata",t.createMupOnMedia_))),typeof n!="number"||n<=0){n<0&&this.logger_("found invalid minimumUpdatePeriod of "+n+", not setting a timeout");return}this.createMUPTimeout_(n)},r.createMUPTimeout_=function(t){var n=this.masterPlaylistLoader_;n.minimumUpdatePeriodTimeout_=P.setTimeout(function(){n.minimumUpdatePeriodTimeout_=null,n.trigger("minimumUpdatePeriod"),n.createMUPTimeout_(t)},t)},r.refreshXml_=function(){var t=this;this.requestMaster_(function(n,s){!s||(t.media_&&(t.media_=t.masterPlaylistLoader_.master.playlists[t.media_.id]),t.masterPlaylistLoader_.sidxMapping_=yS(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.sidxMapping_),t.addSidxSegments_(t.media(),t.state,function(o){t.refreshMedia_(t.media().id)}))})},r.refreshMedia_=function(t){var n=this;if(!t)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var s=this.masterPlaylistLoader_.master.playlists,o=!this.media_||this.media_!==s[t];if(o?this.media_=s[t]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var u=function l(){n.media().endList||(n.mediaUpdateTimeout=P.setTimeout(function(){n.trigger("mediaupdatetimeout"),l()},hl(n.media(),Boolean(o))))};u()}this.trigger("loadedplaylist")},e}(pS),Ue={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},_S=function(e){for(var r=new Uint8Array(new ArrayBuffer(e.length)),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r.buffer},Wp=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},TS=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch{var r=new BlobBuilder;return r.append(e),URL.createObjectURL(r.getBlob())}},$p=function(e){return function(){var r=TS(e),i=Wp(new Worker(r));i.objURL=r;var t=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(r),t.call(this)},i}},Kp=function(e){return"var browserWorkerPolyFill = "+Wp.toString()+`;
browserWorkerPolyFill(self);
`+e},Xp=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},bS=Kp(Xp(function(){var a=function(){this.init=function(){var f={};this.on=function(m,p){f[m]||(f[m]=[]),f[m]=f[m].concat(p)},this.off=function(m,p){var g;return f[m]?(g=f[m].indexOf(p),f[m]=f[m].slice(),f[m].splice(g,1),g>-1):!1},this.trigger=function(m){var p,g,_,b;if(p=f[m],!!p)if(arguments.length===2)for(_=p.length,g=0;g<_;++g)p[g].call(this,arguments[1]);else{for(b=[],g=arguments.length,g=1;g<arguments.length;++g)b.push(arguments[g]);for(_=p.length,g=0;g<_;++g)p[g].apply(this,b)}},this.dispose=function(){f={}}}};a.prototype.pipe=function(S){return this.on("data",function(f){S.push(f)}),this.on("done",function(f){S.flush(f)}),this.on("partialdone",function(f){S.partialFlush(f)}),this.on("endedtimeline",function(f){S.endTimeline(f)}),this.on("reset",function(f){S.reset(f)}),S},a.prototype.push=function(S){this.trigger("data",S)},a.prototype.flush=function(S){this.trigger("done",S)},a.prototype.partialFlush=function(S){this.trigger("partialdone",S)},a.prototype.endTimeline=function(S){this.trigger("endedtimeline",S)},a.prototype.reset=function(S){this.trigger("reset",S)};var e=a,r=Math.pow(2,32)-1,i,t,n,s,o,u,l,c,d,h,v,T,x,y,E,D,A,L,O,N,V,M,R,U,G,Y,te,H,K,X,ae,Ce,Z,ue,he,Se;(function(){var S;if(R={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},typeof Uint8Array!="undefined"){for(S in R)R.hasOwnProperty(S)&&(R[S]=[S.charCodeAt(0),S.charCodeAt(1),S.charCodeAt(2),S.charCodeAt(3)]);U=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Y=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),G=new Uint8Array([0,0,0,1]),te=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),H=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),K={video:te,audio:H},Ce=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ae=new Uint8Array([0,0,0,0,0,0,0,0]),Z=new Uint8Array([0,0,0,0,0,0,0,0]),ue=Z,he=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Se=Z,X=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),i=function(f){var m=[],p=0,g,_,b;for(g=1;g<arguments.length;g++)m.push(arguments[g]);for(g=m.length;g--;)p+=m[g].byteLength;for(_=new Uint8Array(p+8),b=new DataView(_.buffer,_.byteOffset,_.byteLength),b.setUint32(0,_.byteLength),_.set(f,4),g=0,p=8;g<m.length;g++)_.set(m[g],p),p+=m[g].byteLength;return _},t=function(){return i(R.dinf,i(R.dref,Ce))},n=function(f){return i(R.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,f.audioobjecttype<<3|f.samplingfrequencyindex>>>1,f.samplingfrequencyindex<<7|f.channelcount<<3,6,1,2]))},s=function(){return i(R.ftyp,U,G,U,Y)},D=function(f){return i(R.hdlr,K[f])},o=function(f){return i(R.mdat,f)},E=function(f){var m=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,f.duration>>>24&255,f.duration>>>16&255,f.duration>>>8&255,f.duration&255,85,196,0,0]);return f.samplerate&&(m[12]=f.samplerate>>>24&255,m[13]=f.samplerate>>>16&255,m[14]=f.samplerate>>>8&255,m[15]=f.samplerate&255),i(R.mdhd,m)},y=function(f){return i(R.mdia,E(f),D(f.type),l(f))},u=function(f){return i(R.mfhd,new Uint8Array([0,0,0,0,(f&4278190080)>>24,(f&16711680)>>16,(f&65280)>>8,f&255]))},l=function(f){return i(R.minf,f.type==="video"?i(R.vmhd,X):i(R.smhd,ae),t(),L(f))},c=function(f,m){for(var p=[],g=m.length;g--;)p[g]=N(m[g]);return i.apply(null,[R.moof,u(f)].concat(p))},d=function(f){for(var m=f.length,p=[];m--;)p[m]=T(f[m]);return i.apply(null,[R.moov,v(4294967295)].concat(p).concat(h(f)))},h=function(f){for(var m=f.length,p=[];m--;)p[m]=V(f[m]);return i.apply(null,[R.mvex].concat(p))},v=function(f){var m=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(f&4278190080)>>24,(f&16711680)>>16,(f&65280)>>8,f&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i(R.mvhd,m)},A=function(f){var m=f.samples||[],p=new Uint8Array(4+m.length),g,_;for(_=0;_<m.length;_++)g=m[_].flags,p[_+4]=g.dependsOn<<4|g.isDependedOn<<2|g.hasRedundancy;return i(R.sdtp,p)},L=function(f){return i(R.stbl,O(f),i(R.stts,Se),i(R.stsc,ue),i(R.stsz,he),i(R.stco,Z))},function(){var S,f;O=function(p){return i(R.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),p.type==="video"?S(p):f(p))},S=function(p){var g=p.sps||[],_=p.pps||[],b=[],C=[],w,I;for(w=0;w<g.length;w++)b.push((g[w].byteLength&65280)>>>8),b.push(g[w].byteLength&255),b=b.concat(Array.prototype.slice.call(g[w]));for(w=0;w<_.length;w++)C.push((_[w].byteLength&65280)>>>8),C.push(_[w].byteLength&255),C=C.concat(Array.prototype.slice.call(_[w]));if(I=[R.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(p.width&65280)>>8,p.width&255,(p.height&65280)>>8,p.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),i(R.avcC,new Uint8Array([1,p.profileIdc,p.profileCompatibility,p.levelIdc,255].concat([g.length],b,[_.length],C))),i(R.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],p.sarRatio){var k=p.sarRatio[0],F=p.sarRatio[1];I.push(i(R.pasp,new Uint8Array([(k&4278190080)>>24,(k&16711680)>>16,(k&65280)>>8,k&255,(F&4278190080)>>24,(F&16711680)>>16,(F&65280)>>8,F&255])))}return i.apply(null,I)},f=function(p){return i(R.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(p.channelcount&65280)>>8,p.channelcount&255,(p.samplesize&65280)>>8,p.samplesize&255,0,0,0,0,(p.samplerate&65280)>>8,p.samplerate&255,0,0]),n(p))}}(),x=function(f){var m=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(f.id&4278190080)>>24,(f.id&16711680)>>16,(f.id&65280)>>8,f.id&255,0,0,0,0,(f.duration&4278190080)>>24,(f.duration&16711680)>>16,(f.duration&65280)>>8,f.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(f.width&65280)>>8,f.width&255,0,0,(f.height&65280)>>8,f.height&255,0,0]);return i(R.tkhd,m)},N=function(f){var m,p,g,_,b,C,w;return m=i(R.tfhd,new Uint8Array([0,0,0,58,(f.id&4278190080)>>24,(f.id&16711680)>>16,(f.id&65280)>>8,f.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),C=Math.floor(f.baseMediaDecodeTime/(r+1)),w=Math.floor(f.baseMediaDecodeTime%(r+1)),p=i(R.tfdt,new Uint8Array([1,0,0,0,C>>>24&255,C>>>16&255,C>>>8&255,C&255,w>>>24&255,w>>>16&255,w>>>8&255,w&255])),b=32+20+8+16+8+8,f.type==="audio"?(g=M(f,b),i(R.traf,m,p,g)):(_=A(f),g=M(f,_.length+b),i(R.traf,m,p,g,_))},T=function(f){return f.duration=f.duration||4294967295,i(R.trak,x(f),y(f))},V=function(f){var m=new Uint8Array([0,0,0,0,(f.id&4278190080)>>24,(f.id&16711680)>>16,(f.id&65280)>>8,f.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return f.type!=="video"&&(m[m.length-1]=0),i(R.trex,m)},function(){var S,f,m;m=function(g,_){var b=0,C=0,w=0,I=0;return g.length&&(g[0].duration!==void 0&&(b=1),g[0].size!==void 0&&(C=2),g[0].flags!==void 0&&(w=4),g[0].compositionTimeOffset!==void 0&&(I=8)),[0,0,b|C|w|I,1,(g.length&4278190080)>>>24,(g.length&16711680)>>>16,(g.length&65280)>>>8,g.length&255,(_&4278190080)>>>24,(_&16711680)>>>16,(_&65280)>>>8,_&255]},f=function(g,_){var b,C,w,I,k,F;for(I=g.samples||[],_+=8+12+16*I.length,w=m(I,_),C=new Uint8Array(w.length+I.length*16),C.set(w),b=w.length,F=0;F<I.length;F++)k=I[F],C[b++]=(k.duration&4278190080)>>>24,C[b++]=(k.duration&16711680)>>>16,C[b++]=(k.duration&65280)>>>8,C[b++]=k.duration&255,C[b++]=(k.size&4278190080)>>>24,C[b++]=(k.size&16711680)>>>16,C[b++]=(k.size&65280)>>>8,C[b++]=k.size&255,C[b++]=k.flags.isLeading<<2|k.flags.dependsOn,C[b++]=k.flags.isDependedOn<<6|k.flags.hasRedundancy<<4|k.flags.paddingValue<<1|k.flags.isNonSyncSample,C[b++]=k.flags.degradationPriority&240<<8,C[b++]=k.flags.degradationPriority&15,C[b++]=(k.compositionTimeOffset&4278190080)>>>24,C[b++]=(k.compositionTimeOffset&16711680)>>>16,C[b++]=(k.compositionTimeOffset&65280)>>>8,C[b++]=k.compositionTimeOffset&255;return i(R.trun,C)},S=function(g,_){var b,C,w,I,k,F;for(I=g.samples||[],_+=8+12+8*I.length,w=m(I,_),b=new Uint8Array(w.length+I.length*8),b.set(w),C=w.length,F=0;F<I.length;F++)k=I[F],b[C++]=(k.duration&4278190080)>>>24,b[C++]=(k.duration&16711680)>>>16,b[C++]=(k.duration&65280)>>>8,b[C++]=k.duration&255,b[C++]=(k.size&4278190080)>>>24,b[C++]=(k.size&16711680)>>>16,b[C++]=(k.size&65280)>>>8,b[C++]=k.size&255;return i(R.trun,b)},M=function(g,_){return g.type==="audio"?S(g,_):f(g,_)}}();var Oe={ftyp:s,mdat:o,moof:c,moov:d,initSegment:function(f){var m=s(),p=d(f),g;return g=new Uint8Array(m.byteLength+p.byteLength),g.set(m),g.set(p,m.byteLength),g}},vt=function(f){var m,p,g=[],_=[];for(_.byteLength=0,_.nalCount=0,_.duration=0,g.byteLength=0,m=0;m<f.length;m++)p=f[m],p.nalUnitType==="access_unit_delimiter_rbsp"?(g.length&&(g.duration=p.dts-g.dts,_.byteLength+=g.byteLength,_.nalCount+=g.length,_.duration+=g.duration,_.push(g)),g=[p],g.byteLength=p.data.byteLength,g.pts=p.pts,g.dts=p.dts):(p.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(g.keyFrame=!0),g.duration=p.dts-g.dts,g.byteLength+=p.data.byteLength,g.push(p));return _.length&&(!g.duration||g.duration<=0)&&(g.duration=_[_.length-1].duration),_.byteLength+=g.byteLength,_.nalCount+=g.length,_.duration+=g.duration,_.push(g),_},Qr=function(f){var m,p,g=[],_=[];for(g.byteLength=0,g.nalCount=0,g.duration=0,g.pts=f[0].pts,g.dts=f[0].dts,_.byteLength=0,_.nalCount=0,_.duration=0,_.pts=f[0].pts,_.dts=f[0].dts,m=0;m<f.length;m++)p=f[m],p.keyFrame?(g.length&&(_.push(g),_.byteLength+=g.byteLength,_.nalCount+=g.nalCount,_.duration+=g.duration),g=[p],g.nalCount=p.length,g.byteLength=p.byteLength,g.pts=p.pts,g.dts=p.dts,g.duration=p.duration):(g.duration+=p.duration,g.nalCount+=p.length,g.byteLength+=p.byteLength,g.push(p));return _.length&&g.duration<=0&&(g.duration=_[_.length-1].duration),_.byteLength+=g.byteLength,_.nalCount+=g.nalCount,_.duration+=g.duration,_.push(g),_},dr=function(f){var m;return!f[0][0].keyFrame&&f.length>1&&(m=f.shift(),f.byteLength-=m.byteLength,f.nalCount-=m.nalCount,f[0][0].dts=m.dts,f[0][0].pts=m.pts,f[0][0].duration+=m.duration),f},Fe=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Cr=function(f,m){var p=Fe();return p.dataOffset=m,p.compositionTimeOffset=f.pts-f.dts,p.duration=f.duration,p.size=4*f.length,p.size+=f.byteLength,f.keyFrame&&(p.flags.dependsOn=2,p.flags.isNonSyncSample=0),p},Ui=function(f,m){var p,g,_,b,C,w=m||0,I=[];for(p=0;p<f.length;p++)for(b=f[p],g=0;g<b.length;g++)C=b[g],_=Cr(C,w),w+=_.size,I.push(_);return I},Hn=function(f){var m,p,g,_,b,C,w=0,I=f.byteLength,k=f.nalCount,F=I+4*k,q=new Uint8Array(F),Q=new DataView(q.buffer);for(m=0;m<f.length;m++)for(_=f[m],p=0;p<_.length;p++)for(b=_[p],g=0;g<b.length;g++)C=b[g],Q.setUint32(w,C.data.byteLength),w+=4,q.set(C.data,w),w+=C.data.byteLength;return q},Yr=function(f,m){var p,g=m||0,_=[];return p=Cr(f,g),_.push(p),_},Jr=function(f){var m,p,g=0,_=f.byteLength,b=f.length,C=_+4*b,w=new Uint8Array(C),I=new DataView(w.buffer);for(m=0;m<f.length;m++)p=f[m],I.setUint32(g,p.data.byteLength),g+=4,w.set(p.data,g),g+=p.data.byteLength;return w},fr={groupNalsIntoFrames:vt,groupFramesIntoGops:Qr,extendFirstKeyFrame:dr,generateSampleTable:Ui,concatenateNalData:Hn,generateSampleTableForFrame:Yr,concatenateNalDataForFrame:Jr},xt=[33,16,5,32,164,27],hr=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ce=function(f){for(var m=[];f--;)m.push(0);return m},wm=function(f){return Object.keys(f).reduce(function(m,p){return m[p]=new Uint8Array(f[p].reduce(function(g,_){return g.concat(_)},[])),m},{})},qs,km=function(){if(!qs){var f={96e3:[xt,[227,64],ce(154),[56]],88200:[xt,[231],ce(170),[56]],64e3:[xt,[248,192],ce(240),[56]],48e3:[xt,[255,192],ce(268),[55,148,128],ce(54),[112]],44100:[xt,[255,192],ce(268),[55,163,128],ce(84),[112]],32e3:[xt,[255,192],ce(268),[55,234],ce(226),[112]],24e3:[xt,[255,192],ce(268),[55,255,128],ce(268),[111,112],ce(126),[224]],16e3:[xt,[255,192],ce(268),[55,255,128],ce(268),[111,255],ce(269),[223,108],ce(195),[1,192]],12e3:[hr,ce(268),[3,127,248],ce(268),[6,255,240],ce(268),[13,255,224],ce(268),[27,253,128],ce(259),[56]],11025:[hr,ce(268),[3,127,248],ce(268),[6,255,240],ce(268),[13,255,224],ce(268),[27,255,192],ce(268),[55,175,128],ce(108),[112]],8e3:[hr,ce(268),[3,121,16],ce(47),[7]]};qs=wm(f)}return qs},Vs=9e4,Hs,js,jn,Gs,Al,wl,kl;Hs=function(f){return f*Vs},js=function(f,m){return f*m},jn=function(f){return f/Vs},Gs=function(f,m){return f/m},Al=function(f,m){return Hs(Gs(f,m))},wl=function(f,m){return js(jn(f),m)},kl=function(f,m,p){return jn(p?f:f-m)};var fe={ONE_SECOND_IN_TS:Vs,secondsToVideoTs:Hs,secondsToAudioTs:js,videoTsToSeconds:jn,audioTsToSeconds:Gs,audioTsToVideoTs:Al,videoTsToAudioTs:wl,metadataTsToSeconds:kl},Pm=function(f){var m,p,g=0;for(m=0;m<f.length;m++)p=f[m],g+=p.data.byteLength;return g},Im=function(f,m,p,g){var _,b=0,C=0,w=0,I=0,k,F,q;if(!!m.length&&(_=fe.audioTsToVideoTs(f.baseMediaDecodeTime,f.samplerate),b=Math.ceil(fe.ONE_SECOND_IN_TS/(f.samplerate/1024)),p&&g&&(C=_-Math.max(p,g),w=Math.floor(C/b),I=w*b),!(w<1||I>fe.ONE_SECOND_IN_TS/2))){for(k=km()[f.samplerate],k||(k=m[0].data),F=0;F<w;F++)q=m[0],m.splice(0,0,{data:k,dts:q.dts-b,pts:q.pts-b});return f.baseMediaDecodeTime-=Math.floor(fe.videoTsToAudioTs(I,f.samplerate)),I}},Lm=function(f,m,p){return m.minSegmentDts>=p?f:(m.minSegmentDts=1/0,f.filter(function(g){return g.dts>=p?(m.minSegmentDts=Math.min(m.minSegmentDts,g.dts),m.minSegmentPts=m.minSegmentDts,!0):!1}))},Om=function(f){var m,p,g=[];for(m=0;m<f.length;m++)p=f[m],g.push({size:p.data.byteLength,duration:1024});return g},Fm=function(f){var m,p,g=0,_=new Uint8Array(Pm(f));for(m=0;m<f.length;m++)p=f[m],_.set(p.data,g),g+=p.data.byteLength;return _},Gn={prefixWithSilence:Im,trimAdtsFramesByEarliestDts:Lm,generateSampleTable:Om,concatenateFrameData:Fm},Bm=fe.ONE_SECOND_IN_TS,Rm=function(f,m){typeof m.pts=="number"&&(f.timelineStartInfo.pts===void 0&&(f.timelineStartInfo.pts=m.pts),f.minSegmentPts===void 0?f.minSegmentPts=m.pts:f.minSegmentPts=Math.min(f.minSegmentPts,m.pts),f.maxSegmentPts===void 0?f.maxSegmentPts=m.pts:f.maxSegmentPts=Math.max(f.maxSegmentPts,m.pts)),typeof m.dts=="number"&&(f.timelineStartInfo.dts===void 0&&(f.timelineStartInfo.dts=m.dts),f.minSegmentDts===void 0?f.minSegmentDts=m.dts:f.minSegmentDts=Math.min(f.minSegmentDts,m.dts),f.maxSegmentDts===void 0?f.maxSegmentDts=m.dts:f.maxSegmentDts=Math.max(f.maxSegmentDts,m.dts))},Mm=function(f){delete f.minSegmentDts,delete f.maxSegmentDts,delete f.minSegmentPts,delete f.maxSegmentPts},Nm=function(f,m){var p,g,_=f.minSegmentDts;return m||(_-=f.timelineStartInfo.dts),p=f.timelineStartInfo.baseMediaDecodeTime,p+=_,p=Math.max(0,p),f.type==="audio"&&(g=f.samplerate/Bm,p*=g,p=Math.floor(p)),p},St={clearDtsInfo:Mm,calculateTrackBaseMediaDecodeTime:Nm,collectDtsInfo:Rm},Pl=4,Um=128,qm=function(f){for(var m=0,p={payloadType:-1,payloadSize:0},g=0,_=0;m<f.byteLength&&f[m]!==Um;){for(;f[m]===255;)g+=255,m++;for(g+=f[m++];f[m]===255;)_+=255,m++;if(_+=f[m++],!p.payload&&g===Pl){var b=String.fromCharCode(f[m+3],f[m+4],f[m+5],f[m+6]);if(b==="GA94"){p.payloadType=g,p.payloadSize=_,p.payload=f.subarray(m,m+_);break}else p.payload=void 0}m+=_,g=0,_=0}return p},Vm=function(f){return f.payload[0]!==181||(f.payload[1]<<8|f.payload[2])!=49||String.fromCharCode(f.payload[3],f.payload[4],f.payload[5],f.payload[6])!=="GA94"||f.payload[7]!==3?null:f.payload.subarray(8,f.payload.length-1)},Hm=function(f,m){var p=[],g,_,b,C;if(!(m[0]&64))return p;for(_=m[0]&31,g=0;g<_;g++)b=g*3,C={type:m[b+2]&3,pts:f},m[b+2]&4&&(C.ccData=m[b+3]<<8|m[b+4],p.push(C));return p},jm=function(f){for(var m=f.byteLength,p=[],g=1,_,b;g<m-2;)f[g]===0&&f[g+1]===0&&f[g+2]===3?(p.push(g+2),g+=2):g++;if(p.length===0)return f;_=m-p.length,b=new Uint8Array(_);var C=0;for(g=0;g<_;C++,g++)C===p[0]&&(C++,p.shift()),b[g]=f[C];return b},qi={parseSei:qm,parseUserData:Vm,parseCaptionPackets:Hm,discardEmulationPreventionBytes:jm,USER_DATA_REGISTERED_ITU_T_T35:Pl},lt=function S(f){f=f||{},S.prototype.init.call(this),this.parse708captions_=typeof f.parse708captions=="boolean"?f.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new xe(0,0),new xe(0,1),new xe(1,0),new xe(1,1)],this.parse708captions_&&(this.cc708Stream_=new me({captionServices:f.captionServices})),this.reset(),this.ccStreams_.forEach(function(m){m.on("data",this.trigger.bind(this,"data")),m.on("partialdone",this.trigger.bind(this,"partialdone")),m.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};lt.prototype=new e,lt.prototype.push=function(S){var f,m,p;if(S.nalUnitType==="sei_rbsp"&&(f=qi.parseSei(S.escapedRBSP),!!f.payload&&f.payloadType===qi.USER_DATA_REGISTERED_ITU_T_T35&&(m=qi.parseUserData(f),!!m))){if(S.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(S.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}p=qi.parseCaptionPackets(S.pts,m),this.captionPackets_=this.captionPackets_.concat(p),this.latestDts_!==S.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=S.dts}},lt.prototype.flushCCStreams=function(S){this.ccStreams_.forEach(function(f){return S==="flush"?f.flush():f.partialFlush()},this)},lt.prototype.flushStream=function(S){if(!this.captionPackets_.length){this.flushCCStreams(S);return}this.captionPackets_.forEach(function(f,m){f.presortIndex=m}),this.captionPackets_.sort(function(f,m){return f.pts===m.pts?f.presortIndex-m.presortIndex:f.pts-m.pts}),this.captionPackets_.forEach(function(f){f.type<2?this.dispatchCea608Packet(f):this.dispatchCea708Packet(f)},this),this.captionPackets_.length=0,this.flushCCStreams(S)},lt.prototype.flush=function(){return this.flushStream("flush")},lt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},lt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(S){S.reset()})},lt.prototype.dispatchCea608Packet=function(S){this.setsTextOrXDSActive(S)?this.activeCea608Channel_[S.type]=null:this.setsChannel1Active(S)?this.activeCea608Channel_[S.type]=0:this.setsChannel2Active(S)&&(this.activeCea608Channel_[S.type]=1),this.activeCea608Channel_[S.type]!==null&&this.ccStreams_[(S.type<<1)+this.activeCea608Channel_[S.type]].push(S)},lt.prototype.setsChannel1Active=function(S){return(S.ccData&30720)==4096},lt.prototype.setsChannel2Active=function(S){return(S.ccData&30720)==6144},lt.prototype.setsTextOrXDSActive=function(S){return(S.ccData&28928)==256||(S.ccData&30974)==4138||(S.ccData&30974)==6186},lt.prototype.dispatchCea708Packet=function(S){this.parse708captions_&&this.cc708Stream_.push(S)};var Gm={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},zm=function(f){var m=Gm[f]||f;return f&4096&&f===m?"":String.fromCharCode(m)},zn=function(f){return 32<=f&&f<=127||160<=f&&f<=255},Gt=function(f){this.windowNum=f,this.reset()};Gt.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Gt.prototype.getText=function(){return this.rows.join(`
`)},Gt.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Gt.prototype.newLine=function(S){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(S),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Gt.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Gt.prototype.addText=function(S){this.rows[this.rowIdx]+=S},Gt.prototype.backspace=function(){if(!this.isEmpty()){var S=this.rows[this.rowIdx];this.rows[this.rowIdx]=S.substr(0,S.length-1)}};var Wn=function(f,m,p){this.serviceNum=f,this.text="",this.currentWindow=new Gt(-1),this.windows=[],this.stream=p,typeof m=="string"&&this.createTextDecoder(m)};Wn.prototype.init=function(S,f){this.startPts=S;for(var m=0;m<8;m++)this.windows[m]=new Gt(m),typeof f=="function"&&(this.windows[m].beforeRowOverflow=f)},Wn.prototype.setCurrentWindow=function(S){this.currentWindow=this.windows[S]},Wn.prototype.createTextDecoder=function(S){if(typeof TextDecoder=="undefined")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(S)}catch(f){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+S+" encoding. "+f})}};var me=function S(f){f=f||{},S.prototype.init.call(this);var m=this,p=f.captionServices||{},g={},_;Object.keys(p).forEach(function(b){_=p[b],/^SERVICE/.test(b)&&(g[b]=_.encoding)}),this.serviceEncodings=g,this.current708Packet=null,this.services={},this.push=function(b){b.type===3?(m.new708Packet(),m.add708Bytes(b)):(m.current708Packet===null&&m.new708Packet(),m.add708Bytes(b))}};me.prototype=new e,me.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},me.prototype.add708Bytes=function(S){var f=S.ccData,m=f>>>8,p=f&255;this.current708Packet.ptsVals.push(S.pts),this.current708Packet.data.push(m),this.current708Packet.data.push(p)},me.prototype.push708Packet=function(){var S=this.current708Packet,f=S.data,m=null,p=null,g=0,_=f[g++];for(S.seq=_>>6,S.sizeCode=_&63;g<f.length;g++)_=f[g++],m=_>>5,p=_&31,m===7&&p>0&&(_=f[g++],m=_),this.pushServiceBlock(m,g,p),p>0&&(g+=p-1)},me.prototype.pushServiceBlock=function(S,f,m){var p,g=f,_=this.current708Packet.data,b=this.services[S];for(b||(b=this.initService(S,g));g<f+m&&g<_.length;g++)p=_[g],zn(p)?g=this.handleText(g,b):p===24?g=this.multiByteCharacter(g,b):p===16?g=this.extendedCommands(g,b):128<=p&&p<=135?g=this.setCurrentWindow(g,b):152<=p&&p<=159?g=this.defineWindow(g,b):p===136?g=this.clearWindows(g,b):p===140?g=this.deleteWindows(g,b):p===137?g=this.displayWindows(g,b):p===138?g=this.hideWindows(g,b):p===139?g=this.toggleWindows(g,b):p===151?g=this.setWindowAttributes(g,b):p===144?g=this.setPenAttributes(g,b):p===145?g=this.setPenColor(g,b):p===146?g=this.setPenLocation(g,b):p===143?b=this.reset(g,b):p===8?b.currentWindow.backspace():p===12?b.currentWindow.clearText():p===13?b.currentWindow.pendingNewLine=!0:p===14?b.currentWindow.clearText():p===141&&g++},me.prototype.extendedCommands=function(S,f){var m=this.current708Packet.data,p=m[++S];return zn(p)&&(S=this.handleText(S,f,{isExtended:!0})),S},me.prototype.getPts=function(S){return this.current708Packet.ptsVals[Math.floor(S/2)]},me.prototype.initService=function(S,f){var m="SERVICE"+S,p=this,m,g;return m in this.serviceEncodings&&(g=this.serviceEncodings[m]),this.services[S]=new Wn(S,g,p),this.services[S].init(this.getPts(f),function(_){p.flushDisplayed(_,p.services[S])}),this.services[S]},me.prototype.handleText=function(S,f,m){var p=m&&m.isExtended,g=m&&m.isMultiByte,_=this.current708Packet.data,b=p?4096:0,C=_[S],w=_[S+1],I=f.currentWindow,k,F;return f.textDecoder_&&!p?(g?(F=[C,w],S++):F=[C],k=f.textDecoder_.decode(new Uint8Array(F))):k=zm(b|C),I.pendingNewLine&&!I.isEmpty()&&I.newLine(this.getPts(S)),I.pendingNewLine=!1,I.addText(k),S},me.prototype.multiByteCharacter=function(S,f){var m=this.current708Packet.data,p=m[S+1],g=m[S+2];return zn(p)&&zn(g)&&(S=this.handleText(++S,f,{isMultiByte:!0})),S},me.prototype.setCurrentWindow=function(S,f){var m=this.current708Packet.data,p=m[S],g=p&7;return f.setCurrentWindow(g),S},me.prototype.defineWindow=function(S,f){var m=this.current708Packet.data,p=m[S],g=p&7;f.setCurrentWindow(g);var _=f.currentWindow;return p=m[++S],_.visible=(p&32)>>5,_.rowLock=(p&16)>>4,_.columnLock=(p&8)>>3,_.priority=p&7,p=m[++S],_.relativePositioning=(p&128)>>7,_.anchorVertical=p&127,p=m[++S],_.anchorHorizontal=p,p=m[++S],_.anchorPoint=(p&240)>>4,_.rowCount=p&15,p=m[++S],_.columnCount=p&63,p=m[++S],_.windowStyle=(p&56)>>3,_.penStyle=p&7,_.virtualRowCount=_.rowCount+1,S},me.prototype.setWindowAttributes=function(S,f){var m=this.current708Packet.data,p=m[S],g=f.currentWindow.winAttr;return p=m[++S],g.fillOpacity=(p&192)>>6,g.fillRed=(p&48)>>4,g.fillGreen=(p&12)>>2,g.fillBlue=p&3,p=m[++S],g.borderType=(p&192)>>6,g.borderRed=(p&48)>>4,g.borderGreen=(p&12)>>2,g.borderBlue=p&3,p=m[++S],g.borderType+=(p&128)>>5,g.wordWrap=(p&64)>>6,g.printDirection=(p&48)>>4,g.scrollDirection=(p&12)>>2,g.justify=p&3,p=m[++S],g.effectSpeed=(p&240)>>4,g.effectDirection=(p&12)>>2,g.displayEffect=p&3,S},me.prototype.flushDisplayed=function(S,f){for(var m=[],p=0;p<8;p++)f.windows[p].visible&&!f.windows[p].isEmpty()&&m.push(f.windows[p].getText());f.endPts=S,f.text=m.join(`

`),this.pushCaption(f),f.startPts=S},me.prototype.pushCaption=function(S){S.text!==""&&(this.trigger("data",{startPts:S.startPts,endPts:S.endPts,text:S.text,stream:"cc708_"+S.serviceNum}),S.text="",S.startPts=S.endPts)},me.prototype.displayWindows=function(S,f){var m=this.current708Packet.data,p=m[++S],g=this.getPts(S);this.flushDisplayed(g,f);for(var _=0;_<8;_++)p&1<<_&&(f.windows[_].visible=1);return S},me.prototype.hideWindows=function(S,f){var m=this.current708Packet.data,p=m[++S],g=this.getPts(S);this.flushDisplayed(g,f);for(var _=0;_<8;_++)p&1<<_&&(f.windows[_].visible=0);return S},me.prototype.toggleWindows=function(S,f){var m=this.current708Packet.data,p=m[++S],g=this.getPts(S);this.flushDisplayed(g,f);for(var _=0;_<8;_++)p&1<<_&&(f.windows[_].visible^=1);return S},me.prototype.clearWindows=function(S,f){var m=this.current708Packet.data,p=m[++S],g=this.getPts(S);this.flushDisplayed(g,f);for(var _=0;_<8;_++)p&1<<_&&f.windows[_].clearText();return S},me.prototype.deleteWindows=function(S,f){var m=this.current708Packet.data,p=m[++S],g=this.getPts(S);this.flushDisplayed(g,f);for(var _=0;_<8;_++)p&1<<_&&f.windows[_].reset();return S},me.prototype.setPenAttributes=function(S,f){var m=this.current708Packet.data,p=m[S],g=f.currentWindow.penAttr;return p=m[++S],g.textTag=(p&240)>>4,g.offset=(p&12)>>2,g.penSize=p&3,p=m[++S],g.italics=(p&128)>>7,g.underline=(p&64)>>6,g.edgeType=(p&56)>>3,g.fontStyle=p&7,S},me.prototype.setPenColor=function(S,f){var m=this.current708Packet.data,p=m[S],g=f.currentWindow.penColor;return p=m[++S],g.fgOpacity=(p&192)>>6,g.fgRed=(p&48)>>4,g.fgGreen=(p&12)>>2,g.fgBlue=p&3,p=m[++S],g.bgOpacity=(p&192)>>6,g.bgRed=(p&48)>>4,g.bgGreen=(p&12)>>2,g.bgBlue=p&3,p=m[++S],g.edgeRed=(p&48)>>4,g.edgeGreen=(p&12)>>2,g.edgeBlue=p&3,S},me.prototype.setPenLocation=function(S,f){var m=this.current708Packet.data,p=m[S],g=f.currentWindow.penLoc;return f.currentWindow.pendingNewLine=!0,p=m[++S],g.row=p&15,p=m[++S],g.column=p&63,S},me.prototype.reset=function(S,f){var m=this.getPts(S);return this.flushDisplayed(m,f),this.initService(f.serviceNum,S)};var Wm={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},$n=function(f){return f===null?"":(f=Wm[f]||f,String.fromCharCode(f))},Kn=14,$m=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Dr=function(){for(var f=[],m=Kn+1;m--;)f.push("");return f},xe=function S(f,m){S.prototype.init.call(this),this.field_=f||0,this.dataChannel_=m||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(p){var g,_,b,C,w;if(g=p.ccData&32639,g===this.lastControlCode_){this.lastControlCode_=null;return}if((g&61440)==4096?this.lastControlCode_=g:g!==this.PADDING_&&(this.lastControlCode_=null),b=g>>>8,C=g&255,g!==this.PADDING_)if(g===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(g===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(p.pts),this.flushDisplayed(p.pts),_=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=_,this.startPts_=p.pts;else if(g===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(p.pts);else if(g===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(p.pts);else if(g===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(p.pts);else if(g===this.CARRIAGE_RETURN_)this.clearFormatting(p.pts),this.flushDisplayed(p.pts),this.shiftRowsUp_(),this.startPts_=p.pts;else if(g===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(g===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(p.pts),this.displayed_=Dr();else if(g===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Dr();else if(g===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(p.pts),this.displayed_=Dr()),this.mode_="paintOn",this.startPts_=p.pts;else if(this.isSpecialCharacter(b,C))b=(b&3)<<8,w=$n(b|C),this[this.mode_](p.pts,w),this.column_++;else if(this.isExtCharacter(b,C))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),b=(b&3)<<8,w=$n(b|C),this[this.mode_](p.pts,w),this.column_++;else if(this.isMidRowCode(b,C))this.clearFormatting(p.pts),this[this.mode_](p.pts," "),this.column_++,(C&14)==14&&this.addFormatting(p.pts,["i"]),(C&1)==1&&this.addFormatting(p.pts,["u"]);else if(this.isOffsetControlCode(b,C))this.column_+=C&3;else if(this.isPAC(b,C)){var I=$m.indexOf(g&7968);this.mode_==="rollUp"&&(I-this.rollUpRows_+1<0&&(I=this.rollUpRows_-1),this.setRollUp(p.pts,I)),I!==this.row_&&(this.clearFormatting(p.pts),this.row_=I),C&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(p.pts,["u"]),(g&16)==16&&(this.column_=((g&14)>>1)*4),this.isColorPAC(C)&&(C&14)==14&&this.addFormatting(p.pts,["i"])}else this.isNormalChar(b)&&(C===0&&(C=null),w=$n(b),w+=$n(C),this[this.mode_](p.pts,w),this.column_+=w.length)}};xe.prototype=new e,xe.prototype.flushDisplayed=function(S){var f=this.displayed_.map(function(m,p){try{return m.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+p+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");f.length&&this.trigger("data",{startPts:this.startPts_,endPts:S,text:f,stream:this.name_})},xe.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Dr(),this.nonDisplayed_=Dr(),this.lastControlCode_=null,this.column_=0,this.row_=Kn,this.rollUpRows_=2,this.formatting_=[]},xe.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},xe.prototype.isSpecialCharacter=function(S,f){return S===this.EXT_&&f>=48&&f<=63},xe.prototype.isExtCharacter=function(S,f){return(S===this.EXT_+1||S===this.EXT_+2)&&f>=32&&f<=63},xe.prototype.isMidRowCode=function(S,f){return S===this.EXT_&&f>=32&&f<=47},xe.prototype.isOffsetControlCode=function(S,f){return S===this.OFFSET_&&f>=33&&f<=35},xe.prototype.isPAC=function(S,f){return S>=this.BASE_&&S<this.BASE_+8&&f>=64&&f<=127},xe.prototype.isColorPAC=function(S){return S>=64&&S<=79||S>=96&&S<=127},xe.prototype.isNormalChar=function(S){return S>=32&&S<=127},xe.prototype.setRollUp=function(S,f){if(this.mode_!=="rollUp"&&(this.row_=Kn,this.mode_="rollUp",this.flushDisplayed(S),this.nonDisplayed_=Dr(),this.displayed_=Dr()),f!==void 0&&f!==this.row_)for(var m=0;m<this.rollUpRows_;m++)this.displayed_[f-m]=this.displayed_[this.row_-m],this.displayed_[this.row_-m]="";f===void 0&&(f=this.row_),this.topRow_=f-this.rollUpRows_+1},xe.prototype.addFormatting=function(S,f){this.formatting_=this.formatting_.concat(f);var m=f.reduce(function(p,g){return p+"<"+g+">"},"");this[this.mode_](S,m)},xe.prototype.clearFormatting=function(S){if(!!this.formatting_.length){var f=this.formatting_.reverse().reduce(function(m,p){return m+"</"+p+">"},"");this.formatting_=[],this[this.mode_](S,f)}},xe.prototype.popOn=function(S,f){var m=this.nonDisplayed_[this.row_];m+=f,this.nonDisplayed_[this.row_]=m},xe.prototype.rollUp=function(S,f){var m=this.displayed_[this.row_];m+=f,this.displayed_[this.row_]=m},xe.prototype.shiftRowsUp_=function(){var S;for(S=0;S<this.topRow_;S++)this.displayed_[S]="";for(S=this.row_+1;S<Kn+1;S++)this.displayed_[S]="";for(S=this.topRow_;S<this.row_;S++)this.displayed_[S]=this.displayed_[S+1];this.displayed_[this.row_]=""},xe.prototype.paintOn=function(S,f){var m=this.displayed_[this.row_];m+=f,this.displayed_[this.row_]=m};var Xn={CaptionStream:lt,Cea608Stream:xe,Cea708Stream:me},qe={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Km=8589934592,Xm=4294967296,Il="shared",zs=function(f,m){var p=1;for(f>m&&(p=-1);Math.abs(m-f)>Xm;)f+=p*Km;return f},Ll=function S(f){var m,p;S.prototype.init.call(this),this.type_=f||Il,this.push=function(g){this.type_!==Il&&g.type!==this.type_||(p===void 0&&(p=g.dts),g.dts=zs(g.dts,p),g.pts=zs(g.pts,p),m=g.dts,this.trigger("data",g))},this.flush=function(){p=m,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){p=void 0,m=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ll.prototype=new e;var Ol={TimestampRolloverStream:Ll,handleRollover:zs},Fl=function(f,m,p){var g,_="";for(g=m;g<p;g++)_+="%"+("00"+f[g].toString(16)).slice(-2);return _},Qn=function(f,m,p){return decodeURIComponent(Fl(f,m,p))},Qm=function(f,m,p){return unescape(Fl(f,m,p))},Yn=function(f){return f[0]<<21|f[1]<<14|f[2]<<7|f[3]},Bl={TXXX:function(f){var m;if(f.data[0]===3){for(m=1;m<f.data.length;m++)if(f.data[m]===0){f.description=Qn(f.data,1,m),f.value=Qn(f.data,m+1,f.data.length).replace(/\0*$/,"");break}f.data=f.value}},WXXX:function(f){var m;if(f.data[0]===3){for(m=1;m<f.data.length;m++)if(f.data[m]===0){f.description=Qn(f.data,1,m),f.url=Qn(f.data,m+1,f.data.length);break}}},PRIV:function(f){var m;for(m=0;m<f.data.length;m++)if(f.data[m]===0){f.owner=Qm(f.data,0,m);break}f.privateData=f.data.subarray(m+1),f.data=f.privateData}},Jn;Jn=function(f){var m={descriptor:f&&f.descriptor},p=0,g=[],_=0,b;if(Jn.prototype.init.call(this),this.dispatchType=qe.METADATA_STREAM_TYPE.toString(16),m.descriptor)for(b=0;b<m.descriptor.length;b++)this.dispatchType+=("00"+m.descriptor[b].toString(16)).slice(-2);this.push=function(C){var w,I,k,F,q,Q;if(C.type==="timed-metadata"){if(C.dataAlignmentIndicator&&(_=0,g.length=0),g.length===0&&(C.data.length<10||C.data[0]!=="I".charCodeAt(0)||C.data[1]!=="D".charCodeAt(0)||C.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(g.push(C),_+=C.data.byteLength,g.length===1&&(p=Yn(C.data.subarray(6,10)),p+=10),!(_<p)){for(w={data:new Uint8Array(p),frames:[],pts:g[0].pts,dts:g[0].dts},q=0;q<p;)w.data.set(g[0].data.subarray(0,p-q),q),q+=g[0].data.byteLength,_-=g[0].data.byteLength,g.shift();I=10,w.data[5]&64&&(I+=4,I+=Yn(w.data.subarray(10,14)),p-=Yn(w.data.subarray(16,20)));do{if(k=Yn(w.data.subarray(I+4,I+8)),k<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(Q=String.fromCharCode(w.data[I],w.data[I+1],w.data[I+2],w.data[I+3]),F={id:Q,data:w.data.subarray(I+10,I+k+10)},F.key=F.id,Bl[F.id]&&(Bl[F.id](F),F.owner==="com.apple.streaming.transportStreamTimestamp")){var ee=F.data,z=(ee[3]&1)<<30|ee[4]<<22|ee[5]<<14|ee[6]<<6|ee[7]>>>2;z*=4,z+=ee[7]&3,F.timeStamp=z,w.pts===void 0&&w.dts===void 0&&(w.pts=F.timeStamp,w.dts=F.timeStamp),this.trigger("timestamp",F)}w.frames.push(F),I+=10,I+=k}while(I<p);this.trigger("data",w)}}}},Jn.prototype=new e;var Ym=Jn,Jm=Ol.TimestampRolloverStream,Zn,Vi,ea,Zr=188,Ws=71;Zn=function(){var f=new Uint8Array(Zr),m=0;Zn.prototype.init.call(this),this.push=function(p){var g=0,_=Zr,b;for(m?(b=new Uint8Array(p.byteLength+m),b.set(f.subarray(0,m)),b.set(p,m),m=0):b=p;_<b.byteLength;){if(b[g]===Ws&&b[_]===Ws){this.trigger("data",b.subarray(g,_)),g+=Zr,_+=Zr;continue}g++,_++}g<b.byteLength&&(f.set(b.subarray(g),0),m=b.byteLength-g)},this.flush=function(){m===Zr&&f[0]===Ws&&(this.trigger("data",f),m=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){m=0,this.trigger("reset")}},Zn.prototype=new e,Vi=function(){var f,m,p,g;Vi.prototype.init.call(this),g=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,f=function(b,C){var w=0;C.payloadUnitStartIndicator&&(w+=b[w]+1),C.type==="pat"?m(b.subarray(w),C):p(b.subarray(w),C)},m=function(b,C){C.section_number=b[7],C.last_section_number=b[8],g.pmtPid=(b[10]&31)<<8|b[11],C.pmtPid=g.pmtPid},p=function(b,C){var w,I,k,F;if(!!(b[5]&1)){for(g.programMapTable={video:null,audio:null,"timed-metadata":{}},w=(b[1]&15)<<8|b[2],I=3+w-4,k=(b[10]&15)<<8|b[11],F=12+k;F<I;){var q=b[F],Q=(b[F+1]&31)<<8|b[F+2];q===qe.H264_STREAM_TYPE&&g.programMapTable.video===null?g.programMapTable.video=Q:q===qe.ADTS_STREAM_TYPE&&g.programMapTable.audio===null?g.programMapTable.audio=Q:q===qe.METADATA_STREAM_TYPE&&(g.programMapTable["timed-metadata"][Q]=q),F+=((b[F+3]&15)<<8|b[F+4])+5}C.programMapTable=g.programMapTable}},this.push=function(_){var b={},C=4;if(b.payloadUnitStartIndicator=!!(_[1]&64),b.pid=_[1]&31,b.pid<<=8,b.pid|=_[2],(_[3]&48)>>>4>1&&(C+=_[C]+1),b.pid===0)b.type="pat",f(_.subarray(C),b),this.trigger("data",b);else if(b.pid===this.pmtPid)for(b.type="pmt",f(_.subarray(C),b),this.trigger("data",b);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([_,C,b]):this.processPes_(_,C,b)},this.processPes_=function(_,b,C){C.pid===this.programMapTable.video?C.streamType=qe.H264_STREAM_TYPE:C.pid===this.programMapTable.audio?C.streamType=qe.ADTS_STREAM_TYPE:C.streamType=this.programMapTable["timed-metadata"][C.pid],C.type="pes",C.data=_.subarray(b),this.trigger("data",C)}},Vi.prototype=new e,Vi.STREAM_TYPES={h264:27,adts:15},ea=function(){var f=this,m=!1,p={data:[],size:0},g={data:[],size:0},_={data:[],size:0},b,C=function(k,F){var q,Q=k[0]<<16|k[1]<<8|k[2];F.data=new Uint8Array,Q===1&&(F.packetLength=6+(k[4]<<8|k[5]),F.dataAlignmentIndicator=(k[6]&4)!=0,q=k[7],q&192&&(F.pts=(k[9]&14)<<27|(k[10]&255)<<20|(k[11]&254)<<12|(k[12]&255)<<5|(k[13]&254)>>>3,F.pts*=4,F.pts+=(k[13]&6)>>>1,F.dts=F.pts,q&64&&(F.dts=(k[14]&14)<<27|(k[15]&255)<<20|(k[16]&254)<<12|(k[17]&255)<<5|(k[18]&254)>>>3,F.dts*=4,F.dts+=(k[18]&6)>>>1)),F.data=k.subarray(9+k[8]))},w=function(k,F,q){var Q=new Uint8Array(k.size),ee={type:F},z=0,ne=0,Ie=!1,Xe;if(!(!k.data.length||k.size<9)){for(ee.trackId=k.data[0].pid,z=0;z<k.data.length;z++)Xe=k.data[z],Q.set(Xe.data,ne),ne+=Xe.data.byteLength;C(Q,ee),Ie=F==="video"||ee.packetLength<=k.size,(q||Ie)&&(k.size=0,k.data.length=0),Ie&&f.trigger("data",ee)}};ea.prototype.init.call(this),this.push=function(I){({pat:function(){},pes:function(){var F,q;switch(I.streamType){case qe.H264_STREAM_TYPE:F=p,q="video";break;case qe.ADTS_STREAM_TYPE:F=g,q="audio";break;case qe.METADATA_STREAM_TYPE:F=_,q="timed-metadata";break;default:return}I.payloadUnitStartIndicator&&w(F,q,!0),F.data.push(I),F.size+=I.data.byteLength},pmt:function(){var F={type:"metadata",tracks:[]};b=I.programMapTable,b.video!==null&&F.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+b.video,codec:"avc",type:"video"}),b.audio!==null&&F.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+b.audio,codec:"adts",type:"audio"}),m=!0,f.trigger("data",F)}})[I.type]()},this.reset=function(){p.size=0,p.data.length=0,g.size=0,g.data.length=0,this.trigger("reset")},this.flushStreams_=function(){w(p,"video"),w(g,"audio"),w(_,"timed-metadata")},this.flush=function(){if(!m&&b){var I={type:"metadata",tracks:[]};b.video!==null&&I.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+b.video,codec:"avc",type:"video"}),b.audio!==null&&I.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+b.audio,codec:"adts",type:"audio"}),f.trigger("data",I)}m=!1,this.flushStreams_(),this.trigger("done")}},ea.prototype=new e;var Rl={PAT_PID:0,MP2T_PACKET_LENGTH:Zr,TransportPacketStream:Zn,TransportParseStream:Vi,ElementaryStream:ea,TimestampRolloverStream:Jm,CaptionStream:Xn.CaptionStream,Cea608Stream:Xn.Cea608Stream,Cea708Stream:Xn.Cea708Stream,MetadataStream:Ym};for(var $s in qe)qe.hasOwnProperty($s)&&(Rl[$s]=qe[$s]);var zt=Rl,Zm=fe.ONE_SECOND_IN_TS,ta,Ml=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];ta=function(f){var m,p=0;ta.prototype.init.call(this),this.skipWarn_=function(g,_){this.trigger("log",{level:"warn",message:"adts skiping bytes "+g+" to "+_+" in frame "+p+" outside syncword"})},this.push=function(g){var _=0,b,C,w,I,k;if(f||(p=0),g.type==="audio"){m&&m.length?(w=m,m=new Uint8Array(w.byteLength+g.data.byteLength),m.set(w),m.set(g.data,w.byteLength)):m=g.data;for(var F;_+7<m.length;){if(m[_]!==255||(m[_+1]&246)!=240){typeof F!="number"&&(F=_),_++;continue}if(typeof F=="number"&&(this.skipWarn_(F,_),F=null),C=(~m[_+1]&1)*2,b=(m[_+3]&3)<<11|m[_+4]<<3|(m[_+5]&224)>>5,I=((m[_+6]&3)+1)*1024,k=I*Zm/Ml[(m[_+2]&60)>>>2],m.byteLength-_<b)break;this.trigger("data",{pts:g.pts+p*k,dts:g.dts+p*k,sampleCount:I,audioobjecttype:(m[_+2]>>>6&3)+1,channelcount:(m[_+2]&1)<<2|(m[_+3]&192)>>>6,samplerate:Ml[(m[_+2]&60)>>>2],samplingfrequencyindex:(m[_+2]&60)>>>2,samplesize:16,data:m.subarray(_+7+C,_+b)}),p++,_+=b}typeof F=="number"&&(this.skipWarn_(F,_),F=null),m=m.subarray(_)}},this.flush=function(){p=0,this.trigger("done")},this.reset=function(){m=void 0,this.trigger("reset")},this.endTimeline=function(){m=void 0,this.trigger("endedtimeline")}},ta.prototype=new e;var Nl=ta,Ul;Ul=function(f){var m=f.byteLength,p=0,g=0;this.length=function(){return 8*m},this.bitsAvailable=function(){return 8*m+g},this.loadWord=function(){var _=f.byteLength-m,b=new Uint8Array(4),C=Math.min(4,m);if(C===0)throw new Error("no bytes available");b.set(f.subarray(_,_+C)),p=new DataView(b.buffer).getUint32(0),g=C*8,m-=C},this.skipBits=function(_){var b;g>_?(p<<=_,g-=_):(_-=g,b=Math.floor(_/8),_-=b*8,m-=b,this.loadWord(),p<<=_,g-=_)},this.readBits=function(_){var b=Math.min(g,_),C=p>>>32-b;return g-=b,g>0?p<<=b:m>0&&this.loadWord(),b=_-b,b>0?C<<b|this.readBits(b):C},this.skipLeadingZeros=function(){var _;for(_=0;_<g;++_)if((p&2147483648>>>_)!=0)return p<<=_,g-=_,_;return this.loadWord(),_+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var _=this.skipLeadingZeros();return this.readBits(_+1)-1},this.readExpGolomb=function(){var _=this.readUnsignedExpGolomb();return 1&_?1+_>>>1:-1*(_>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var eg=Ul,ra,Hi,ql;Hi=function(){var f=0,m,p;Hi.prototype.init.call(this),this.push=function(g){var _;p?(_=new Uint8Array(p.byteLength+g.data.byteLength),_.set(p),_.set(g.data,p.byteLength),p=_):p=g.data;for(var b=p.byteLength;f<b-3;f++)if(p[f+2]===1){m=f+5;break}for(;m<b;)switch(p[m]){case 0:if(p[m-1]!==0){m+=2;break}else if(p[m-2]!==0){m++;break}f+3!==m-2&&this.trigger("data",p.subarray(f+3,m-2));do m++;while(p[m]!==1&&m<b);f=m-2,m+=3;break;case 1:if(p[m-1]!==0||p[m-2]!==0){m+=3;break}this.trigger("data",p.subarray(f+3,m-2)),f=m-2,m+=3;break;default:m+=3;break}p=p.subarray(f),m-=f,f=0},this.reset=function(){p=null,f=0,this.trigger("reset")},this.flush=function(){p&&p.byteLength>3&&this.trigger("data",p.subarray(f+3)),p=null,f=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Hi.prototype=new e,ql={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},ra=function(){var f=new Hi,m,p,g,_,b,C,w;ra.prototype.init.call(this),m=this,this.push=function(I){I.type==="video"&&(p=I.trackId,g=I.pts,_=I.dts,f.push(I))},f.on("data",function(I){var k={trackId:p,pts:g,dts:_,data:I,nalUnitTypeCode:I[0]&31};switch(k.nalUnitTypeCode){case 5:k.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:k.nalUnitType="sei_rbsp",k.escapedRBSP=b(I.subarray(1));break;case 7:k.nalUnitType="seq_parameter_set_rbsp",k.escapedRBSP=b(I.subarray(1)),k.config=C(k.escapedRBSP);break;case 8:k.nalUnitType="pic_parameter_set_rbsp";break;case 9:k.nalUnitType="access_unit_delimiter_rbsp";break}m.trigger("data",k)}),f.on("done",function(){m.trigger("done")}),f.on("partialdone",function(){m.trigger("partialdone")}),f.on("reset",function(){m.trigger("reset")}),f.on("endedtimeline",function(){m.trigger("endedtimeline")}),this.flush=function(){f.flush()},this.partialFlush=function(){f.partialFlush()},this.reset=function(){f.reset()},this.endTimeline=function(){f.endTimeline()},w=function(k,F){var q=8,Q=8,ee,z;for(ee=0;ee<k;ee++)Q!==0&&(z=F.readExpGolomb(),Q=(q+z+256)%256),q=Q===0?q:Q},b=function(k){for(var F=k.byteLength,q=[],Q=1,ee,z;Q<F-2;)k[Q]===0&&k[Q+1]===0&&k[Q+2]===3?(q.push(Q+2),Q+=2):Q++;if(q.length===0)return k;ee=F-q.length,z=new Uint8Array(ee);var ne=0;for(Q=0;Q<ee;ne++,Q++)ne===q[0]&&(ne++,q.shift()),z[Q]=k[ne];return z},C=function(k){var F=0,q=0,Q=0,ee=0,z,ne,Ie,Xe,Pr,Zs,ac,sc,oc,eo,uc,De=[1,1],lc,Ir;if(z=new eg(k),ne=z.readUnsignedByte(),Xe=z.readUnsignedByte(),Ie=z.readUnsignedByte(),z.skipUnsignedExpGolomb(),ql[ne]&&(Pr=z.readUnsignedExpGolomb(),Pr===3&&z.skipBits(1),z.skipUnsignedExpGolomb(),z.skipUnsignedExpGolomb(),z.skipBits(1),z.readBoolean()))for(uc=Pr!==3?8:12,Ir=0;Ir<uc;Ir++)z.readBoolean()&&(Ir<6?w(16,z):w(64,z));if(z.skipUnsignedExpGolomb(),Zs=z.readUnsignedExpGolomb(),Zs===0)z.readUnsignedExpGolomb();else if(Zs===1)for(z.skipBits(1),z.skipExpGolomb(),z.skipExpGolomb(),ac=z.readUnsignedExpGolomb(),Ir=0;Ir<ac;Ir++)z.skipExpGolomb();if(z.skipUnsignedExpGolomb(),z.skipBits(1),sc=z.readUnsignedExpGolomb(),oc=z.readUnsignedExpGolomb(),eo=z.readBits(1),eo===0&&z.skipBits(1),z.skipBits(1),z.readBoolean()&&(F=z.readUnsignedExpGolomb(),q=z.readUnsignedExpGolomb(),Q=z.readUnsignedExpGolomb(),ee=z.readUnsignedExpGolomb()),z.readBoolean()&&z.readBoolean()){switch(lc=z.readUnsignedByte(),lc){case 1:De=[1,1];break;case 2:De=[12,11];break;case 3:De=[10,11];break;case 4:De=[16,11];break;case 5:De=[40,33];break;case 6:De=[24,11];break;case 7:De=[20,11];break;case 8:De=[32,11];break;case 9:De=[80,33];break;case 10:De=[18,11];break;case 11:De=[15,11];break;case 12:De=[64,33];break;case 13:De=[160,99];break;case 14:De=[4,3];break;case 15:De=[3,2];break;case 16:De=[2,1];break;case 255:{De=[z.readUnsignedByte()<<8|z.readUnsignedByte(),z.readUnsignedByte()<<8|z.readUnsignedByte()];break}}De&&De[0]/De[1]}return{profileIdc:ne,levelIdc:Ie,profileCompatibility:Xe,width:(sc+1)*16-F*2-q*2,height:(2-eo)*(oc+1)*16-Q*2-ee*2,sarRatio:De}}},ra.prototype=new e;var tg={H264Stream:ra,NalByteStream:Hi},rg=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Vl=function(f,m){var p=f[m+6]<<21|f[m+7]<<14|f[m+8]<<7|f[m+9],g=f[m+5],_=(g&16)>>4;return p=p>=0?p:0,_?p+20:p+10},ig=function S(f,m){return f.length-m<10||f[m]!=="I".charCodeAt(0)||f[m+1]!=="D".charCodeAt(0)||f[m+2]!=="3".charCodeAt(0)?m:(m+=Vl(f,m),S(f,m))},ng=function(f){var m=ig(f,0);return f.length>=m+2&&(f[m]&255)==255&&(f[m+1]&240)==240&&(f[m+1]&22)==16},Hl=function(f){return f[0]<<21|f[1]<<14|f[2]<<7|f[3]},ag=function(f,m,p){var g,_="";for(g=m;g<p;g++)_+="%"+("00"+f[g].toString(16)).slice(-2);return _},sg=function(f,m,p){return unescape(ag(f,m,p))},og=function(f,m){var p=(f[m+5]&224)>>5,g=f[m+4]<<3,_=f[m+3]&3<<11;return _|g|p},ug=function(f,m){return f[m]==="I".charCodeAt(0)&&f[m+1]==="D".charCodeAt(0)&&f[m+2]==="3".charCodeAt(0)?"timed-metadata":f[m]&!0&&(f[m+1]&240)==240?"audio":null},lg=function(f){for(var m=0;m+5<f.length;){if(f[m]!==255||(f[m+1]&246)!=240){m++;continue}return rg[(f[m+2]&60)>>>2]}return null},cg=function(f){var m,p,g,_;m=10,f[5]&64&&(m+=4,m+=Hl(f.subarray(10,14)));do{if(p=Hl(f.subarray(m+4,m+8)),p<1)return null;if(_=String.fromCharCode(f[m],f[m+1],f[m+2],f[m+3]),_==="PRIV"){g=f.subarray(m+10,m+p+10);for(var b=0;b<g.byteLength;b++)if(g[b]===0){var C=sg(g,0,b);if(C==="com.apple.streaming.transportStreamTimestamp"){var w=g.subarray(b+1),I=(w[3]&1)<<30|w[4]<<22|w[5]<<14|w[6]<<6|w[7]>>>2;return I*=4,I+=w[7]&3,I}break}}m+=10,m+=p}while(m<f.byteLength);return null},ia={isLikelyAacData:ng,parseId3TagSize:Vl,parseAdtsSize:og,parseType:ug,parseSampleRate:lg,parseAacTimestamp:cg},na;na=function(){var f=new Uint8Array,m=0;na.prototype.init.call(this),this.setTimestamp=function(p){m=p},this.push=function(p){var g=0,_=0,b,C,w,I;for(f.length?(I=f.length,f=new Uint8Array(p.byteLength+I),f.set(f.subarray(0,I)),f.set(p,I)):f=p;f.length-_>=3;){if(f[_]==="I".charCodeAt(0)&&f[_+1]==="D".charCodeAt(0)&&f[_+2]==="3".charCodeAt(0)){if(f.length-_<10||(g=ia.parseId3TagSize(f,_),_+g>f.length))break;C={type:"timed-metadata",data:f.subarray(_,_+g)},this.trigger("data",C),_+=g;continue}else if((f[_]&255)==255&&(f[_+1]&240)==240){if(f.length-_<7||(g=ia.parseAdtsSize(f,_),_+g>f.length))break;w={type:"audio",data:f.subarray(_,_+g),pts:m,dts:m},this.trigger("data",w),_+=g;continue}_++}b=f.length-_,b>0?f=f.subarray(_):f=new Uint8Array},this.reset=function(){f=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){f=new Uint8Array,this.trigger("endedtimeline")}},na.prototype=new e;var dg=na,fg=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Ks=fg,hg=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Xs=hg,pg=tg.H264Stream,mg=ia.isLikelyAacData,gg=fe.ONE_SECOND_IN_TS,ji,ei,aa,Ar,vg=function(f,m){m.stream=f,this.trigger("log",m)},jl=function(f,m){for(var p=Object.keys(m),g=0;g<p.length;g++){var _=p[g];_==="headOfPipeline"||!m[_].on||m[_].on("log",vg.bind(f,_))}},Gl=function(f,m){var p;if(f.length!==m.length)return!1;for(p=0;p<f.length;p++)if(f[p]!==m[p])return!1;return!0},Qs=function(f,m,p,g,_,b){var C=p-m,w=g-m,I=_-p;return{start:{dts:f,pts:f+C},end:{dts:f+w,pts:f+I},prependedContentDuration:b,baseMediaDecodeTime:f}};ei=function(f,m){var p=[],g,_=0,b=0,C=1/0;m=m||{},g=m.firstSequenceNumber||0,ei.prototype.init.call(this),this.push=function(w){St.collectDtsInfo(f,w),f&&Ks.forEach(function(I){f[I]=w[I]}),p.push(w)},this.setEarliestDts=function(w){_=w},this.setVideoBaseMediaDecodeTime=function(w){C=w},this.setAudioAppendStart=function(w){b=w},this.flush=function(){var w,I,k,F,q,Q,ee;if(p.length===0){this.trigger("done","AudioSegmentStream");return}w=Gn.trimAdtsFramesByEarliestDts(p,f,_),f.baseMediaDecodeTime=St.calculateTrackBaseMediaDecodeTime(f,m.keepOriginalTimestamps),ee=Gn.prefixWithSilence(f,w,b,C),f.samples=Gn.generateSampleTable(w),k=Oe.mdat(Gn.concatenateFrameData(w)),p=[],I=Oe.moof(g,[f]),F=new Uint8Array(I.byteLength+k.byteLength),g++,F.set(I),F.set(k,I.byteLength),St.clearDtsInfo(f),q=Math.ceil(gg*1024/f.samplerate),w.length&&(Q=w.length*q,this.trigger("segmentTimingInfo",Qs(fe.audioTsToVideoTs(f.baseMediaDecodeTime,f.samplerate),w[0].dts,w[0].pts,w[0].dts+Q,w[0].pts+Q,ee||0)),this.trigger("timingInfo",{start:w[0].pts,end:w[0].pts+Q})),this.trigger("data",{track:f,boxes:F}),this.trigger("done","AudioSegmentStream")},this.reset=function(){St.clearDtsInfo(f),p=[],this.trigger("reset")}},ei.prototype=new e,ji=function(f,m){var p,g=[],_=[],b,C;m=m||{},p=m.firstSequenceNumber||0,ji.prototype.init.call(this),delete f.minPTS,this.gopCache_=[],this.push=function(w){St.collectDtsInfo(f,w),w.nalUnitType==="seq_parameter_set_rbsp"&&!b&&(b=w.config,f.sps=[w.data],Xs.forEach(function(I){f[I]=b[I]},this)),w.nalUnitType==="pic_parameter_set_rbsp"&&!C&&(C=w.data,f.pps=[w.data]),g.push(w)},this.flush=function(){for(var w,I,k,F,q,Q,ee=0,z,ne;g.length&&g[0].nalUnitType!=="access_unit_delimiter_rbsp";)g.shift();if(g.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(w=fr.groupNalsIntoFrames(g),k=fr.groupFramesIntoGops(w),k[0][0].keyFrame||(I=this.getGopForFusion_(g[0],f),I?(ee=I.duration,k.unshift(I),k.byteLength+=I.byteLength,k.nalCount+=I.nalCount,k.pts=I.pts,k.dts=I.dts,k.duration+=I.duration):k=fr.extendFirstKeyFrame(k)),_.length){var Ie;if(m.alignGopsAtEnd?Ie=this.alignGopsAtEnd_(k):Ie=this.alignGopsAtStart_(k),!Ie){this.gopCache_.unshift({gop:k.pop(),pps:f.pps,sps:f.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),g=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}St.clearDtsInfo(f),k=Ie}St.collectDtsInfo(f,k),f.samples=fr.generateSampleTable(k),q=Oe.mdat(fr.concatenateNalData(k)),f.baseMediaDecodeTime=St.calculateTrackBaseMediaDecodeTime(f,m.keepOriginalTimestamps),this.trigger("processedGopsInfo",k.map(function(Xe){return{pts:Xe.pts,dts:Xe.dts,byteLength:Xe.byteLength}})),z=k[0],ne=k[k.length-1],this.trigger("segmentTimingInfo",Qs(f.baseMediaDecodeTime,z.dts,z.pts,ne.dts+ne.duration,ne.pts+ne.duration,ee)),this.trigger("timingInfo",{start:k[0].pts,end:k[k.length-1].pts+k[k.length-1].duration}),this.gopCache_.unshift({gop:k.pop(),pps:f.pps,sps:f.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),g=[],this.trigger("baseMediaDecodeTime",f.baseMediaDecodeTime),this.trigger("timelineStartInfo",f.timelineStartInfo),F=Oe.moof(p,[f]),Q=new Uint8Array(F.byteLength+q.byteLength),p++,Q.set(F),Q.set(q,F.byteLength),this.trigger("data",{track:f,boxes:Q}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),g=[],this.gopCache_.length=0,_.length=0,this.trigger("reset")},this.resetStream_=function(){St.clearDtsInfo(f),b=void 0,C=void 0},this.getGopForFusion_=function(w){var I=45e3,k=1e4,F=1/0,q,Q,ee,z,ne;for(ne=0;ne<this.gopCache_.length;ne++)z=this.gopCache_[ne],ee=z.gop,!(!(f.pps&&Gl(f.pps[0],z.pps[0]))||!(f.sps&&Gl(f.sps[0],z.sps[0])))&&(ee.dts<f.timelineStartInfo.dts||(q=w.dts-ee.dts-ee.duration,q>=-k&&q<=I&&(!Q||F>q)&&(Q=z,F=q)));return Q?Q.gop:null},this.alignGopsAtStart_=function(w){var I,k,F,q,Q,ee,z,ne;for(Q=w.byteLength,ee=w.nalCount,z=w.duration,I=k=0;I<_.length&&k<w.length&&(F=_[I],q=w[k],F.pts!==q.pts);){if(q.pts>F.pts){I++;continue}k++,Q-=q.byteLength,ee-=q.nalCount,z-=q.duration}return k===0?w:k===w.length?null:(ne=w.slice(k),ne.byteLength=Q,ne.duration=z,ne.nalCount=ee,ne.pts=ne[0].pts,ne.dts=ne[0].dts,ne)},this.alignGopsAtEnd_=function(w){var I,k,F,q,Q,ee;for(I=_.length-1,k=w.length-1,Q=null,ee=!1;I>=0&&k>=0;){if(F=_[I],q=w[k],F.pts===q.pts){ee=!0;break}if(F.pts>q.pts){I--;continue}I===_.length-1&&(Q=k),k--}if(!ee&&Q===null)return null;var z;if(ee?z=k:z=Q,z===0)return w;var ne=w.slice(z),Ie=ne.reduce(function(Xe,Pr){return Xe.byteLength+=Pr.byteLength,Xe.duration+=Pr.duration,Xe.nalCount+=Pr.nalCount,Xe},{byteLength:0,duration:0,nalCount:0});return ne.byteLength=Ie.byteLength,ne.duration=Ie.duration,ne.nalCount=Ie.nalCount,ne.pts=ne[0].pts,ne.dts=ne[0].dts,ne},this.alignGopsWith=function(w){_=w}},ji.prototype=new e,Ar=function(f,m){this.numberOfTracks=0,this.metadataStream=m,f=f||{},typeof f.remux!="undefined"?this.remuxTracks=!!f.remux:this.remuxTracks=!0,typeof f.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=f.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Ar.prototype.init.call(this),this.push=function(p){if(p.text)return this.pendingCaptions.push(p);if(p.frames)return this.pendingMetadata.push(p);this.pendingTracks.push(p.track),this.pendingBytes+=p.boxes.byteLength,p.track.type==="video"&&(this.videoTrack=p.track,this.pendingBoxes.push(p.boxes)),p.track.type==="audio"&&(this.audioTrack=p.track,this.pendingBoxes.unshift(p.boxes))}},Ar.prototype=new e,Ar.prototype.flush=function(S){var f=0,m={captions:[],captionStreams:{},metadata:[],info:{}},p,g,_,b=0,C;if(this.pendingTracks.length<this.numberOfTracks){if(S!=="VideoSegmentStream"&&S!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(b=this.videoTrack.timelineStartInfo.pts,Xs.forEach(function(w){m.info[w]=this.videoTrack[w]},this)):this.audioTrack&&(b=this.audioTrack.timelineStartInfo.pts,Ks.forEach(function(w){m.info[w]=this.audioTrack[w]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?m.type=this.pendingTracks[0].type:m.type="combined",this.emittedTracks+=this.pendingTracks.length,_=Oe.initSegment(this.pendingTracks),m.initSegment=new Uint8Array(_.byteLength),m.initSegment.set(_),m.data=new Uint8Array(this.pendingBytes),C=0;C<this.pendingBoxes.length;C++)m.data.set(this.pendingBoxes[C],f),f+=this.pendingBoxes[C].byteLength;for(C=0;C<this.pendingCaptions.length;C++)p=this.pendingCaptions[C],p.startTime=fe.metadataTsToSeconds(p.startPts,b,this.keepOriginalTimestamps),p.endTime=fe.metadataTsToSeconds(p.endPts,b,this.keepOriginalTimestamps),m.captionStreams[p.stream]=!0,m.captions.push(p);for(C=0;C<this.pendingMetadata.length;C++)g=this.pendingMetadata[C],g.cueTime=fe.metadataTsToSeconds(g.pts,b,this.keepOriginalTimestamps),m.metadata.push(g);for(m.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",m),C=0;C<m.captions.length;C++)p=m.captions[C],this.trigger("caption",p);for(C=0;C<m.metadata.length;C++)g=m.metadata[C],this.trigger("id3Frame",g)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Ar.prototype.setRemux=function(S){this.remuxTracks=S},aa=function(f){var m=this,p=!0,g,_;aa.prototype.init.call(this),f=f||{},this.baseMediaDecodeTime=f.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var b={};this.transmuxPipeline_=b,b.type="aac",b.metadataStream=new zt.MetadataStream,b.aacStream=new dg,b.audioTimestampRolloverStream=new zt.TimestampRolloverStream("audio"),b.timedMetadataTimestampRolloverStream=new zt.TimestampRolloverStream("timed-metadata"),b.adtsStream=new Nl,b.coalesceStream=new Ar(f,b.metadataStream),b.headOfPipeline=b.aacStream,b.aacStream.pipe(b.audioTimestampRolloverStream).pipe(b.adtsStream),b.aacStream.pipe(b.timedMetadataTimestampRolloverStream).pipe(b.metadataStream).pipe(b.coalesceStream),b.metadataStream.on("timestamp",function(C){b.aacStream.setTimestamp(C.timeStamp)}),b.aacStream.on("data",function(C){C.type!=="timed-metadata"&&C.type!=="audio"||b.audioSegmentStream||(_=_||{timelineStartInfo:{baseMediaDecodeTime:m.baseMediaDecodeTime},codec:"adts",type:"audio"},b.coalesceStream.numberOfTracks++,b.audioSegmentStream=new ei(_,f),b.audioSegmentStream.on("log",m.getLogTrigger_("audioSegmentStream")),b.audioSegmentStream.on("timingInfo",m.trigger.bind(m,"audioTimingInfo")),b.adtsStream.pipe(b.audioSegmentStream).pipe(b.coalesceStream),m.trigger("trackinfo",{hasAudio:!!_,hasVideo:!!g}))}),b.coalesceStream.on("data",this.trigger.bind(this,"data")),b.coalesceStream.on("done",this.trigger.bind(this,"done")),jl(this,b)},this.setupTsPipeline=function(){var b={};this.transmuxPipeline_=b,b.type="ts",b.metadataStream=new zt.MetadataStream,b.packetStream=new zt.TransportPacketStream,b.parseStream=new zt.TransportParseStream,b.elementaryStream=new zt.ElementaryStream,b.timestampRolloverStream=new zt.TimestampRolloverStream,b.adtsStream=new Nl,b.h264Stream=new pg,b.captionStream=new zt.CaptionStream(f),b.coalesceStream=new Ar(f,b.metadataStream),b.headOfPipeline=b.packetStream,b.packetStream.pipe(b.parseStream).pipe(b.elementaryStream).pipe(b.timestampRolloverStream),b.timestampRolloverStream.pipe(b.h264Stream),b.timestampRolloverStream.pipe(b.adtsStream),b.timestampRolloverStream.pipe(b.metadataStream).pipe(b.coalesceStream),b.h264Stream.pipe(b.captionStream).pipe(b.coalesceStream),b.elementaryStream.on("data",function(C){var w;if(C.type==="metadata"){for(w=C.tracks.length;w--;)!g&&C.tracks[w].type==="video"?(g=C.tracks[w],g.timelineStartInfo.baseMediaDecodeTime=m.baseMediaDecodeTime):!_&&C.tracks[w].type==="audio"&&(_=C.tracks[w],_.timelineStartInfo.baseMediaDecodeTime=m.baseMediaDecodeTime);g&&!b.videoSegmentStream&&(b.coalesceStream.numberOfTracks++,b.videoSegmentStream=new ji(g,f),b.videoSegmentStream.on("log",m.getLogTrigger_("videoSegmentStream")),b.videoSegmentStream.on("timelineStartInfo",function(I){_&&!f.keepOriginalTimestamps&&(_.timelineStartInfo=I,b.audioSegmentStream.setEarliestDts(I.dts-m.baseMediaDecodeTime))}),b.videoSegmentStream.on("processedGopsInfo",m.trigger.bind(m,"gopInfo")),b.videoSegmentStream.on("segmentTimingInfo",m.trigger.bind(m,"videoSegmentTimingInfo")),b.videoSegmentStream.on("baseMediaDecodeTime",function(I){_&&b.audioSegmentStream.setVideoBaseMediaDecodeTime(I)}),b.videoSegmentStream.on("timingInfo",m.trigger.bind(m,"videoTimingInfo")),b.h264Stream.pipe(b.videoSegmentStream).pipe(b.coalesceStream)),_&&!b.audioSegmentStream&&(b.coalesceStream.numberOfTracks++,b.audioSegmentStream=new ei(_,f),b.audioSegmentStream.on("log",m.getLogTrigger_("audioSegmentStream")),b.audioSegmentStream.on("timingInfo",m.trigger.bind(m,"audioTimingInfo")),b.audioSegmentStream.on("segmentTimingInfo",m.trigger.bind(m,"audioSegmentTimingInfo")),b.adtsStream.pipe(b.audioSegmentStream).pipe(b.coalesceStream)),m.trigger("trackinfo",{hasAudio:!!_,hasVideo:!!g})}}),b.coalesceStream.on("data",this.trigger.bind(this,"data")),b.coalesceStream.on("id3Frame",function(C){C.dispatchType=b.metadataStream.dispatchType,m.trigger("id3Frame",C)}),b.coalesceStream.on("caption",this.trigger.bind(this,"caption")),b.coalesceStream.on("done",this.trigger.bind(this,"done")),jl(this,b)},this.setBaseMediaDecodeTime=function(b){var C=this.transmuxPipeline_;f.keepOriginalTimestamps||(this.baseMediaDecodeTime=b),_&&(_.timelineStartInfo.dts=void 0,_.timelineStartInfo.pts=void 0,St.clearDtsInfo(_),C.audioTimestampRolloverStream&&C.audioTimestampRolloverStream.discontinuity()),g&&(C.videoSegmentStream&&(C.videoSegmentStream.gopCache_=[]),g.timelineStartInfo.dts=void 0,g.timelineStartInfo.pts=void 0,St.clearDtsInfo(g),C.captionStream.reset()),C.timestampRolloverStream&&C.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(b){_&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(b)},this.setRemux=function(b){var C=this.transmuxPipeline_;f.remux=b,C&&C.coalesceStream&&C.coalesceStream.setRemux(b)},this.alignGopsWith=function(b){g&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(b)},this.getLogTrigger_=function(b){var C=this;return function(w){w.stream=b,C.trigger("log",w)}},this.push=function(b){if(p){var C=mg(b);C&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!C&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),p=!1}this.transmuxPipeline_.headOfPipeline.push(b)},this.flush=function(){p=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},aa.prototype=new e;var yg={Transmuxer:aa,VideoSegmentStream:ji,AudioSegmentStream:ei,AUDIO_PROPERTIES:Ks,VIDEO_PROPERTIES:Xs,generateSegmentTimingInfo:Qs},_g=function(f){return f>>>0},Tg=function(f){return("00"+f.toString(16)).slice(-2)},sa={toUnsigned:_g,toHexString:Tg},bg=function(f){var m="";return m+=String.fromCharCode(f[0]),m+=String.fromCharCode(f[1]),m+=String.fromCharCode(f[2]),m+=String.fromCharCode(f[3]),m},wr=bg,xg=sa.toUnsigned,Sg=function S(f,m){var p=[],g,_,b,C,w;if(!m.length)return null;for(g=0;g<f.byteLength;)_=xg(f[g]<<24|f[g+1]<<16|f[g+2]<<8|f[g+3]),b=wr(f.subarray(g+4,g+8)),C=_>1?g+_:f.byteLength,b===m[0]&&(m.length===1?p.push(f.subarray(g+8,C)):(w=S(f.subarray(g+8,C),m.slice(1)),w.length&&(p=p.concat(w)))),g=C;return p},ye=Sg,zl=sa.toUnsigned,Eg=function(f){var m={version:f[0],flags:new Uint8Array(f.subarray(1,4)),baseMediaDecodeTime:zl(f[4]<<24|f[5]<<16|f[6]<<8|f[7])};return m.version===1&&(m.baseMediaDecodeTime*=Math.pow(2,32),m.baseMediaDecodeTime+=zl(f[8]<<24|f[9]<<16|f[10]<<8|f[11])),m},Wl=Eg,Cg=function(f){return{isLeading:(f[0]&12)>>>2,dependsOn:f[0]&3,isDependedOn:(f[1]&192)>>>6,hasRedundancy:(f[1]&48)>>>4,paddingValue:(f[1]&14)>>>1,isNonSyncSample:f[1]&1,degradationPriority:f[2]<<8|f[3]}},$l=Cg,Dg=function(f){var m={version:f[0],flags:new Uint8Array(f.subarray(1,4)),samples:[]},p=new DataView(f.buffer,f.byteOffset,f.byteLength),g=m.flags[2]&1,_=m.flags[2]&4,b=m.flags[1]&1,C=m.flags[1]&2,w=m.flags[1]&4,I=m.flags[1]&8,k=p.getUint32(4),F=8,q;for(g&&(m.dataOffset=p.getInt32(F),F+=4),_&&k&&(q={flags:$l(f.subarray(F,F+4))},F+=4,b&&(q.duration=p.getUint32(F),F+=4),C&&(q.size=p.getUint32(F),F+=4),I&&(m.version===1?q.compositionTimeOffset=p.getInt32(F):q.compositionTimeOffset=p.getUint32(F),F+=4),m.samples.push(q),k--);k--;)q={},b&&(q.duration=p.getUint32(F),F+=4),C&&(q.size=p.getUint32(F),F+=4),w&&(q.flags=$l(f.subarray(F,F+4)),F+=4),I&&(m.version===1?q.compositionTimeOffset=p.getInt32(F):q.compositionTimeOffset=p.getUint32(F),F+=4),m.samples.push(q);return m},Kl=Dg,Ag=function(f){var m=new DataView(f.buffer,f.byteOffset,f.byteLength),p={version:f[0],flags:new Uint8Array(f.subarray(1,4)),trackId:m.getUint32(4)},g=p.flags[2]&1,_=p.flags[2]&2,b=p.flags[2]&8,C=p.flags[2]&16,w=p.flags[2]&32,I=p.flags[0]&65536,k=p.flags[0]&131072,F;return F=8,g&&(F+=4,p.baseDataOffset=m.getUint32(12),F+=4),_&&(p.sampleDescriptionIndex=m.getUint32(F),F+=4),b&&(p.defaultSampleDuration=m.getUint32(F),F+=4),C&&(p.defaultSampleSize=m.getUint32(F),F+=4),w&&(p.defaultSampleFlags=m.getUint32(F)),I&&(p.durationIsEmpty=!0),!g&&k&&(p.baseDataOffsetIsMoof=!0),p},Xl=Ag,wg=qi.discardEmulationPreventionBytes,kg=Xn.CaptionStream,Pg=function(f,m){for(var p=f,g=0;g<m.length;g++){var _=m[g];if(p<_.size)return _;p-=_.size}return null},Ig=function(f,m,p){var g=new DataView(f.buffer,f.byteOffset,f.byteLength),_={logs:[],seiNals:[]},b,C,w,I;for(C=0;C+4<f.length;C+=w)if(w=g.getUint32(C),C+=4,!(w<=0))switch(f[C]&31){case 6:var k=f.subarray(C+1,C+1+w),F=Pg(C,m);if(b={nalUnitType:"sei_rbsp",size:w,data:k,escapedRBSP:wg(k),trackId:p},F)b.pts=F.pts,b.dts=F.dts,I=F;else if(I)b.pts=I.pts,b.dts=I.dts;else{_.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+C+" for trackId "+p+". See mux.js#223."});break}_.seiNals.push(b);break}return _},Lg=function(f,m,p){var g=m,_=p.defaultSampleDuration||0,b=p.defaultSampleSize||0,C=p.trackId,w=[];return f.forEach(function(I){var k=Kl(I),F=k.samples;F.forEach(function(q){q.duration===void 0&&(q.duration=_),q.size===void 0&&(q.size=b),q.trackId=C,q.dts=g,q.compositionTimeOffset===void 0&&(q.compositionTimeOffset=0),q.pts=g+q.compositionTimeOffset,g+=q.duration}),w=w.concat(F)}),w},Og=function(f,m){var p=ye(f,["moof","traf"]),g=ye(f,["mdat"]),_={},b=[];return g.forEach(function(C,w){var I=p[w];b.push({mdat:C,traf:I})}),b.forEach(function(C){var w=C.mdat,I=C.traf,k=ye(I,["tfhd"]),F=Xl(k[0]),q=F.trackId,Q=ye(I,["tfdt"]),ee=Q.length>0?Wl(Q[0]).baseMediaDecodeTime:0,z=ye(I,["trun"]),ne,Ie;m===q&&z.length>0&&(ne=Lg(z,ee,F),Ie=Ig(w,ne,q),_[q]||(_[q]={seiNals:[],logs:[]}),_[q].seiNals=_[q].seiNals.concat(Ie.seiNals),_[q].logs=_[q].logs.concat(Ie.logs))}),_},Fg=function(f,m,p){var g;if(m===null)return null;g=Og(f,m);var _=g[m]||{};return{seiNals:_.seiNals,logs:_.logs,timescale:p}},Bg=function(){var f=!1,m,p,g,_,b,C;this.isInitialized=function(){return f},this.init=function(w){m=new kg,f=!0,C=w?w.isPartial:!1,m.on("data",function(I){I.startTime=I.startPts/_,I.endTime=I.endPts/_,b.captions.push(I),b.captionStreams[I.stream]=!0}),m.on("log",function(I){b.logs.push(I)})},this.isNewInit=function(w,I){return w&&w.length===0||I&&typeof I=="object"&&Object.keys(I).length===0?!1:g!==w[0]||_!==I[g]},this.parse=function(w,I,k){var F;if(this.isInitialized()){if(!I||!k)return null;if(this.isNewInit(I,k))g=I[0],_=k[g];else if(g===null||!_)return p.push(w),null}else return null;for(;p.length>0;){var q=p.shift();this.parse(q,I,k)}return F=Fg(w,g,_),F&&F.logs&&(b.logs=b.logs.concat(F.logs)),F===null||!F.seiNals?b.logs.length?{logs:b.logs,captions:[],captionStreams:[]}:null:(this.pushNals(F.seiNals),this.flushStream(),b)},this.pushNals=function(w){if(!this.isInitialized()||!w||w.length===0)return null;w.forEach(function(I){m.push(I)})},this.flushStream=function(){if(!this.isInitialized())return null;C?m.partialFlush():m.flush()},this.clearParsedCaptions=function(){b.captions=[],b.captionStreams={},b.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;m.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){p=[],g=null,_=null,b?this.clearParsedCaptions():b={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Rg=Bg,ti=sa.toUnsigned,Gi=sa.toHexString,Ql,Yl,Jl,Zl,ec,Ys;Ql=function(f){var m={},p=ye(f,["moov","trak"]);return p.reduce(function(g,_){var b,C,w,I,k;return b=ye(_,["tkhd"])[0],!b||(C=b[0],w=C===0?12:20,I=ti(b[w]<<24|b[w+1]<<16|b[w+2]<<8|b[w+3]),k=ye(_,["mdia","mdhd"])[0],!k)?null:(C=k[0],w=C===0?12:20,g[I]=ti(k[w]<<24|k[w+1]<<16|k[w+2]<<8|k[w+3]),g)},m)},Yl=function(f,m){var p,g,_;return p=ye(m,["moof","traf"]),g=[].concat.apply([],p.map(function(b){return ye(b,["tfhd"]).map(function(C){var w,I,k;return w=ti(C[4]<<24|C[5]<<16|C[6]<<8|C[7]),I=f[w]||9e4,k=ye(b,["tfdt"]).map(function(F){var q,Q;return q=F[0],Q=ti(F[4]<<24|F[5]<<16|F[6]<<8|F[7]),q===1&&(Q*=Math.pow(2,32),Q+=ti(F[8]<<24|F[9]<<16|F[10]<<8|F[11])),Q})[0],k=typeof k=="number"&&!isNaN(k)?k:1/0,k/I})})),_=Math.min.apply(null,g),isFinite(_)?_:0},Jl=function(f,m){var p=ye(m,["moof","traf"]),g=0,_=0,b;if(p&&p.length){var C=ye(p[0],["tfhd"])[0],w=ye(p[0],["trun"])[0],I=ye(p[0],["tfdt"])[0];if(C){var k=Xl(C);b=k.trackId}if(I){var F=Wl(I);g=F.baseMediaDecodeTime}if(w){var q=Kl(w);q.samples&&q.samples.length&&(_=q.samples[0].compositionTimeOffset||0)}}var Q=f[b]||9e4;return(g+_)/Q},Zl=function(f){var m=ye(f,["moov","trak"]),p=[];return m.forEach(function(g){var _=ye(g,["mdia","hdlr"]),b=ye(g,["tkhd"]);_.forEach(function(C,w){var I=wr(C.subarray(8,12)),k=b[w],F,q,Q;I==="vide"&&(F=new DataView(k.buffer,k.byteOffset,k.byteLength),q=F.getUint8(0),Q=q===0?F.getUint32(12):F.getUint32(20),p.push(Q))})}),p},Ys=function(f){var m=f[0],p=m===0?12:20;return ti(f[p]<<24|f[p+1]<<16|f[p+2]<<8|f[p+3])},ec=function(f){var m=ye(f,["moov","trak"]),p=[];return m.forEach(function(g){var _={},b=ye(g,["tkhd"])[0],C,w;b&&(C=new DataView(b.buffer,b.byteOffset,b.byteLength),w=C.getUint8(0),_.id=w===0?C.getUint32(12):C.getUint32(20));var I=ye(g,["mdia","hdlr"])[0];if(I){var k=wr(I.subarray(8,12));k==="vide"?_.type="video":k==="soun"?_.type="audio":_.type=k}var F=ye(g,["mdia","minf","stbl","stsd"])[0];if(F){var q=F.subarray(8);_.codec=wr(q.subarray(4,8));var Q=ye(q,[_.codec])[0],ee,z;Q&&(/^[asm]vc[1-9]$/i.test(_.codec)?(ee=Q.subarray(78),z=wr(ee.subarray(4,8)),z==="avcC"&&ee.length>11?(_.codec+=".",_.codec+=Gi(ee[9]),_.codec+=Gi(ee[10]),_.codec+=Gi(ee[11])):_.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(_.codec)?(ee=Q.subarray(28),z=wr(ee.subarray(4,8)),z==="esds"&&ee.length>20&&ee[19]!==0?(_.codec+="."+Gi(ee[19]),_.codec+="."+Gi(ee[20]>>>2&63).replace(/^0/,"")):_.codec="mp4a.40.2"):_.codec=_.codec.toLowerCase())}var ne=ye(g,["mdia","mdhd"])[0];ne&&(_.timescale=Ys(ne)),p.push(_)}),p};var tc={findBox:ye,parseType:wr,timescale:Ql,startTime:Yl,compositionStartTime:Jl,videoTrackIds:Zl,tracks:ec,getTimescaleFromMediaHeader:Ys},rc=function(f){var m=f[1]&31;return m<<=8,m|=f[2],m},oa=function(f){return!!(f[1]&64)},ua=function(f){var m=0;return(f[3]&48)>>>4>1&&(m+=f[4]+1),m},Mg=function(f,m){var p=rc(f);return p===0?"pat":p===m?"pmt":m?"pes":null},Ng=function(f){var m=oa(f),p=4+ua(f);return m&&(p+=f[p]+1),(f[p+10]&31)<<8|f[p+11]},Ug=function(f){var m={},p=oa(f),g=4+ua(f);if(p&&(g+=f[g]+1),!!(f[g+5]&1)){var _,b,C;_=(f[g+1]&15)<<8|f[g+2],b=3+_-4,C=(f[g+10]&15)<<8|f[g+11];for(var w=12+C;w<b;){var I=g+w;m[(f[I+1]&31)<<8|f[I+2]]=f[I],w+=((f[I+3]&15)<<8|f[I+4])+5}return m}},qg=function(f,m){var p=rc(f),g=m[p];switch(g){case qe.H264_STREAM_TYPE:return"video";case qe.ADTS_STREAM_TYPE:return"audio";case qe.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Vg=function(f){var m=oa(f);if(!m)return null;var p=4+ua(f);if(p>=f.byteLength)return null;var g=null,_;return _=f[p+7],_&192&&(g={},g.pts=(f[p+9]&14)<<27|(f[p+10]&255)<<20|(f[p+11]&254)<<12|(f[p+12]&255)<<5|(f[p+13]&254)>>>3,g.pts*=4,g.pts+=(f[p+13]&6)>>>1,g.dts=g.pts,_&64&&(g.dts=(f[p+14]&14)<<27|(f[p+15]&255)<<20|(f[p+16]&254)<<12|(f[p+17]&255)<<5|(f[p+18]&254)>>>3,g.dts*=4,g.dts+=(f[p+18]&6)>>>1)),g},Js=function(f){switch(f){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Hg=function(f){for(var m=4+ua(f),p=f.subarray(m),g=0,_=0,b=!1,C;_<p.byteLength-3;_++)if(p[_+2]===1){g=_+5;break}for(;g<p.byteLength;)switch(p[g]){case 0:if(p[g-1]!==0){g+=2;break}else if(p[g-2]!==0){g++;break}_+3!==g-2&&(C=Js(p[_+3]&31),C==="slice_layer_without_partitioning_rbsp_idr"&&(b=!0));do g++;while(p[g]!==1&&g<p.length);_=g-2,g+=3;break;case 1:if(p[g-1]!==0||p[g-2]!==0){g+=3;break}C=Js(p[_+3]&31),C==="slice_layer_without_partitioning_rbsp_idr"&&(b=!0),_=g-2,g+=3;break;default:g+=3;break}return p=p.subarray(_),g-=_,_=0,p&&p.byteLength>3&&(C=Js(p[_+3]&31),C==="slice_layer_without_partitioning_rbsp_idr"&&(b=!0)),b},jg={parseType:Mg,parsePat:Ng,parsePmt:Ug,parsePayloadUnitStartIndicator:oa,parsePesType:qg,parsePesTime:Vg,videoPacketContainsKeyFrame:Hg},ri=Ol.handleRollover,pe={};pe.ts=jg,pe.aac=ia;var kr=fe.ONE_SECOND_IN_TS,Ke=188,Ot=71,Gg=function(f,m){for(var p=0,g=Ke,_,b;g<f.byteLength;){if(f[p]===Ot&&f[g]===Ot){switch(_=f.subarray(p,g),b=pe.ts.parseType(_,m.pid),b){case"pat":m.pid=pe.ts.parsePat(_);break;case"pmt":var C=pe.ts.parsePmt(_);m.table=m.table||{},Object.keys(C).forEach(function(w){m.table[w]=C[w]});break}p+=Ke,g+=Ke;continue}p++,g++}},ic=function(f,m,p){for(var g=0,_=Ke,b,C,w,I,k,F=!1;_<=f.byteLength;){if(f[g]===Ot&&(f[_]===Ot||_===f.byteLength)){switch(b=f.subarray(g,_),C=pe.ts.parseType(b,m.pid),C){case"pes":w=pe.ts.parsePesType(b,m.table),I=pe.ts.parsePayloadUnitStartIndicator(b),w==="audio"&&I&&(k=pe.ts.parsePesTime(b),k&&(k.type="audio",p.audio.push(k),F=!0));break}if(F)break;g+=Ke,_+=Ke;continue}g++,_++}for(_=f.byteLength,g=_-Ke,F=!1;g>=0;){if(f[g]===Ot&&(f[_]===Ot||_===f.byteLength)){switch(b=f.subarray(g,_),C=pe.ts.parseType(b,m.pid),C){case"pes":w=pe.ts.parsePesType(b,m.table),I=pe.ts.parsePayloadUnitStartIndicator(b),w==="audio"&&I&&(k=pe.ts.parsePesTime(b),k&&(k.type="audio",p.audio.push(k),F=!0));break}if(F)break;g-=Ke,_-=Ke;continue}g--,_--}},zg=function(f,m,p){for(var g=0,_=Ke,b,C,w,I,k,F,q,Q,ee=!1,z={data:[],size:0};_<f.byteLength;){if(f[g]===Ot&&f[_]===Ot){switch(b=f.subarray(g,_),C=pe.ts.parseType(b,m.pid),C){case"pes":if(w=pe.ts.parsePesType(b,m.table),I=pe.ts.parsePayloadUnitStartIndicator(b),w==="video"&&(I&&!ee&&(k=pe.ts.parsePesTime(b),k&&(k.type="video",p.video.push(k),ee=!0)),!p.firstKeyFrame)){if(I&&z.size!==0){for(F=new Uint8Array(z.size),q=0;z.data.length;)Q=z.data.shift(),F.set(Q,q),q+=Q.byteLength;if(pe.ts.videoPacketContainsKeyFrame(F)){var ne=pe.ts.parsePesTime(F);ne?(p.firstKeyFrame=ne,p.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}z.size=0}z.data.push(b),z.size+=b.byteLength}break}if(ee&&p.firstKeyFrame)break;g+=Ke,_+=Ke;continue}g++,_++}for(_=f.byteLength,g=_-Ke,ee=!1;g>=0;){if(f[g]===Ot&&f[_]===Ot){switch(b=f.subarray(g,_),C=pe.ts.parseType(b,m.pid),C){case"pes":w=pe.ts.parsePesType(b,m.table),I=pe.ts.parsePayloadUnitStartIndicator(b),w==="video"&&I&&(k=pe.ts.parsePesTime(b),k&&(k.type="video",p.video.push(k),ee=!0));break}if(ee)break;g-=Ke,_-=Ke;continue}g--,_--}},Wg=function(f,m){if(f.audio&&f.audio.length){var p=m;(typeof p=="undefined"||isNaN(p))&&(p=f.audio[0].dts),f.audio.forEach(function(b){b.dts=ri(b.dts,p),b.pts=ri(b.pts,p),b.dtsTime=b.dts/kr,b.ptsTime=b.pts/kr})}if(f.video&&f.video.length){var g=m;if((typeof g=="undefined"||isNaN(g))&&(g=f.video[0].dts),f.video.forEach(function(b){b.dts=ri(b.dts,g),b.pts=ri(b.pts,g),b.dtsTime=b.dts/kr,b.ptsTime=b.pts/kr}),f.firstKeyFrame){var _=f.firstKeyFrame;_.dts=ri(_.dts,g),_.pts=ri(_.pts,g),_.dtsTime=_.dts/kr,_.ptsTime=_.pts/kr}}},$g=function(f){for(var m=!1,p=0,g=null,_=null,b=0,C=0,w;f.length-C>=3;){var I=pe.aac.parseType(f,C);switch(I){case"timed-metadata":if(f.length-C<10){m=!0;break}if(b=pe.aac.parseId3TagSize(f,C),b>f.length){m=!0;break}_===null&&(w=f.subarray(C,C+b),_=pe.aac.parseAacTimestamp(w)),C+=b;break;case"audio":if(f.length-C<7){m=!0;break}if(b=pe.aac.parseAdtsSize(f,C),b>f.length){m=!0;break}g===null&&(w=f.subarray(C,C+b),g=pe.aac.parseSampleRate(w)),p++,C+=b;break;default:C++;break}if(m)return null}if(g===null||_===null)return null;var k=kr/g,F={audio:[{type:"audio",dts:_,pts:_},{type:"audio",dts:_+p*1024*k,pts:_+p*1024*k}]};return F},Kg=function(f){var m={pid:null,table:null},p={};Gg(f,m);for(var g in m.table)if(m.table.hasOwnProperty(g)){var _=m.table[g];switch(_){case qe.H264_STREAM_TYPE:p.video=[],zg(f,m,p),p.video.length===0&&delete p.video;break;case qe.ADTS_STREAM_TYPE:p.audio=[],ic(f,m,p),p.audio.length===0&&delete p.audio;break}}return p},Xg=function(f,m){var p=pe.aac.isLikelyAacData(f),g;return p?g=$g(f):g=Kg(f),!g||!g.audio&&!g.video?null:(Wg(g,m),g)},Qg={inspect:Xg,parseAudioPes_:ic},Yg=function(f,m){m.on("data",function(p){var g=p.initSegment;p.initSegment={data:g.buffer,byteOffset:g.byteOffset,byteLength:g.byteLength};var _=p.data;p.data=_.buffer,f.postMessage({action:"data",segment:p,byteOffset:_.byteOffset,byteLength:_.byteLength},[p.data])}),m.on("done",function(p){f.postMessage({action:"done"})}),m.on("gopInfo",function(p){f.postMessage({action:"gopInfo",gopInfo:p})}),m.on("videoSegmentTimingInfo",function(p){var g={start:{decode:fe.videoTsToSeconds(p.start.dts),presentation:fe.videoTsToSeconds(p.start.pts)},end:{decode:fe.videoTsToSeconds(p.end.dts),presentation:fe.videoTsToSeconds(p.end.pts)},baseMediaDecodeTime:fe.videoTsToSeconds(p.baseMediaDecodeTime)};p.prependedContentDuration&&(g.prependedContentDuration=fe.videoTsToSeconds(p.prependedContentDuration)),f.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:g})}),m.on("audioSegmentTimingInfo",function(p){var g={start:{decode:fe.videoTsToSeconds(p.start.dts),presentation:fe.videoTsToSeconds(p.start.pts)},end:{decode:fe.videoTsToSeconds(p.end.dts),presentation:fe.videoTsToSeconds(p.end.pts)},baseMediaDecodeTime:fe.videoTsToSeconds(p.baseMediaDecodeTime)};p.prependedContentDuration&&(g.prependedContentDuration=fe.videoTsToSeconds(p.prependedContentDuration)),f.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:g})}),m.on("id3Frame",function(p){f.postMessage({action:"id3Frame",id3Frame:p})}),m.on("caption",function(p){f.postMessage({action:"caption",caption:p})}),m.on("trackinfo",function(p){f.postMessage({action:"trackinfo",trackInfo:p})}),m.on("audioTimingInfo",function(p){f.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:fe.videoTsToSeconds(p.start),end:fe.videoTsToSeconds(p.end)}})}),m.on("videoTimingInfo",function(p){f.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:fe.videoTsToSeconds(p.start),end:fe.videoTsToSeconds(p.end)}})}),m.on("log",function(p){f.postMessage({action:"log",log:p})})},nc=function(){function S(m,p){this.options=p||{},this.self=m,this.init()}var f=S.prototype;return f.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new yg.Transmuxer(this.options),Yg(this.self,this.transmuxer)},f.pushMp4Captions=function(p){this.captionParser||(this.captionParser=new Rg,this.captionParser.init());var g=new Uint8Array(p.data,p.byteOffset,p.byteLength),_=this.captionParser.parse(g,p.trackIds,p.timescales);this.self.postMessage({action:"mp4Captions",captions:_&&_.captions||[],logs:_&&_.logs||[],data:g.buffer},[g.buffer])},f.probeMp4StartTime=function(p){var g=p.timescales,_=p.data,b=tc.startTime(g,_);this.self.postMessage({action:"probeMp4StartTime",startTime:b,data:_},[_.buffer])},f.probeMp4Tracks=function(p){var g=p.data,_=tc.tracks(g);this.self.postMessage({action:"probeMp4Tracks",tracks:_,data:g},[g.buffer])},f.probeTs=function(p){var g=p.data,_=p.baseStartTime,b=typeof _=="number"&&!isNaN(_)?_*fe.ONE_SECOND_IN_TS:void 0,C=Qg.inspect(g,b),w=null;C&&(w={hasVideo:C.video&&C.video.length===2||!1,hasAudio:C.audio&&C.audio.length===2||!1},w.hasVideo&&(w.videoStart=C.video[0].ptsTime),w.hasAudio&&(w.audioStart=C.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:w,data:g},[g.buffer])},f.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},f.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},f.push=function(p){var g=new Uint8Array(p.data,p.byteOffset,p.byteLength);this.transmuxer.push(g)},f.reset=function(){this.transmuxer.reset()},f.setTimestampOffset=function(p){var g=p.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(fe.secondsToVideoTs(g)))},f.setAudioAppendStart=function(p){this.transmuxer.setAudioAppendStart(Math.ceil(fe.secondsToVideoTs(p.appendStart)))},f.setRemux=function(p){this.transmuxer.setRemux(p.remux)},f.flush=function(p){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},f.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},f.alignGopsWith=function(p){this.transmuxer.alignGopsWith(p.gopsToAlignWith.slice())},S}();self.onmessage=function(S){if(S.data.action==="init"&&S.data.options){this.messageHandlers=new nc(self,S.data.options);return}this.messageHandlers||(this.messageHandlers=new nc(self)),S.data&&S.data.action&&S.data.action!=="init"&&this.messageHandlers[S.data.action]&&this.messageHandlers[S.data.action](S.data)}})),xS=$p(bS),SS=function(e,r,i){var t=e.data.segment,n=t.type,s=t.initSegment,o=t.captions,u=t.captionStreams,l=t.metadata,c=t.videoFrameDtsTime,d=t.videoFramePtsTime;r.buffer.push({captions:o,captionStreams:u,metadata:l});var h=e.data.segment.boxes||{data:e.data.segment.data},v={type:n,data:new Uint8Array(h.data,h.data.byteOffset,h.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};typeof c!="undefined"&&(v.videoFrameDtsTime=c),typeof d!="undefined"&&(v.videoFramePtsTime=d),i(v)},ES=function(e){var r=e.transmuxedData,i=e.callback;r.buffer=[],i(r)},CS=function(e,r){r.gopInfo=e.data.gopInfo},Qp=function(e){var r=e.transmuxer,i=e.bytes,t=e.audioAppendStart,n=e.gopsToAlignWith,s=e.remux,o=e.onData,u=e.onTrackInfo,l=e.onAudioTimingInfo,c=e.onVideoTimingInfo,d=e.onVideoSegmentTimingInfo,h=e.onAudioSegmentTimingInfo,v=e.onId3,T=e.onCaptions,x=e.onDone,y=e.onEndedTimeline,E=e.onTransmuxerLog,D=e.isEndOfTimeline,A={buffer:[]},L=D,O=function(R){r.currentTransmux===e&&(R.data.action==="data"&&SS(R,A,o),R.data.action==="trackinfo"&&u(R.data.trackInfo),R.data.action==="gopInfo"&&CS(R,A),R.data.action==="audioTimingInfo"&&l(R.data.audioTimingInfo),R.data.action==="videoTimingInfo"&&c(R.data.videoTimingInfo),R.data.action==="videoSegmentTimingInfo"&&d(R.data.videoSegmentTimingInfo),R.data.action==="audioSegmentTimingInfo"&&h(R.data.audioSegmentTimingInfo),R.data.action==="id3Frame"&&v([R.data.id3Frame],R.data.id3Frame.dispatchType),R.data.action==="caption"&&T(R.data.caption),R.data.action==="endedtimeline"&&(L=!1,y()),R.data.action==="log"&&E(R.data.log),R.data.type==="transmuxed"&&(L||(r.onmessage=null,ES({transmuxedData:A,callback:x}),Yp(r))))};if(r.onmessage=O,t&&r.postMessage({action:"setAudioAppendStart",appendStart:t}),Array.isArray(n)&&r.postMessage({action:"alignGopsWith",gopsToAlignWith:n}),typeof s!="undefined"&&r.postMessage({action:"setRemux",remux:s}),i.byteLength){var N=i instanceof ArrayBuffer?i:i.buffer,V=i instanceof ArrayBuffer?0:i.byteOffset;r.postMessage({action:"push",data:N,byteOffset:V,byteLength:i.byteLength},[N])}D&&r.postMessage({action:"endTimeline"}),r.postMessage({action:"flush"})},Yp=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),typeof e.currentTransmux=="function"?e.currentTransmux():Qp(e.currentTransmux))},Jp=function(e,r){e.postMessage({action:r}),Yp(e)},Zp=function(e,r){if(!r.currentTransmux){r.currentTransmux=e,Jp(r,e);return}r.transmuxQueue.push(Jp.bind(null,r,e))},DS=function(e){Zp("reset",e)},AS=function(e){Zp("endTimeline",e)},em=function(e){if(!e.transmuxer.currentTransmux){e.transmuxer.currentTransmux=e,Qp(e);return}e.transmuxer.transmuxQueue.push(e)},wS=function(e){var r=new xS;r.currentTransmux=null,r.transmuxQueue=[];var i=r.terminate;return r.terminate=function(){return r.currentTransmux=null,r.transmuxQueue.length=0,i.call(r)},r.postMessage({action:"init",options:e}),r},yl={reset:DS,endTimeline:AS,transmux:em,createTransmuxer:wS},Ls=function(e){var r=e.transmuxer,i=e.endAction||e.action,t=e.callback,n=_t({},e,{endAction:null,transmuxer:null,callback:null}),s=function l(c){c.data.action===i&&(r.removeEventListener("message",l),c.data.data&&(c.data.data=new Uint8Array(c.data.data,e.byteOffset||0,e.byteLength||c.data.data.byteLength),e.data&&(e.data=c.data.data)),t(c.data))};if(r.addEventListener("message",s),e.data){var o=e.data instanceof ArrayBuffer;n.byteOffset=o?0:e.data.byteOffset,n.byteLength=e.data.byteLength;var u=[o?e.data:e.data.buffer];r.postMessage(n,u)}else r.postMessage(n)},Ht={FAILURE:2,TIMEOUT:-101,ABORTED:-102},_l=function(e){e.forEach(function(r){r.abort()})},kS=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},PS=function(e){var r=e.target,i=Date.now()-r.requestTime,t={bandwidth:1/0,bytesReceived:0,roundTripTime:i||0};return t.bytesReceived=e.loaded,t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3),t},Tl=function(e,r){return r.timedout?{status:r.status,message:"HLS request timed-out at URL: "+r.uri,code:Ht.TIMEOUT,xhr:r}:r.aborted?{status:r.status,message:"HLS request aborted at URL: "+r.uri,code:Ht.ABORTED,xhr:r}:e?{status:r.status,message:"HLS request errored at URL: "+r.uri,code:Ht.FAILURE,xhr:r}:r.responseType==="arraybuffer"&&r.response.byteLength===0?{status:r.status,message:"Empty HLS response at URL: "+r.uri,code:Ht.FAILURE,xhr:r}:null},tm=function(e,r,i){return function(t,n){var s=n.response,o=Tl(t,n);if(o)return i(o,e);if(s.byteLength!==16)return i({status:n.status,message:"Invalid HLS key at URL: "+n.uri,code:Ht.FAILURE,xhr:n},e);for(var u=new DataView(s),l=new Uint32Array([u.getUint32(0),u.getUint32(4),u.getUint32(8),u.getUint32(12)]),c=0;c<r.length;c++)r[c].bytes=l;return i(null,e)}},rm=function(e,r){var i=ru(e.map.bytes);if(i!=="mp4"){var t=e.map.resolvedUri||e.map.uri;return r({internal:!0,message:"Found unsupported "+(i||"unknown")+" container for initialization segment at URL: "+t,code:Ht.FAILURE})}Ls({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(s){var o=s.tracks,u=s.data;return e.map.bytes=u,o.forEach(function(l){e.map.tracks=e.map.tracks||{},!e.map.tracks[l.type]&&(e.map.tracks[l.type]=l,typeof l.id=="number"&&l.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[l.id]=l.timescale))}),r(null)}})},IS=function(e){var r=e.segment,i=e.finishProcessingFn;return function(t,n){var s=Tl(t,n);if(s)return i(s,r);var o=new Uint8Array(n.response);if(r.map.key)return r.map.encryptedBytes=o,i(null,r);r.map.bytes=o,rm(r,function(u){if(u)return u.xhr=n,u.status=n.status,i(u,r);i(null,r)})}},LS=function(e){var r=e.segment,i=e.finishProcessingFn,t=e.responseType;return function(n,s){var o=Tl(n,s);if(o)return i(o,r);var u=t==="arraybuffer"||!s.responseText?s.response:_S(s.responseText.substring(r.lastReachedChar||0));return r.stats=kS(s),r.key?r.encryptedBytes=new Uint8Array(u):r.bytes=new Uint8Array(u),i(null,r)}},OS=function(e){var r=e.segment,i=e.bytes,t=e.trackInfoFn,n=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,u=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,d=e.endedTimelineFn,h=e.dataFn,v=e.doneFn,T=e.onTransmuxerLog,x=r.map&&r.map.tracks||{},y=Boolean(x.audio&&x.video),E=n.bind(null,r,"audio","start"),D=n.bind(null,r,"audio","end"),A=n.bind(null,r,"video","start"),L=n.bind(null,r,"video","end"),O=function(){return em({bytes:i,transmuxer:r.transmuxer,audioAppendStart:r.audioAppendStart,gopsToAlignWith:r.gopsToAlignWith,remux:y,onData:function(M){M.type=M.type==="combined"?"video":M.type,h(r,M)},onTrackInfo:function(M){t&&(y&&(M.isMuxed=!0),t(r,M))},onAudioTimingInfo:function(M){E&&typeof M.start!="undefined"&&(E(M.start),E=null),D&&typeof M.end!="undefined"&&D(M.end)},onVideoTimingInfo:function(M){A&&typeof M.start!="undefined"&&(A(M.start),A=null),L&&typeof M.end!="undefined"&&L(M.end)},onVideoSegmentTimingInfo:function(M){s(M)},onAudioSegmentTimingInfo:function(M){o(M)},onId3:function(M,R){u(r,M,R)},onCaptions:function(M){l(r,[M])},isEndOfTimeline:c,onEndedTimeline:function(){d()},onTransmuxerLog:T,onDone:function(M){!v||(M.type=M.type==="combined"?"video":M.type,v(null,r,M))}})};Ls({action:"probeTs",transmuxer:r.transmuxer,data:i,baseStartTime:r.baseStartTime,callback:function(V){r.bytes=i=V.data;var M=V.result;M&&(t(r,{hasAudio:M.hasAudio,hasVideo:M.hasVideo,isMuxed:y}),t=null,M.hasAudio&&!y&&E(M.audioStart),M.hasVideo&&A(M.videoStart),E=null,A=null),O()}})},im=function(e){var r=e.segment,i=e.bytes,t=e.trackInfoFn,n=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,u=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,d=e.endedTimelineFn,h=e.dataFn,v=e.doneFn,T=e.onTransmuxerLog,x=new Uint8Array(i);if(rb(x)){r.isFmp4=!0;var y=r.map.tracks,E={isFmp4:!0,hasVideo:!!y.video,hasAudio:!!y.audio};y.audio&&y.audio.codec&&y.audio.codec!=="enca"&&(E.audioCodec=y.audio.codec),y.video&&y.video.codec&&y.video.codec!=="encv"&&(E.videoCodec=y.video.codec),y.video&&y.audio&&(E.isMuxed=!0),t(r,E);var D=function(L){h(r,{data:x,type:E.hasAudio&&!E.isMuxed?"audio":"video"}),L&&L.length&&l(r,L),v(null,r,{})};Ls({action:"probeMp4StartTime",timescales:r.map.timescales,data:x,transmuxer:r.transmuxer,callback:function(L){var O=L.data,N=L.startTime;if(i=O.buffer,r.bytes=x=O,E.hasAudio&&!E.isMuxed&&n(r,"audio","start",N),E.hasVideo&&n(r,"video","start",N),!y.video||!O.byteLength||!r.transmuxer){D();return}Ls({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:r.transmuxer,data:x,timescales:r.map.timescales,trackIds:[y.video.id],callback:function(M){i=M.data.buffer,r.bytes=x=M.data,M.logs.forEach(function(R){T(B.mergeOptions(R,{stream:"mp4CaptionParser"}))}),D(M.captions)}})}});return}if(!r.transmuxer){v(null,r,{});return}if(typeof r.container=="undefined"&&(r.container=ru(x)),r.container!=="ts"&&r.container!=="aac"){t(r,{hasAudio:!1,hasVideo:!1}),v(null,r,{});return}OS({segment:r,bytes:i,trackInfoFn:t,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:d,dataFn:h,doneFn:v,onTransmuxerLog:T})},nm=function(e,r){var i=e.id,t=e.key,n=e.encryptedBytes,s=e.decryptionWorker,o=function l(c){if(c.data.source===i){s.removeEventListener("message",l);var d=c.data.decrypted;r(new Uint8Array(d.bytes,d.byteOffset,d.byteLength))}};s.addEventListener("message",o);var u;t.bytes.slice?u=t.bytes.slice():u=new Uint32Array(Array.prototype.slice.call(t.bytes)),s.postMessage(Up({source:i,encrypted:n,key:u,iv:t.iv}),[n.buffer,u.buffer])},FS=function(e){var r=e.decryptionWorker,i=e.segment,t=e.trackInfoFn,n=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,u=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,d=e.endedTimelineFn,h=e.dataFn,v=e.doneFn,T=e.onTransmuxerLog;nm({id:i.requestId,key:i.key,encryptedBytes:i.encryptedBytes,decryptionWorker:r},function(x){i.bytes=x,im({segment:i,bytes:i.bytes,trackInfoFn:t,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:d,dataFn:h,doneFn:v,onTransmuxerLog:T})})},BS=function(e){var r=e.activeXhrs,i=e.decryptionWorker,t=e.trackInfoFn,n=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,u=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,d=e.endedTimelineFn,h=e.dataFn,v=e.doneFn,T=e.onTransmuxerLog,x=0,y=!1;return function(E,D){if(!y){if(E)return y=!0,_l(r),v(E,D);if(x+=1,x===r.length){var A=function(){if(D.encryptedBytes)return FS({decryptionWorker:i,segment:D,trackInfoFn:t,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:d,dataFn:h,doneFn:v,onTransmuxerLog:T});im({segment:D,bytes:D.bytes,trackInfoFn:t,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:d,dataFn:h,doneFn:v,onTransmuxerLog:T})};if(D.endOfAllRequests=Date.now(),D.map&&D.map.encryptedBytes&&!D.map.bytes)return nm({decryptionWorker:i,id:D.requestId+"-init",encryptedBytes:D.map.encryptedBytes,key:D.map.key},function(L){D.map.bytes=L,rm(D,function(O){if(O)return _l(r),v(O,D);A()})});A()}}}},RS=function(e){var r=e.loadendState,i=e.abortFn;return function(t){var n=t.target;n.aborted&&i&&!r.calledAbortFn&&(i(),r.calledAbortFn=!0)}},MS=function(e){var r=e.segment,i=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(t){var n=t.target;if(!n.aborted)return r.stats=B.mergeOptions(r.stats,PS(t)),!r.stats.firstBytesReceivedAt&&r.stats.bytesReceived&&(r.stats.firstBytesReceivedAt=Date.now()),i(t,r)}},NS=function(e){var r=e.xhr,i=e.xhrOptions,t=e.decryptionWorker,n=e.segment,s=e.abortFn,o=e.progressFn,u=e.trackInfoFn,l=e.timingInfoFn,c=e.videoSegmentTimingInfoFn,d=e.audioSegmentTimingInfoFn,h=e.id3Fn,v=e.captionsFn,T=e.isEndOfTimeline,x=e.endedTimelineFn,y=e.dataFn,E=e.doneFn,D=e.onTransmuxerLog,A=[],L=BS({activeXhrs:A,decryptionWorker:t,trackInfoFn:u,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:d,id3Fn:h,captionsFn:v,isEndOfTimeline:T,endedTimelineFn:x,dataFn:y,doneFn:E,onTransmuxerLog:D});if(n.key&&!n.key.bytes){var O=[n.key];n.map&&!n.map.bytes&&n.map.key&&n.map.key.resolvedUri===n.key.resolvedUri&&O.push(n.map.key);var N=B.mergeOptions(i,{uri:n.key.resolvedUri,responseType:"arraybuffer"}),V=tm(n,O,L),M=r(N,V);A.push(M)}if(n.map&&!n.map.bytes){var R=n.map.key&&(!n.key||n.key.resolvedUri!==n.map.key.resolvedUri);if(R){var U=B.mergeOptions(i,{uri:n.map.key.resolvedUri,responseType:"arraybuffer"}),G=tm(n,[n.map.key],L),Y=r(U,G);A.push(Y)}var te=B.mergeOptions(i,{uri:n.map.resolvedUri,responseType:"arraybuffer",headers:ml(n.map)}),H=IS({segment:n,finishProcessingFn:L}),K=r(te,H);A.push(K)}var X=B.mergeOptions(i,{uri:n.part&&n.part.resolvedUri||n.resolvedUri,responseType:"arraybuffer",headers:ml(n)}),ae=LS({segment:n,finishProcessingFn:L,responseType:X.responseType}),Ce=r(X,ae);Ce.addEventListener("progress",MS({segment:n,progressFn:o,trackInfoFn:u,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:d,id3Fn:h,captionsFn:v,isEndOfTimeline:T,endedTimelineFn:x,dataFn:y})),A.push(Ce);var Z={};return A.forEach(function(ue){ue.addEventListener("loadend",RS({loadendState:Z,abortFn:s}))}),function(){return _l(A)}},US=Lt("CodecUtils"),qS=function(e){var r=e.attributes||{};if(r.CODECS)return Nt(r.CODECS)},am=function(e,r){var i=r.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&i.AUDIO&&e.mediaGroups.AUDIO[i.AUDIO]},VS=function(e,r){if(!am(e,r))return!0;var i=r.attributes||{},t=e.mediaGroups.AUDIO[i.AUDIO];for(var n in t)if(!t[n].uri&&!t[n].playlists)return!0;return!1},Os=function(e){var r={};return e.forEach(function(i){var t=i.mediaType,n=i.type,s=i.details;r[t]=r[t]||[],r[t].push(Pd(""+n+s))}),Object.keys(r).forEach(function(i){if(r[i].length>1){US("multiple "+i+" codecs found as attributes: "+r[i].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),r[i]=null;return}r[i]=r[i][0]}),r},sm=function(e){var r=0;return e.audio&&r++,e.video&&r++,r},Un=function(e,r){var i=r.attributes||{},t=Os(qS(r)||[]);if(am(e,r)&&!t.audio&&!VS(e,r)){var n=Os(T2(e,i.AUDIO)||[]);n.audio&&(t.audio=n.audio)}return t},Fs=Lt("PlaylistSelector"),om=function(e){if(!(!e||!e.playlist)){var r=e.playlist;return JSON.stringify({id:r.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:r.attributes&&r.attributes.CODECS||""})}},Bs=function(e,r){if(!e)return"";var i=P.getComputedStyle(e);return i?i[r]:""},Mi=function(e,r){var i=e.slice();e.sort(function(t,n){var s=r(t,n);return s===0?i.indexOf(t)-i.indexOf(n):s})},bl=function(e,r){var i,t;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||P.Number.MAX_VALUE,r.attributes.BANDWIDTH&&(t=r.attributes.BANDWIDTH),t=t||P.Number.MAX_VALUE,i-t},HS=function(e,r){var i,t;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||P.Number.MAX_VALUE,r.attributes.RESOLUTION&&r.attributes.RESOLUTION.width&&(t=r.attributes.RESOLUTION.width),t=t||P.Number.MAX_VALUE,i===t&&e.attributes.BANDWIDTH&&r.attributes.BANDWIDTH?e.attributes.BANDWIDTH-r.attributes.BANDWIDTH:i-t},um=function(e,r,i,t,n,s){if(!!e){var o={bandwidth:r,width:i,height:t,limitRenditionByPlayerDimensions:n},u=e.playlists;ut.isAudioOnly(e)&&(u=s.getAudioTrackPlaylists_(),o.audioOnly=!0);var l=u.map(function(U){var G,Y=U.attributes&&U.attributes.RESOLUTION&&U.attributes.RESOLUTION.width,te=U.attributes&&U.attributes.RESOLUTION&&U.attributes.RESOLUTION.height;return G=U.attributes&&U.attributes.BANDWIDTH,G=G||P.Number.MAX_VALUE,{bandwidth:G,width:Y,height:te,playlist:U}});Mi(l,function(U,G){return U.bandwidth-G.bandwidth}),l=l.filter(function(U){return!ut.isIncompatible(U.playlist)});var c=l.filter(function(U){return ut.isEnabled(U.playlist)});c.length||(c=l.filter(function(U){return!ut.isDisabled(U.playlist)}));var d=c.filter(function(U){return U.bandwidth*Ue.BANDWIDTH_VARIANCE<r}),h=d[d.length-1],v=d.filter(function(U){return U.bandwidth===h.bandwidth})[0];if(n===!1){var T=v||c[0]||l[0];if(T&&T.playlist){var x="sortedPlaylistReps";return v&&(x="bandwidthBestRep"),c[0]&&(x="enabledPlaylistReps"),Fs("choosing "+om(T)+" using "+x+" with options",o),T.playlist}return Fs("could not choose a playlist with options",o),null}var y=d.filter(function(U){return U.width&&U.height});Mi(y,function(U,G){return U.width-G.width});var E=y.filter(function(U){return U.width===i&&U.height===t});h=E[E.length-1];var D=E.filter(function(U){return U.bandwidth===h.bandwidth})[0],A,L,O;D||(A=y.filter(function(U){return U.width>i||U.height>t}),L=A.filter(function(U){return U.width===A[0].width&&U.height===A[0].height}),h=L[L.length-1],O=L.filter(function(U){return U.bandwidth===h.bandwidth})[0]);var N;if(s.experimentalLeastPixelDiffSelector){var V=y.map(function(U){return U.pixelDiff=Math.abs(U.width-i)+Math.abs(U.height-t),U});Mi(V,function(U,G){return U.pixelDiff===G.pixelDiff?G.bandwidth-U.bandwidth:U.pixelDiff-G.pixelDiff}),N=V[0]}var M=N||O||D||v||c[0]||l[0];if(M&&M.playlist){var R="sortedPlaylistReps";return N?R="leastPixelDiffRep":O?R="resolutionPlusOneRep":D?R="resolutionBestRep":v?R="bandwidthBestRep":c[0]&&(R="enabledPlaylistReps"),Fs("choosing "+om(M)+" using "+R+" with options",o),M.playlist}return Fs("could not choose a playlist with options",o),null}},lm=function(){var e=this.useDevicePixelRatio&&P.devicePixelRatio||1;return um(this.playlists.master,this.systemBandwidth,parseInt(Bs(this.tech_.el(),"width"),10)*e,parseInt(Bs(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},jS=function(e){var r=-1,i=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var t=this.useDevicePixelRatio&&P.devicePixelRatio||1;return r<0&&(r=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(r=e*this.systemBandwidth+(1-e)*r,i=this.systemBandwidth),um(this.playlists.master,r,parseInt(Bs(this.tech_.el(),"width"),10)*t,parseInt(Bs(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},GS=function(e){var r=e.master,i=e.currentTime,t=e.bandwidth,n=e.duration,s=e.segmentDuration,o=e.timeUntilRebuffer,u=e.currentTimeline,l=e.syncController,c=r.playlists.filter(function(x){return!ut.isIncompatible(x)}),d=c.filter(ut.isEnabled);d.length||(d=c.filter(function(x){return!ut.isDisabled(x)}));var h=d.filter(ut.hasAttribute.bind(null,"BANDWIDTH")),v=h.map(function(x){var y=l.getSyncPoint(x,n,u,i),E=y?1:2,D=ut.estimateSegmentRequestTime(s,t,x),A=D*E-o;return{playlist:x,rebufferingImpact:A}}),T=v.filter(function(x){return x.rebufferingImpact<=0});return Mi(T,function(x,y){return bl(y.playlist,x.playlist)}),T.length?T[0]:(Mi(v,function(x,y){return x.rebufferingImpact-y.rebufferingImpact}),v[0]||null)},zS=function(){var e=this,r=this.playlists.master.playlists.filter(ut.isEnabled);Mi(r,function(t,n){return bl(t,n)});var i=r.filter(function(t){return!!Un(e.playlists.master,t).video});return i[0]||null},WS=function(e){var r=0,i;return e.bytes&&(i=new Uint8Array(e.bytes),e.segments.forEach(function(t){i.set(t,r),r+=t.byteLength})),i},$S=function(e,r,i){if(!e[i]){r.trigger({type:"usage",name:"vhs-608"}),r.trigger({type:"usage",name:"hls-608"});var t=i;/^cc708_/.test(i)&&(t="SERVICE"+i.split("_")[1]);var n=r.textTracks().getTrackById(t);if(n)e[i]=n;else{var s=r.options_.vhs&&r.options_.vhs.captionServices||{},o=i,u=i,l=!1,c=s[t];c&&(o=c.label,u=c.language,l=c.default),e[i]=r.addRemoteTextTrack({kind:"captions",id:t,default:l,label:o,language:u},!1).track}}},KS=function(e){var r=e.inbandTextTracks,i=e.captionArray,t=e.timestampOffset;if(!!i){var n=P.WebKitDataCue||P.VTTCue;i.forEach(function(s){var o=s.stream;r[o].addCue(new n(s.startTime+t,s.endTime+t,s.text))})}},XS=function(e){Object.defineProperties(e.frame,{id:{get:function(){return B.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return B.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return B.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},QS=function(e){var r=e.inbandTextTracks,i=e.metadataArray,t=e.timestampOffset,n=e.videoDuration;if(!!i){var s=P.WebKitDataCue||P.VTTCue,o=r.metadataTrack_;if(!!o&&(i.forEach(function(v){var T=v.cueTime+t;typeof T!="number"||P.isNaN(T)||T<0||!(T<1/0)||v.frames.forEach(function(x){var y=new s(T,T,x.value||x.url||x.data||"");y.frame=x,y.value=x,XS(y),o.addCue(y)})}),!(!o.cues||!o.cues.length))){for(var u=o.cues,l=[],c=0;c<u.length;c++)u[c]&&l.push(u[c]);var d=l.reduce(function(v,T){var x=v[T.startTime]||[];return x.push(T),v[T.startTime]=x,v},{}),h=Object.keys(d).sort(function(v,T){return Number(v)-Number(T)});h.forEach(function(v,T){var x=d[v],y=Number(h[T+1])||n;x.forEach(function(E){E.endTime=y})})}}},YS=function(e,r,i){e.metadataTrack_||(e.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=r)},qn=function(e,r,i){var t,n;if(!!i&&!!i.cues)for(t=i.cues.length;t--;)n=i.cues[t],n.startTime>=e&&n.endTime<=r&&i.removeCue(n)},JS=function(e){var r=e.cues;if(!!r)for(var i=0;i<r.length;i++){for(var t=[],n=0,s=0;s<r.length;s++)r[i].startTime===r[s].startTime&&r[i].endTime===r[s].endTime&&r[i].text===r[s].text&&(n++,n>1&&t.push(r[s]));t.length&&t.forEach(function(o){return e.removeCue(o)})}},ZS=function(e,r,i){if(typeof r=="undefined"||r===null||!e.length)return[];var t=Math.ceil((r-i+3)*Ja.ONE_SECOND_IN_TS),n;for(n=0;n<e.length&&!(e[n].pts>t);n++);return e.slice(n)},eE=function(e,r,i){if(!r.length)return e;if(i)return r.slice();var t=r[0].pts,n=0;for(n;n<e.length&&!(e[n].pts>=t);n++);return e.slice(0,n).concat(r)},tE=function(e,r,i,t){for(var n=Math.ceil((r-t)*Ja.ONE_SECOND_IN_TS),s=Math.ceil((i-t)*Ja.ONE_SECOND_IN_TS),o=e.slice(),u=e.length;u--&&!(e[u].pts<=s););if(u===-1)return o;for(var l=u+1;l--&&!(e[l].pts<=n););return l=Math.max(l,0),o.splice(l,u-l+1),o},rE=function(e,r){if(!e&&!r||!e&&r||e&&!r)return!1;if(e===r)return!0;var i=Object.keys(e).sort(),t=Object.keys(r).sort();if(i.length!==t.length)return!1;for(var n=0;n<i.length;n++){var s=i[n];if(s!==t[n]||e[s]!==r[s])return!1}return!0},cm=22,iE=function(e,r,i){r=r||[];for(var t=[],n=0,s=0;s<r.length;s++){var o=r[s];if(e===o.timeline&&(t.push(s),n+=o.duration,n>i))return s}return t.length===0?0:t[t.length-1]},Vn=1,nE=500,dm=function(e){return typeof e=="number"&&isFinite(e)},Rs=1/60,aE=function(e,r,i){return e!=="main"||!r||!i?null:!i.hasAudio&&!i.hasVideo?"Neither audio nor video found in segment.":r.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!r.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},sE=function(e,r,i){var t=r-Ue.BACK_BUFFER_LENGTH;e.length&&(t=Math.max(t,e.start(0)));var n=r-i;return Math.min(n,t)},Ni=function(e){var r=e.startOfSegment,i=e.duration,t=e.segment,n=e.part,s=e.playlist,o=s.mediaSequence,u=s.id,l=s.segments,c=l===void 0?[]:l,d=e.mediaIndex,h=e.partIndex,v=e.timeline,T=c.length-1,x="mediaIndex/partIndex increment";e.getMediaInfoForTime?x="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(x="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(x+=" with independent "+e.independent);var y=typeof h=="number",E=e.segment.uri?"segment":"pre-segment",D=y?Ep({preloadSegment:t})-1:0;return E+" ["+(o+d)+"/"+(o+T)+"]"+(y?" part ["+h+"/"+D+"]":"")+(" segment start/end ["+t.start+" => "+t.end+"]")+(y?" part start/end ["+n.start+" => "+n.end+"]":"")+(" startOfSegment ["+r+"]")+(" duration ["+i+"]")+(" timeline ["+v+"]")+(" selected by ["+x+"]")+(" playlist ["+u+"]")},fm=function(e){return e+"TimingInfo"},oE=function(e){var r=e.segmentTimeline,i=e.currentTimeline,t=e.startOfSegment,n=e.buffered,s=e.overrideCheck;return!s&&r===i?null:r<i?t:n.length?n.end(n.length-1):t},hm=function(e){var r=e.timelineChangeController,i=e.currentTimeline,t=e.segmentTimeline,n=e.loaderType,s=e.audioDisabled;if(i===t)return!1;if(n==="audio"){var o=r.lastTimelineChange({type:"main"});return!o||o.to!==t}if(n==="main"&&s){var u=r.pendingTimelineChange({type:"audio"});return!(u&&u.to===t)}return!1},uE=function(e,r){var i=e&&typeof e.start=="number"&&typeof e.end=="number"?e.end-e.start:0,t=r&&typeof r.start=="number"&&typeof r.end=="number"?r.end-r.start:0;return Math.max(i,t)},pm=function(e){var r=e.segmentDuration,i=e.maxDuration;return r?Math.round(r)>i+Er:!1},lE=function(e,r){if(r!=="hls")return null;var i=uE(e.audioTimingInfo,e.videoTimingInfo);if(!i)return null;var t=e.playlist.targetDuration,n=pm({segmentDuration:i,maxDuration:t*2}),s=pm({segmentDuration:i,maxDuration:t}),o="Segment with index "+e.mediaIndex+" "+("from playlist "+e.playlist.id+" ")+("has a duration of "+i+" ")+("when the reported duration is "+e.duration+" ")+("and the target duration is "+t+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return n||s?{severity:n?"warn":"info",message:o}:null},xl=function(a){$(e,a);function e(i,t){var n;if(n=a.call(this)||this,!i)throw new TypeError("Initialization settings are required");if(typeof i.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!i.mediaSource)throw new TypeError("No MediaSource specified");return n.bandwidth=i.bandwidth,n.throughput={rate:0,count:0},n.roundTrip=NaN,n.resetStats_(),n.mediaIndex=null,n.partIndex=null,n.hasPlayed_=i.hasPlayed,n.currentTime_=i.currentTime,n.seekable_=i.seekable,n.seeking_=i.seeking,n.duration_=i.duration,n.mediaSource_=i.mediaSource,n.vhs_=i.vhs,n.loaderType_=i.loaderType,n.currentMediaInfo_=void 0,n.startingMediaInfo_=void 0,n.segmentMetadataTrack_=i.segmentMetadataTrack,n.goalBufferLength_=i.goalBufferLength,n.sourceType_=i.sourceType,n.sourceUpdater_=i.sourceUpdater,n.inbandTextTracks_=i.inbandTextTracks,n.state_="INIT",n.timelineChangeController_=i.timelineChangeController,n.shouldSaveSegmentTimingInfo_=!0,n.parse708captions_=i.parse708captions,n.captionServices_=i.captionServices,n.experimentalExactManifestTimings=i.experimentalExactManifestTimings,n.checkBufferTimeout_=null,n.error_=void 0,n.currentTimeline_=-1,n.pendingSegment_=null,n.xhrOptions_=null,n.pendingSegments_=[],n.audioDisabled_=!1,n.isPendingTimestampOffset_=!1,n.gopBuffer_=[],n.timeMapping_=0,n.safeAppend_=B.browser.IE_VERSION>=11,n.appendInitSegment_={audio:!0,video:!0},n.playlistOfLastInitSegment_={audio:null,video:null},n.callQueue_=[],n.loadQueue_=[],n.metadataQueue_={id3:[],caption:[]},n.waitingOnRemove_=!1,n.quotaExceededErrorRetryTimeout_=null,n.activeInitSegmentId_=null,n.initSegments_={},n.cacheEncryptionKeys_=i.cacheEncryptionKeys,n.keyCache_={},n.decrypter_=i.decrypter,n.syncController_=i.syncController,n.syncPoint_={segmentIndex:0,time:0},n.transmuxer_=n.createTransmuxer_(),n.triggerSyncInfoUpdate_=function(){return n.trigger("syncinfoupdate")},n.syncController_.on("syncinfoupdate",n.triggerSyncInfoUpdate_),n.mediaSource_.addEventListener("sourceopen",function(){n.isEndOfStream_()||(n.ended_=!1)}),n.fetchAtBuffer_=!1,n.logger_=Lt("SegmentLoader["+n.loaderType_+"]"),Object.defineProperty(se(n),"state",{get:function(){return this.state_},set:function(o){o!==this.state_&&(this.logger_(this.state_+" -> "+o),this.state_=o,this.trigger("statechange"))}}),n.sourceUpdater_.on("ready",function(){n.hasEnoughInfoToAppend_()&&n.processCallQueue_()}),n.loaderType_==="main"&&n.timelineChangeController_.on("pendingtimelinechange",function(){n.hasEnoughInfoToAppend_()&&n.processCallQueue_()}),n.loaderType_==="audio"&&n.timelineChangeController_.on("timelinechange",function(){n.hasEnoughInfoToLoad_()&&n.processLoadQueue_(),n.hasEnoughInfoToAppend_()&&n.processCallQueue_()}),n}var r=e.prototype;return r.createTransmuxer_=function(){return yl.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},r.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},r.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&P.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},r.setAudio=function(t){this.audioDisabled_=!t,t?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},r.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},r.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,P.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},r.checkForAbort_=function(t){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==t},r.error=function(t){return typeof t!="undefined"&&(this.logger_("error occurred:",t),this.error_=t),this.pendingSegment_=null,this.error_},r.endOfStream=function(){this.ended_=!0,this.transmuxer_&&yl.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},r.buffered_=function(){var t=this.getMediaInfo_();if(!this.sourceUpdater_||!t)return B.createTimeRanges();if(this.loaderType_==="main"){var n=t.hasAudio,s=t.hasVideo,o=t.isMuxed;if(s&&n&&!this.audioDisabled_&&!o)return this.sourceUpdater_.buffered();if(s)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},r.initSegmentForMap=function(t,n){if(n===void 0&&(n=!1),!t)return null;var s=Is(t),o=this.initSegments_[s];return n&&!o&&t.bytes&&(this.initSegments_[s]=o={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,tracks:t.tracks,timescales:t.timescales}),o||t},r.segmentKey=function(t,n){if(n===void 0&&(n=!1),!t)return null;var s=qp(t),o=this.keyCache_[s];this.cacheEncryptionKeys_&&n&&!o&&t.bytes&&(this.keyCache_[s]=o={resolvedUri:t.resolvedUri,bytes:t.bytes});var u={resolvedUri:(o||t).resolvedUri};return o&&(u.bytes=o.bytes),u},r.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},r.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},r.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},r.playlist=function(t,n){if(n===void 0&&(n={}),!!t){var s=this.playlist_,o=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=n,this.state==="INIT"&&(t.syncInfo={mediaSequence:t.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(t));var u=null;if(s&&(s.id?u=s.id:s.uri&&(u=s.uri)),this.logger_("playlist update ["+u+" => "+(t.id||t.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!s||s.uri!==t.uri){this.mediaIndex!==null&&(t.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var l=t.mediaSequence-s.mediaSequence;if(this.logger_("live window shift ["+l+"]"),this.mediaIndex!==null)if(this.mediaIndex-=l,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var c=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!c.parts||!c.parts.length||!c.parts[this.partIndex])){var d=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=d}}o&&(o.mediaIndex-=l,o.mediaIndex<0?(o.mediaIndex=null,o.partIndex=null):(o.mediaIndex>=0&&(o.segment=t.segments[o.mediaIndex]),o.partIndex>=0&&o.segment.parts&&(o.part=o.segment.parts[o.partIndex]))),this.syncController_.saveExpiredSegmentInfo(s,t)}},r.pause=function(){this.checkBufferTimeout_&&(P.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},r.paused=function(){return this.checkBufferTimeout_===null},r.resetEverything=function(t){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,t),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},r.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},r.resyncLoader=function(){this.transmuxer_&&yl.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},r.remove=function(t,n,s,o){if(s===void 0&&(s=function(){}),o===void 0&&(o=!1),n===1/0&&(n=this.duration_()),n<=t){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var u=1,l=function(){u--,u===0&&s()};(o||!this.audioDisabled_)&&(u++,this.sourceUpdater_.removeAudio(t,n,l)),(o||this.loaderType_==="main")&&(this.gopBuffer_=tE(this.gopBuffer_,t,n,this.timeMapping_),u++,this.sourceUpdater_.removeVideo(t,n,l));for(var c in this.inbandTextTracks_)qn(t,n,this.inbandTextTracks_[c]);qn(t,n,this.segmentMetadataTrack_),l()},r.monitorBuffer_=function(){this.checkBufferTimeout_&&P.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=P.setTimeout(this.monitorBufferTick_.bind(this),1)},r.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&P.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=P.setTimeout(this.monitorBufferTick_.bind(this),nE)},r.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var t=this.chooseNextRequest_();!t||(typeof t.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline})),this.loadSegment_(t))}},r.isEndOfStream_=function(t,n,s){if(t===void 0&&(t=this.mediaIndex),n===void 0&&(n=this.playlist_),s===void 0&&(s=this.partIndex),!n||!this.mediaSource_)return!1;var o=typeof t=="number"&&n.segments[t],u=t+1===n.segments.length,l=!o||!o.parts||s+1===o.parts.length;return n.endList&&this.mediaSource_.readyState==="open"&&u&&l},r.chooseNextRequest_=function(){var t=this.buffered_(),n=bp(t)||0,s=al(t,this.currentTime_()),o=!this.hasPlayed_()&&s>=1,u=s>=this.goalBufferLength_(),l=this.playlist_.segments;if(!l.length||o||u)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var c={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(c.isSyncRequest)c.mediaIndex=iE(this.currentTimeline_,l,n);else if(this.mediaIndex!==null){var d=l[this.mediaIndex],h=typeof this.partIndex=="number"?this.partIndex:-1;c.startOfSegment=d.end?d.end:n,d.parts&&d.parts[h+1]?(c.mediaIndex=this.mediaIndex,c.partIndex=h+1):c.mediaIndex=this.mediaIndex+1}else{var v=ut.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?n:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),T=v.segmentIndex,x=v.startTime,y=v.partIndex;c.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+n:"currentTime "+this.currentTime_(),c.mediaIndex=T,c.startOfSegment=x,c.partIndex=y}var E=l[c.mediaIndex],D=E&&typeof c.partIndex=="number"&&E.parts&&E.parts[c.partIndex];if(!E||typeof c.partIndex=="number"&&!D)return null;if(typeof c.partIndex!="number"&&E.parts&&(c.partIndex=0,D=E.parts[0]),!s&&D&&!D.independent)if(c.partIndex===0){var A=l[c.mediaIndex-1],L=A.parts&&A.parts.length&&A.parts[A.parts.length-1];L&&L.independent&&(c.mediaIndex-=1,c.partIndex=A.parts.length-1,c.independent="previous segment")}else E.parts[c.partIndex-1].independent&&(c.partIndex-=1,c.independent="previous part");var O=this.mediaSource_&&this.mediaSource_.readyState==="ended";return c.mediaIndex>=l.length-1&&O&&!this.seeking_()?null:this.generateSegmentInfo_(c)},r.generateSegmentInfo_=function(t){var n=t.independent,s=t.playlist,o=t.mediaIndex,u=t.startOfSegment,l=t.isSyncRequest,c=t.partIndex,d=t.forceTimestampOffset,h=t.getMediaInfoForTime,v=s.segments[o],T=typeof c=="number"&&v.parts[c],x={requestId:"segment-loader-"+Math.random(),uri:T&&T.resolvedUri||v.resolvedUri,mediaIndex:o,partIndex:T?c:null,isSyncRequest:l,startOfSegment:u,playlist:s,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:v.timeline,duration:T&&T.duration||v.duration,segment:v,part:T,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:h,independent:n},y=typeof d!="undefined"?d:this.isPendingTimestampOffset_;x.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:v.timeline,currentTimeline:this.currentTimeline_,startOfSegment:u,buffered:this.buffered_(),overrideCheck:y});var E=bp(this.sourceUpdater_.audioBuffered());return typeof E=="number"&&(x.audioAppendStart=E-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(x.gopsToAlignWith=ZS(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),x},r.timestampOffsetForSegment_=function(t){return oE(t)},r.earlyAbortWhenNeeded_=function(t){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)){var n=this.currentTime_(),s=t.bandwidth,o=this.pendingSegment_.duration,u=ut.estimateSegmentRequestTime(o,s,this.playlist_,t.bytesReceived),l=Ox(this.buffered_(),n,this.vhs_.tech_.playbackRate())-1;if(!(u<=l)){var c=GS({master:this.vhs_.playlists.master,currentTime:n,bandwidth:s,duration:this.duration_(),segmentDuration:o,timeUntilRebuffer:l,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!!c){var d=u-l,h=d-c.rebufferingImpact,v=.5;l<=Er&&(v=1),!(!c.playlist||c.playlist.uri===this.playlist_.uri||h<v)&&(this.bandwidth=c.playlist.attributes.BANDWIDTH*Ue.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},r.handleAbort_=function(t){this.logger_("Aborting "+Ni(t)),this.mediaRequestsAborted+=1},r.handleProgress_=function(t,n){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&this.trigger("progress")},r.handleTrackInfo_=function(t,n){this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)&&(this.checkForIllegalMediaSwitch(n)||(n=n||{},rE(this.currentMediaInfo_,n)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=n,this.currentMediaInfo_=n,this.logger_("trackinfo update",n),this.trigger("trackinfo")),!this.checkForAbort_(t.requestId)&&(this.pendingSegment_.trackInfo=n,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},r.handleTimingInfo_=function(t,n,s,o){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){var u=this.pendingSegment_,l=fm(n);u[l]=u[l]||{},u[l][s]=o,this.logger_("timinginfo: "+n+" - "+s+" - "+o),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},r.handleCaptions_=function(t,n){var s=this;if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){if(n.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,t,n));return}var u=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),l={};n.forEach(function(c){l[c.stream]=l[c.stream]||{startTime:1/0,captions:[],endTime:0};var d=l[c.stream];d.startTime=Math.min(d.startTime,c.startTime+u),d.endTime=Math.max(d.endTime,c.endTime+u),d.captions.push(c)}),Object.keys(l).forEach(function(c){var d=l[c],h=d.startTime,v=d.endTime,T=d.captions,x=s.inbandTextTracks_;s.logger_("adding cues from "+h+" -> "+v+" for "+c),$S(x,s.vhs_.tech_,c),qn(h,v,x[c]),KS({captionArray:T,inbandTextTracks:x,timestampOffset:u})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},r.handleId3_=function(t,n,s){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,t,n,s));return}var u=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();YS(this.inbandTextTracks_,s,this.vhs_.tech_),QS({inbandTextTracks:this.inbandTextTracks_,metadataArray:n,timestampOffset:u,videoDuration:this.duration_()})}},r.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(t){return t()}),this.metadataQueue_.caption.forEach(function(t){return t()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},r.processCallQueue_=function(){var t=this.callQueue_;this.callQueue_=[],t.forEach(function(n){return n()})},r.processLoadQueue_=function(){var t=this.loadQueue_;this.loadQueue_=[],t.forEach(function(n){return n()})},r.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var t=this.pendingSegment_;return t?this.getCurrentMediaInfo_()?!hm({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},r.getCurrentMediaInfo_=function(t){return t===void 0&&(t=this.pendingSegment_),t&&t.trackInfo||this.currentMediaInfo_},r.getMediaInfo_=function(t){return t===void 0&&(t=this.pendingSegment_),this.getCurrentMediaInfo_(t)||this.startingMediaInfo_},r.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var t=this.pendingSegment_,n=this.getCurrentMediaInfo_();if(!t||!n)return!1;var s=n.hasAudio,o=n.hasVideo,u=n.isMuxed;return!(o&&!t.videoTimingInfo||s&&!this.audioDisabled_&&!u&&!t.audioTimingInfo||hm({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},r.handleData_=function(t,n){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,t,n));return}var s=this.pendingSegment_;if(this.setTimeMapping_(s.timeline),this.updateMediaSecondsLoaded_(s.part||s.segment),this.mediaSource_.readyState!=="closed"){if(t.map&&(t.map=this.initSegmentForMap(t.map,!0),s.segment.map=t.map),t.key&&this.segmentKey(t.key,!0),s.isFmp4=t.isFmp4,s.timingInfo=s.timingInfo||{},s.isFmp4)this.trigger("fmp4"),s.timingInfo.start=s[fm(n.type)].start;else{var o=this.getCurrentMediaInfo_(),u=this.loaderType_==="main"&&o&&o.hasVideo,l;u&&(l=s.videoTimingInfo.start),s.timingInfo.start=this.trueSegmentStart_({currentStart:s.timingInfo.start,playlist:s.playlist,mediaIndex:s.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:u,firstVideoFrameTimeForData:l,videoTimingInfo:s.videoTimingInfo,audioTimingInfo:s.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(s,n.type),this.updateSourceBufferTimestampOffset_(s),s.isSyncRequest){this.updateTimingInfoEnd_(s),this.syncController_.saveSegmentTimingInfo({segmentInfo:s,shouldSaveTimelineMapping:this.loaderType_==="main"});var c=this.chooseNextRequest_();if(c.mediaIndex!==s.mediaIndex||c.partIndex!==s.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}s.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(s,n)}}},r.updateAppendInitSegmentStatus=function(t,n){this.loaderType_==="main"&&typeof t.timestampOffset=="number"&&!t.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[n]!==t.playlist&&(this.appendInitSegment_[n]=!0)},r.getInitSegmentAndUpdateState_=function(t){var n=t.type,s=t.initSegment,o=t.map,u=t.playlist;if(o){var l=Is(o);if(this.activeInitSegmentId_===l)return null;s=this.initSegmentForMap(o,!0).bytes,this.activeInitSegmentId_=l}return s&&this.appendInitSegment_[n]?(this.playlistOfLastInitSegment_[n]=u,this.appendInitSegment_[n]=!1,this.activeInitSegmentId_=null,s):null},r.handleQuotaExceededError_=function(t,n){var s=this,o=t.segmentInfo,u=t.type,l=t.bytes,c=this.sourceUpdater_.audioBuffered(),d=this.sourceUpdater_.videoBuffered();c.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Xr(c).join(", ")),d.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Xr(d).join(", "));var h=c.length?c.start(0):0,v=c.length?c.end(c.length-1):0,T=d.length?d.start(0):0,x=d.length?d.end(d.length-1):0;if(v-h<=Vn&&x-T<=Vn){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+l.byteLength+", ")+("audio buffer: "+Xr(c).join(", ")+", ")+("video buffer: "+Xr(d).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:o,type:u,bytes:l}));var y=this.currentTime_(),E=y-Vn;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+E),this.remove(0,E,function(){s.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+Vn+"s"),s.waitingOnRemove_=!1,s.quotaExceededErrorRetryTimeout_=P.setTimeout(function(){s.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),s.quotaExceededErrorRetryTimeout_=null,s.processCallQueue_()},Vn*1e3)},!0)},r.handleAppendError_=function(t,n){var s=t.segmentInfo,o=t.type,u=t.bytes;if(!!n){if(n.code===cm){this.handleQuotaExceededError_({segmentInfo:s,type:o,bytes:u});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",n),this.error(o+" append of "+u.length+"b failed for segment "+("#"+s.mediaIndex+" in playlist "+s.playlist.id)),this.trigger("appenderror")}},r.appendToSourceBuffer_=function(t){var n=t.segmentInfo,s=t.type,o=t.initSegment,u=t.data,l=t.bytes;if(!l){var c=[u],d=u.byteLength;o&&(c.unshift(o),d+=o.byteLength),l=WS({bytes:d,segments:c})}this.sourceUpdater_.appendBuffer({segmentInfo:n,type:s,bytes:l},this.handleAppendError_.bind(this,{segmentInfo:n,type:s,bytes:l}))},r.handleSegmentTimingInfo_=function(t,n,s){if(!(!this.pendingSegment_||n!==this.pendingSegment_.requestId)){var o=this.pendingSegment_.segment,u=t+"TimingInfo";o[u]||(o[u]={}),o[u].transmuxerPrependedSeconds=s.prependedContentDuration||0,o[u].transmuxedPresentationStart=s.start.presentation,o[u].transmuxedDecodeStart=s.start.decode,o[u].transmuxedPresentationEnd=s.end.presentation,o[u].transmuxedDecodeEnd=s.end.decode,o[u].baseMediaDecodeTime=s.baseMediaDecodeTime}},r.appendData_=function(t,n){var s=n.type,o=n.data;if(!(!o||!o.byteLength)&&!(s==="audio"&&this.audioDisabled_)){var u=this.getInitSegmentAndUpdateState_({type:s,initSegment:n.initSegment,playlist:t.playlist,map:t.isFmp4?t.segment.map:null});this.appendToSourceBuffer_({segmentInfo:t,type:s,initSegment:u,data:o})}},r.loadSegment_=function(t){var n=this;if(this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),typeof t.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var s=_t({},t,{forceTimestampOffset:!0});_t(t,n.generateSegmentInfo_(s)),n.isPendingTimestampOffset_=!1,n.updateTransmuxerAndRequestSegment_(t)});return}this.updateTransmuxerAndRequestSegment_(t)},r.updateTransmuxerAndRequestSegment_=function(t){var n=this;this.shouldUpdateTransmuxerTimestampOffset_(t.timestampOffset)&&(this.gopBuffer_.length=0,t.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t.timestampOffset}));var s=this.createSimplifiedSegmentObj_(t),o=this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex),u=this.mediaIndex!==null,l=t.timeline!==this.currentTimeline_&&t.timeline>0,c=o||u&&l;this.logger_("Requesting "+Ni(t)),s.map&&!s.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),t.abortRequests=NS({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:s,abortFn:this.handleAbort_.bind(this,t),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",t.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",t.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:c,endedTimelineFn:function(){n.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(h){var v=h.message,T=h.level,x=h.stream;n.logger_(Ni(t)+" logged from transmuxer stream "+x+" as a "+T+": "+v)}})},r.trimBackBuffer_=function(t){var n=sE(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);n>0&&this.remove(0,n)},r.createSimplifiedSegmentObj_=function(t){var n=t.segment,s=t.part,o={resolvedUri:s?s.resolvedUri:n.resolvedUri,byterange:s?s.byterange:n.byterange,requestId:t.requestId,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,part:t.part},u=t.playlist.segments[t.mediaIndex-1];if(u&&u.timeline===n.timeline&&(u.videoTimingInfo?o.baseStartTime=u.videoTimingInfo.transmuxedDecodeEnd:u.audioTimingInfo&&(o.baseStartTime=u.audioTimingInfo.transmuxedDecodeEnd)),n.key){var l=n.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);o.key=this.segmentKey(n.key),o.key.iv=l}return n.map&&(o.map=this.initSegmentForMap(n.map)),o},r.saveTransferStats_=function(t){this.mediaRequests+=1,t&&(this.mediaBytesTransferred+=t.bytesReceived,this.mediaTransferDuration+=t.roundTripTime)},r.saveBandwidthRelatedStats_=function(t,n){if(this.pendingSegment_.byteLength=n.bytesReceived,t<Rs){this.logger_("Ignoring segment's bandwidth because its duration of "+t+(" is less than the min to record "+Rs));return}this.bandwidth=n.bandwidth,this.roundTrip=n.roundTripTime},r.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},r.segmentRequestFinished_=function(t,n,s){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,t,n,s));return}if(this.saveTransferStats_(n.stats),!!this.pendingSegment_&&n.requestId===this.pendingSegment_.requestId){if(t){if(this.pendingSegment_=null,this.state="READY",t.code===Ht.ABORTED)return;if(this.pause(),t.code===Ht.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(t),this.trigger("error");return}var o=this.pendingSegment_;this.saveBandwidthRelatedStats_(o.duration,n.stats),o.endOfAllRequests=n.endOfAllRequests,s.gopInfo&&(this.gopBuffer_=eE(this.gopBuffer_,s.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(o)}},r.setTimeMapping_=function(t){var n=this.syncController_.mappingForTimeline(t);n!==null&&(this.timeMapping_=n)},r.updateMediaSecondsLoaded_=function(t){typeof t.start=="number"&&typeof t.end=="number"?this.mediaSecondsLoaded+=t.end-t.start:this.mediaSecondsLoaded+=t.duration},r.shouldUpdateTransmuxerTimestampOffset_=function(t){return t===null?!1:this.loaderType_==="main"&&t!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&t!==this.sourceUpdater_.audioTimestampOffset()},r.trueSegmentStart_=function(t){var n=t.currentStart,s=t.playlist,o=t.mediaIndex,u=t.firstVideoFrameTimeForData,l=t.currentVideoTimestampOffset,c=t.useVideoTimingInfo,d=t.videoTimingInfo,h=t.audioTimingInfo;if(typeof n!="undefined")return n;if(!c)return h.start;var v=s.segments[o-1];return o===0||!v||typeof v.start=="undefined"||v.end!==u+l?u:d.start},r.waitForAppendsToComplete_=function(t){var n=this.getCurrentMediaInfo_(t);if(!n){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var s=n.hasAudio,o=n.hasVideo,u=n.isMuxed,l=this.loaderType_==="main"&&o,c=!this.audioDisabled_&&s&&!u;if(t.waitingOnAppends=0,!t.hasAppendedData_){!t.timingInfo&&typeof t.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),t.timingInfo={start:0},t.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(t),this.processMetadataQueue_()),this.checkAppendsDone_(t);return}l&&t.waitingOnAppends++,c&&t.waitingOnAppends++,l&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,t)),c&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,t))},r.checkAppendsDone_=function(t){this.checkForAbort_(t.requestId)||(t.waitingOnAppends--,t.waitingOnAppends===0&&this.handleAppendsDone_())},r.checkForIllegalMediaSwitch=function(t){var n=aE(this.loaderType_,this.getCurrentMediaInfo_(),t);return n?(this.error({message:n,blacklistDuration:1/0}),this.trigger("error"),!0):!1},r.updateSourceBufferTimestampOffset_=function(t){if(!(t.timestampOffset===null||typeof t.timingInfo.start!="number"||t.changedTimestampOffset||this.loaderType_!=="main")){var n=!1;t.timestampOffset-=t.timingInfo.start,t.changedTimestampOffset=!0,t.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(t.timestampOffset),n=!0),t.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(t.timestampOffset),n=!0),n&&this.trigger("timestampoffset")}},r.updateTimingInfoEnd_=function(t){t.timingInfo=t.timingInfo||{};var n=this.getMediaInfo_(),s=this.loaderType_==="main"&&n&&n.hasVideo,o=s&&t.videoTimingInfo?t.videoTimingInfo:t.audioTimingInfo;!o||(t.timingInfo.end=typeof o.end=="number"?o.end:o.start+t.duration)},r.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var t=this.pendingSegment_;this.updateTimingInfoEnd_(t),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:t,shouldSaveTimelineMapping:this.loaderType_==="main"});var n=lE(t,this.sourceType_);if(n&&(n.severity==="warn"?B.log.warn(n.message):this.logger_(n.message)),this.recordThroughput_(t),this.pendingSegment_=null,this.state="READY",t.isSyncRequest&&(this.trigger("syncinfoupdate"),!t.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+Ni(t));return}this.logger_("Appended "+Ni(t)),this.addSegmentMetadataCue_(t),this.fetchAtBuffer_=!0,this.currentTimeline_!==t.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:t.timeline})),this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate");var s=t.segment,o=t.part,u=s.end&&this.currentTime_()-s.end>t.playlist.targetDuration*3,l=o&&o.end&&this.currentTime_()-o.end>t.playlist.partTargetDuration*3;if(u||l){this.logger_("bad "+(u?"segment":"part")+" "+Ni(t)),this.resetEverything();return}var c=this.mediaIndex!==null;c&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=t.mediaIndex,this.partIndex=t.partIndex,this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex)&&this.endOfStream(),this.trigger("appended"),t.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},r.recordThroughput_=function(t){if(t.duration<Rs){this.logger_("Ignoring segment's throughput because its duration of "+t.duration+(" is less than the min to record "+Rs));return}var n=this.throughput.rate,s=Date.now()-t.endOfAllRequests+1,o=Math.floor(t.byteLength/s*8*1e3);this.throughput.rate+=(o-n)/++this.throughput.count},r.addSegmentMetadataCue_=function(t){if(!!this.segmentMetadataTrack_){var n=t.segment,s=n.start,o=n.end;if(!(!dm(s)||!dm(o))){qn(s,o,this.segmentMetadataTrack_);var u=P.WebKitDataCue||P.VTTCue,l={custom:n.custom,dateTimeObject:n.dateTimeObject,dateTimeString:n.dateTimeString,bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.id,start:s,end:o},c=JSON.stringify(l),d=new u(s,o,c);d.value=l,this.segmentMetadataTrack_.addCue(d)}}},e}(B.EventTarget);function lr(){}var mm=function(e){return typeof e!="string"?e:e.replace(/./,function(r){return r.toUpperCase()})},cE=["video","audio"],Sl=function(e,r){var i=r[e+"Buffer"];return i&&i.updating||r.queuePending[e]},dE=function(e,r){for(var i=0;i<r.length;i++){var t=r[i];if(t.type==="mediaSource")return null;if(t.type===e)return i}return null},El=function a(e,r){if(r.queue.length!==0){var i=0,t=r.queue[i];if(t.type==="mediaSource"){!r.updating()&&r.mediaSource.readyState!=="closed"&&(r.queue.shift(),t.action(r),t.doneFn&&t.doneFn(),a("audio",r),a("video",r));return}if(e!=="mediaSource"&&!(!r.ready()||r.mediaSource.readyState==="closed"||Sl(e,r))){if(t.type!==e){if(i=dE(e,r.queue),i===null)return;t=r.queue[i]}if(r.queue.splice(i,1),r.queuePending[e]=t,t.action(e,r),!t.doneFn){r.queuePending[e]=null,a(e,r);return}}}},gm=function(e,r){var i=r[e+"Buffer"],t=mm(e);!i||(i.removeEventListener("updateend",r["on"+t+"UpdateEnd_"]),i.removeEventListener("error",r["on"+t+"Error_"]),r.codecs[e]=null,r[e+"Buffer"]=null)},jt=function(e,r){return e&&r&&Array.prototype.indexOf.call(e.sourceBuffers,r)!==-1},mt={appendBuffer:function(e,r,i){return function(t,n){var s=n[t+"Buffer"];if(!!jt(n.mediaSource,s)){n.logger_("Appending segment "+r.mediaIndex+"'s "+e.length+" bytes to "+t+"Buffer");try{s.appendBuffer(e)}catch(o){n.logger_("Error with code "+o.code+" "+(o.code===cm?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+r.mediaIndex+" to "+t+"Buffer")),n.queuePending[t]=null,i(o)}}}},remove:function(e,r){return function(i,t){var n=t[i+"Buffer"];if(!!jt(t.mediaSource,n)){t.logger_("Removing "+e+" to "+r+" from "+i+"Buffer");try{n.remove(e,r)}catch{t.logger_("Remove "+e+" to "+r+" from "+i+"Buffer failed")}}}},timestampOffset:function(e){return function(r,i){var t=i[r+"Buffer"];!jt(i.mediaSource,t)||(i.logger_("Setting "+r+"timestampOffset to "+e),t.timestampOffset=e)}},callback:function(e){return function(r,i){e()}},endOfStream:function(e){return function(r){if(r.mediaSource.readyState==="open"){r.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{r.mediaSource.endOfStream(e)}catch(i){B.log.warn("Failed to call media source endOfStream",i)}}}},duration:function(e){return function(r){r.logger_("Setting mediaSource duration to "+e);try{r.mediaSource.duration=e}catch(i){B.log.warn("Failed to set media source duration",i)}}},abort:function(){return function(e,r){if(r.mediaSource.readyState==="open"){var i=r[e+"Buffer"];if(!!jt(r.mediaSource,i)){r.logger_("calling abort on "+e+"Buffer");try{i.abort()}catch(t){B.log.warn("Failed to abort on "+e+"Buffer",t)}}}}},addSourceBuffer:function(e,r){return function(i){var t=mm(e),n=un(r);i.logger_("Adding "+e+"Buffer with codec "+r+" to mediaSource");var s=i.mediaSource.addSourceBuffer(n);s.addEventListener("updateend",i["on"+t+"UpdateEnd_"]),s.addEventListener("error",i["on"+t+"Error_"]),i.codecs[e]=r,i[e+"Buffer"]=s}},removeSourceBuffer:function(e){return function(r){var i=r[e+"Buffer"];if(gm(e,r),!!jt(r.mediaSource,i)){r.logger_("Removing "+e+"Buffer with codec "+r.codecs[e]+" from mediaSource");try{r.mediaSource.removeSourceBuffer(i)}catch(t){B.log.warn("Failed to removeSourceBuffer "+e+"Buffer",t)}}}},changeType:function(e){return function(r,i){var t=i[r+"Buffer"],n=un(e);!jt(i.mediaSource,t)||i.codecs[r]!==e&&(i.logger_("changing "+r+"Buffer codec from "+i.codecs[r]+" to "+e),t.changeType(n),i.codecs[r]=e)}}},gt=function(e){var r=e.type,i=e.sourceUpdater,t=e.action,n=e.doneFn,s=e.name;i.queue.push({type:r,action:t,doneFn:n,name:s}),El(r,i)},vm=function(e,r){return function(i){if(r.queuePending[e]){var t=r.queuePending[e].doneFn;r.queuePending[e]=null,t&&t(r[e+"Error_"])}El(e,r)}},ym=function(a){$(e,a);function e(i){var t;return t=a.call(this)||this,t.mediaSource=i,t.sourceopenListener_=function(){return El("mediaSource",se(t))},t.mediaSource.addEventListener("sourceopen",t.sourceopenListener_),t.logger_=Lt("SourceUpdater"),t.audioTimestampOffset_=0,t.videoTimestampOffset_=0,t.queue=[],t.queuePending={audio:null,video:null},t.delayedAudioAppendQueue_=[],t.videoAppendQueued_=!1,t.codecs={},t.onVideoUpdateEnd_=vm("video",se(t)),t.onAudioUpdateEnd_=vm("audio",se(t)),t.onVideoError_=function(n){t.videoError_=n},t.onAudioError_=function(n){t.audioError_=n},t.createdSourceBuffers_=!1,t.initializedEme_=!1,t.triggeredReady_=!1,t}var r=e.prototype;return r.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},r.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},r.hasInitializedAnyEme=function(){return this.initializedEme_},r.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},r.createSourceBuffers=function(t){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(t),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},r.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},r.addSourceBuffer=function(t,n){gt({type:"mediaSource",sourceUpdater:this,action:mt.addSourceBuffer(t,n),name:"addSourceBuffer"})},r.abort=function(t){gt({type:t,sourceUpdater:this,action:mt.abort(t),name:"abort"})},r.removeSourceBuffer=function(t){if(!this.canRemoveSourceBuffer()){B.log.error("removeSourceBuffer is not supported!");return}gt({type:"mediaSource",sourceUpdater:this,action:mt.removeSourceBuffer(t),name:"removeSourceBuffer"})},r.canRemoveSourceBuffer=function(){return!B.browser.IE_VERSION&&!B.browser.IS_FIREFOX&&P.MediaSource&&P.MediaSource.prototype&&typeof P.MediaSource.prototype.removeSourceBuffer=="function"},e.canChangeType=function(){return P.SourceBuffer&&P.SourceBuffer.prototype&&typeof P.SourceBuffer.prototype.changeType=="function"},r.canChangeType=function(){return this.constructor.canChangeType()},r.changeType=function(t,n){if(!this.canChangeType()){B.log.error("changeType is not supported!");return}gt({type:t,sourceUpdater:this,action:mt.changeType(n),name:"changeType"})},r.addOrChangeSourceBuffers=function(t){var n=this;if(!t||typeof t!="object"||Object.keys(t).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(t).forEach(function(s){var o=t[s];if(!n.hasCreatedSourceBuffers())return n.addSourceBuffer(s,o);n.canChangeType()&&n.changeType(s,o)})},r.appendBuffer=function(t,n){var s=this,o=t.segmentInfo,u=t.type,l=t.bytes;if(this.processedAppend_=!0,u==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([t,n]),this.logger_("delayed audio append of "+l.length+" until video append");return}var c=n;if(gt({type:u,sourceUpdater:this,action:mt.appendBuffer(l,o||{mediaIndex:-1},c),doneFn:n,name:"appendBuffer"}),u==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var d=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+d.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,d.forEach(function(h){s.appendBuffer.apply(s,h)})}},r.audioBuffered=function(){return jt(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:B.createTimeRange()},r.videoBuffered=function(){return jt(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:B.createTimeRange()},r.buffered=function(){var t=jt(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,n=jt(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return n&&!t?this.audioBuffered():t&&!n?this.videoBuffered():Lx(this.audioBuffered(),this.videoBuffered())},r.setDuration=function(t,n){n===void 0&&(n=lr),gt({type:"mediaSource",sourceUpdater:this,action:mt.duration(t),name:"duration",doneFn:n})},r.endOfStream=function(t,n){t===void 0&&(t=null),n===void 0&&(n=lr),typeof t!="string"&&(t=void 0),gt({type:"mediaSource",sourceUpdater:this,action:mt.endOfStream(t),name:"endOfStream",doneFn:n})},r.removeAudio=function(t,n,s){if(s===void 0&&(s=lr),!this.audioBuffered().length||this.audioBuffered().end(0)===0){s();return}gt({type:"audio",sourceUpdater:this,action:mt.remove(t,n),doneFn:s,name:"remove"})},r.removeVideo=function(t,n,s){if(s===void 0&&(s=lr),!this.videoBuffered().length||this.videoBuffered().end(0)===0){s();return}gt({type:"video",sourceUpdater:this,action:mt.remove(t,n),doneFn:s,name:"remove"})},r.updating=function(){return!!(Sl("audio",this)||Sl("video",this))},r.audioTimestampOffset=function(t){return typeof t!="undefined"&&this.audioBuffer&&this.audioTimestampOffset_!==t&&(gt({type:"audio",sourceUpdater:this,action:mt.timestampOffset(t),name:"timestampOffset"}),this.audioTimestampOffset_=t),this.audioTimestampOffset_},r.videoTimestampOffset=function(t){return typeof t!="undefined"&&this.videoBuffer&&this.videoTimestampOffset!==t&&(gt({type:"video",sourceUpdater:this,action:mt.timestampOffset(t),name:"timestampOffset"}),this.videoTimestampOffset_=t),this.videoTimestampOffset_},r.audioQueueCallback=function(t){!this.audioBuffer||gt({type:"audio",sourceUpdater:this,action:mt.callback(t),name:"callback"})},r.videoQueueCallback=function(t){!this.videoBuffer||gt({type:"video",sourceUpdater:this,action:mt.callback(t),name:"callback"})},r.dispose=function(){var t=this;this.trigger("dispose"),cE.forEach(function(n){t.abort(n),t.canRemoveSourceBuffer()?t.removeSourceBuffer(n):t[n+"QueueCallback"](function(){return gm(n,t)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},e}(B.EventTarget),_m=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},Tm=new Uint8Array(`

`.split("").map(function(a){return a.charCodeAt(0)})),fE=function(a){$(e,a);function e(i,t){var n;return t===void 0&&(t={}),n=a.call(this,i,t)||this,n.mediaSource_=null,n.subtitlesTrack_=null,n.loaderType_="subtitle",n.featuresNativeTextTracks_=i.featuresNativeTextTracks,n.shouldSaveSegmentTimingInfo_=!1,n}var r=e.prototype;return r.createTransmuxer_=function(){return null},r.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return B.createTimeRanges();var t=this.subtitlesTrack_.cues,n=t[0].startTime,s=t[t.length-1].startTime;return B.createTimeRanges([[n,s]])},r.initSegmentForMap=function(t,n){if(n===void 0&&(n=!1),!t)return null;var s=Is(t),o=this.initSegments_[s];if(n&&!o&&t.bytes){var u=Tm.byteLength+t.bytes.byteLength,l=new Uint8Array(u);l.set(t.bytes),l.set(Tm,t.bytes.byteLength),this.initSegments_[s]=o={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:l}}return o||t},r.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},r.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},r.track=function(t){return typeof t=="undefined"?this.subtitlesTrack_:(this.subtitlesTrack_=t,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},r.remove=function(t,n){qn(t,n,this.subtitlesTrack_)},r.fillBuffer_=function(){var t=this,n=this.chooseNextRequest_();if(!!n){if(this.syncController_.timestampOffsetForTimeline(n.timeline)===null){var s=function(){t.state="READY",t.paused()||t.monitorBuffer_()};this.syncController_.one("timestampoffset",s),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(n)}},r.timestampOffsetForSegment_=function(){return null},r.chooseNextRequest_=function(){return this.skipEmptySegments_(a.prototype.chooseNextRequest_.call(this))},r.skipEmptySegments_=function(t){for(;t&&t.segment.empty;){if(t.mediaIndex+1>=t.playlist.segments.length){t=null;break}t=this.generateSegmentInfo_({playlist:t.playlist,mediaIndex:t.mediaIndex+1,startOfSegment:t.startOfSegment+t.duration,isSyncRequest:t.isSyncRequest})}return t},r.stopForError=function(t){this.error(t),this.state="READY",this.pause(),this.trigger("error")},r.segmentRequestFinished_=function(t,n,s){var o=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(t){t.code===Ht.TIMEOUT&&this.handleTimeout_(),t.code===Ht.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(t);return}var u=this.pendingSegment_;this.saveBandwidthRelatedStats_(u.duration,n.stats),this.state="APPENDING",this.trigger("appending");var l=u.segment;if(l.map&&(l.map.bytes=n.map.bytes),u.bytes=n.bytes,typeof P.WebVTT!="function"&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var c,d=function(){o.subtitlesTrack_.tech_.off("vttjsloaded",c),o.stopForError({message:"Error loading vtt.js"})};c=function(){o.subtitlesTrack_.tech_.off("vttjserror",d),o.segmentRequestFinished_(t,n,s)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",c),this.subtitlesTrack_.tech_.one("vttjserror",d);return}l.requested=!0;try{this.parseVTTCues_(u)}catch(h){this.stopForError({message:h.message});return}if(this.updateTimeMapping_(u,this.syncController_.timelines[u.timeline],this.playlist_),u.cues.length?u.timingInfo={start:u.cues[0].startTime,end:u.cues[u.cues.length-1].endTime}:u.timingInfo={start:u.startOfSegment,end:u.startOfSegment+u.duration},u.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}u.byteLength=u.bytes.byteLength,this.mediaSecondsLoaded+=l.duration,u.cues.forEach(function(h){o.subtitlesTrack_.addCue(o.featuresNativeTextTracks_?new P.VTTCue(h.startTime,h.endTime,h.text):h)}),JS(this.subtitlesTrack_),this.handleAppendsDone_()},r.handleData_=function(){},r.updateTimingInfoEnd_=function(){},r.parseVTTCues_=function(t){var n,s=!1;typeof P.TextDecoder=="function"?n=new P.TextDecoder("utf8"):(n=P.WebVTT.StringDecoder(),s=!0);var o=new P.WebVTT.Parser(P,P.vttjs,n);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},o.oncue=t.cues.push.bind(t.cues),o.ontimestampmap=function(c){t.timestampmap=c},o.onparsingerror=function(c){B.log.warn("Error encountered when parsing cues: "+c.message)},t.segment.map){var u=t.segment.map.bytes;s&&(u=_m(u)),o.parse(u)}var l=t.bytes;s&&(l=_m(l)),o.parse(l),o.flush()},r.updateTimeMapping_=function(t,n,s){var o=t.segment;if(!!n){if(!t.cues.length){o.empty=!0;return}var u=t.timestampmap,l=u.MPEGTS/Ja.ONE_SECOND_IN_TS-u.LOCAL+n.mapping;if(t.cues.forEach(function(h){h.startTime+=l,h.endTime+=l}),!s.syncInfo){var c=t.cues[0].startTime,d=t.cues[t.cues.length-1].startTime;s.syncInfo={mediaSequence:s.mediaSequence+t.mediaIndex,time:Math.min(c,d-o.duration)}}}},e}(xl),hE=function(e,r){for(var i=e.cues,t=0;t<i.length;t++){var n=i[t];if(r>=n.adStartTime&&r<=n.adEndTime)return n}return null},pE=function(e,r,i){if(i===void 0&&(i=0),!!e.segments)for(var t=i,n,s=0;s<e.segments.length;s++){var o=e.segments[s];if(n||(n=hE(r,t+o.duration/2)),n){if("cueIn"in o){n.endTime=t,n.adEndTime=t,t+=o.duration,n=null;continue}if(t<n.endTime){t+=o.duration;continue}n.endTime+=o.duration}else if("cueOut"in o&&(n=new P.VTTCue(t,t+o.duration,o.cueOut),n.adStartTime=t,n.adEndTime=t+parseFloat(o.cueOut),r.addCue(n)),"cueOutCont"in o){var u=o.cueOutCont.split("/").map(parseFloat),l=u[0],c=u[1];n=new P.VTTCue(t,t+o.duration,""),n.adStartTime=t-l,n.adEndTime=n.adStartTime+c,r.addCue(n)}t+=o.duration}},mE=86400,bm=[{name:"VOD",run:function(e,r,i,t,n){if(i!==1/0){var s={time:0,segmentIndex:0,partIndex:null};return s}return null}},{name:"ProgramDateTime",run:function(e,r,i,t,n){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var s=null,o=null,u=ol(r);n=n||0;for(var l=0;l<u.length;l++){var c=r.endList||n===0?l:u.length-(l+1),d=u[c],h=d.segment,v=e.timelineToDatetimeMappings[h.timeline];if(!(!v||!h.dateTimeObject)){var T=h.dateTimeObject.getTime()/1e3,x=T+v;if(h.parts&&typeof d.partIndex=="number")for(var y=0;y<d.partIndex;y++)x+=h.parts[y].duration;var E=Math.abs(n-x);if(o!==null&&(E===0||o<E))break;o=E,s={time:x,segmentIndex:d.segmentIndex,partIndex:d.partIndex}}}return s}},{name:"Segment",run:function(e,r,i,t,n){var s=null,o=null;n=n||0;for(var u=ol(r),l=0;l<u.length;l++){var c=r.endList||n===0?l:u.length-(l+1),d=u[c],h=d.segment,v=d.part&&d.part.start||h&&h.start;if(h.timeline===t&&typeof v!="undefined"){var T=Math.abs(n-v);if(o!==null&&o<T)break;(!s||o===null||o>=T)&&(o=T,s={time:v,segmentIndex:d.segmentIndex,partIndex:d.partIndex})}}return s}},{name:"Discontinuity",run:function(e,r,i,t,n){var s=null;if(n=n||0,r.discontinuityStarts&&r.discontinuityStarts.length)for(var o=null,u=0;u<r.discontinuityStarts.length;u++){var l=r.discontinuityStarts[u],c=r.discontinuitySequence+u+1,d=e.discontinuities[c];if(d){var h=Math.abs(n-d.time);if(o!==null&&o<h)break;(!s||o===null||o>=h)&&(o=h,s={time:d.time,segmentIndex:l,partIndex:null})}}return s}},{name:"Playlist",run:function(e,r,i,t,n){if(r.syncInfo){var s={time:r.syncInfo.time,segmentIndex:r.syncInfo.mediaSequence-r.mediaSequence,partIndex:null};return s}return null}}],gE=function(a){$(e,a);function e(i){var t;return t=a.call(this)||this,t.timelines=[],t.discontinuities=[],t.timelineToDatetimeMappings={},t.logger_=Lt("SyncController"),t}var r=e.prototype;return r.getSyncPoint=function(t,n,s,o){var u=this.runStrategies_(t,n,s,o);return u.length?this.selectSyncPoint_(u,{key:"time",value:o}):null},r.getExpiredTime=function(t,n){if(!t||!t.segments)return null;var s=this.runStrategies_(t,n,t.discontinuitySequence,0);if(!s.length)return null;var o=this.selectSyncPoint_(s,{key:"segmentIndex",value:0});return o.segmentIndex>0&&(o.time*=-1),Math.abs(o.time+Rn({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:o.segmentIndex,endIndex:0}))},r.runStrategies_=function(t,n,s,o){for(var u=[],l=0;l<bm.length;l++){var c=bm[l],d=c.run(this,t,n,s,o);d&&(d.strategy=c.name,u.push({strategy:c.name,syncPoint:d}))}return u},r.selectSyncPoint_=function(t,n){for(var s=t[0].syncPoint,o=Math.abs(t[0].syncPoint[n.key]-n.value),u=t[0].strategy,l=1;l<t.length;l++){var c=Math.abs(t[l].syncPoint[n.key]-n.value);c<o&&(o=c,s=t[l].syncPoint,u=t[l].strategy)}return this.logger_("syncPoint for ["+n.key+": "+n.value+"] chosen with strategy"+(" ["+u+"]: [time:"+s.time+",")+(" segmentIndex:"+s.segmentIndex)+(typeof s.partIndex=="number"?",partIndex:"+s.partIndex:"")+"]"),s},r.saveExpiredSegmentInfo=function(t,n){var s=n.mediaSequence-t.mediaSequence;if(s>mE){B.log.warn("Not saving expired segment info. Media sequence gap "+s+" is too large.");return}for(var o=s-1;o>=0;o--){var u=t.segments[o];if(u&&typeof u.start!="undefined"){n.syncInfo={mediaSequence:t.mediaSequence+o,time:u.start},this.logger_("playlist refresh sync: [time:"+n.syncInfo.time+","+(" mediaSequence: "+n.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},r.setDateTimeMappingForStart=function(t){if(this.timelineToDatetimeMappings={},t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var n=t.segments[0],s=n.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[n.timeline]=-s}},r.saveSegmentTimingInfo=function(t){var n=t.segmentInfo,s=t.shouldSaveTimelineMapping,o=this.calculateSegmentTimeMapping_(n,n.timingInfo,s),u=n.segment;o&&(this.saveDiscontinuitySyncInfo_(n),n.playlist.syncInfo||(n.playlist.syncInfo={mediaSequence:n.playlist.mediaSequence+n.mediaIndex,time:u.start}));var l=u.dateTimeObject;u.discontinuity&&s&&l&&(this.timelineToDatetimeMappings[u.timeline]=-(l.getTime()/1e3))},r.timestampOffsetForTimeline=function(t){return typeof this.timelines[t]=="undefined"?null:this.timelines[t].time},r.mappingForTimeline=function(t){return typeof this.timelines[t]=="undefined"?null:this.timelines[t].mapping},r.calculateSegmentTimeMapping_=function(t,n,s){var o=t.segment,u=t.part,l=this.timelines[t.timeline],c,d;if(typeof t.timestampOffset=="number")l={time:t.startOfSegment,mapping:t.startOfSegment-n.start},s&&(this.timelines[t.timeline]=l,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": "+("[time: "+l.time+"] [mapping: "+l.mapping+"]"))),c=t.startOfSegment,d=n.end+l.mapping;else if(l)c=n.start+l.mapping,d=n.end+l.mapping;else return!1;return u&&(u.start=c,u.end=d),(!o.start||c<o.start)&&(o.start=c),o.end=d,!0},r.saveDiscontinuitySyncInfo_=function(t){var n=t.playlist,s=t.segment;if(s.discontinuity)this.discontinuities[s.timeline]={time:s.start,accuracy:0};else if(n.discontinuityStarts&&n.discontinuityStarts.length)for(var o=0;o<n.discontinuityStarts.length;o++){var u=n.discontinuityStarts[o],l=n.discontinuitySequence+o+1,c=u-t.mediaIndex,d=Math.abs(c);if(!this.discontinuities[l]||this.discontinuities[l].accuracy>d){var h=void 0;c<0?h=s.start-Rn({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:t.mediaIndex,endIndex:u}):h=s.end+Rn({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:t.mediaIndex+1,endIndex:u}),this.discontinuities[l]={time:h,accuracy:d}}}},r.dispose=function(){this.trigger("dispose"),this.off()},e}(B.EventTarget),vE=function(a){$(e,a);function e(){var i;return i=a.call(this)||this,i.pendingTimelineChanges_={},i.lastTimelineChanges_={},i}var r=e.prototype;return r.clearPendingTimelineChange=function(t){this.pendingTimelineChanges_[t]=null,this.trigger("pendingtimelinechange")},r.pendingTimelineChange=function(t){var n=t.type,s=t.from,o=t.to;return typeof s=="number"&&typeof o=="number"&&(this.pendingTimelineChanges_[n]={type:n,from:s,to:o},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[n]},r.lastTimelineChange=function(t){var n=t.type,s=t.from,o=t.to;return typeof s=="number"&&typeof o=="number"&&(this.lastTimelineChanges_[n]={type:n,from:s,to:o},delete this.pendingTimelineChanges_[n],this.trigger("timelinechange")),this.lastTimelineChanges_[n]},r.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(B.EventTarget),yE=Kp(Xp(function(){function a(x,y,E){return E={path:y,exports:{},require:function(A,L){return e(A,L==null?E.path:L)}},x(E,E.exports),E.exports}function e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var r=a(function(x){function y(D,A){for(var L=0;L<A.length;L++){var O=A[L];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(D,O.key,O)}}function E(D,A,L){return A&&y(D.prototype,A),L&&y(D,L),D}x.exports=E,x.exports.default=x.exports,x.exports.__esModule=!0}),i=a(function(x){function y(E,D){return x.exports=y=Object.setPrototypeOf||function(L,O){return L.__proto__=O,L},x.exports.default=x.exports,x.exports.__esModule=!0,y(E,D)}x.exports=y,x.exports.default=x.exports,x.exports.__esModule=!0}),t=a(function(x){function y(E,D){E.prototype=Object.create(D.prototype),E.prototype.constructor=E,i(E,D)}x.exports=y,x.exports.default=x.exports,x.exports.__esModule=!0}),n=function(){function x(){this.listeners={}}var y=x.prototype;return y.on=function(D,A){this.listeners[D]||(this.listeners[D]=[]),this.listeners[D].push(A)},y.off=function(D,A){if(!this.listeners[D])return!1;var L=this.listeners[D].indexOf(A);return this.listeners[D]=this.listeners[D].slice(0),this.listeners[D].splice(L,1),L>-1},y.trigger=function(D){var A=this.listeners[D];if(!!A)if(arguments.length===2)for(var L=A.length,O=0;O<L;++O)A[O].call(this,arguments[1]);else for(var N=Array.prototype.slice.call(arguments,1),V=A.length,M=0;M<V;++M)A[M].apply(this,N)},y.dispose=function(){this.listeners={}},y.pipe=function(D){this.on("data",function(A){D.push(A)})},x}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function s(x){return x.subarray(0,x.byteLength-x[x.byteLength-1])}/*! @name aes-decrypter @version 3.1.2 @license Apache-2.0 */var o=function(){var y=[[[],[],[],[],[]],[[],[],[],[],[]]],E=y[0],D=y[1],A=E[4],L=D[4],O,N,V,M=[],R=[],U,G,Y,te,H,K;for(O=0;O<256;O++)R[(M[O]=O<<1^(O>>7)*283)^O]=O;for(N=V=0;!A[N];N^=U||1,V=R[V]||1)for(te=V^V<<1^V<<2^V<<3^V<<4,te=te>>8^te&255^99,A[N]=te,L[te]=N,Y=M[G=M[U=M[N]]],K=Y*16843009^G*65537^U*257^N*16843008,H=M[te]*257^te*16843008,O=0;O<4;O++)E[O][N]=H=H<<24^H>>>8,D[O][te]=K=K<<24^K>>>8;for(O=0;O<5;O++)E[O]=E[O].slice(0),D[O]=D[O].slice(0);return y},u=null,l=function(){function x(E){u||(u=o()),this._tables=[[u[0][0].slice(),u[0][1].slice(),u[0][2].slice(),u[0][3].slice(),u[0][4].slice()],[u[1][0].slice(),u[1][1].slice(),u[1][2].slice(),u[1][3].slice(),u[1][4].slice()]];var D,A,L,O=this._tables[0][4],N=this._tables[1],V=E.length,M=1;if(V!==4&&V!==6&&V!==8)throw new Error("Invalid aes key size");var R=E.slice(0),U=[];for(this._key=[R,U],D=V;D<4*V+28;D++)L=R[D-1],(D%V==0||V===8&&D%V==4)&&(L=O[L>>>24]<<24^O[L>>16&255]<<16^O[L>>8&255]<<8^O[L&255],D%V==0&&(L=L<<8^L>>>24^M<<24,M=M<<1^(M>>7)*283)),R[D]=R[D-V]^L;for(A=0;D;A++,D--)L=R[A&3?D:D-4],D<=4||A<4?U[A]=L:U[A]=N[0][O[L>>>24]]^N[1][O[L>>16&255]]^N[2][O[L>>8&255]]^N[3][O[L&255]]}var y=x.prototype;return y.decrypt=function(D,A,L,O,N,V){var M=this._key[1],R=D^M[0],U=O^M[1],G=L^M[2],Y=A^M[3],te,H,K,X=M.length/4-2,ae,Ce=4,Z=this._tables[1],ue=Z[0],he=Z[1],Se=Z[2],Oe=Z[3],vt=Z[4];for(ae=0;ae<X;ae++)te=ue[R>>>24]^he[U>>16&255]^Se[G>>8&255]^Oe[Y&255]^M[Ce],H=ue[U>>>24]^he[G>>16&255]^Se[Y>>8&255]^Oe[R&255]^M[Ce+1],K=ue[G>>>24]^he[Y>>16&255]^Se[R>>8&255]^Oe[U&255]^M[Ce+2],Y=ue[Y>>>24]^he[R>>16&255]^Se[U>>8&255]^Oe[G&255]^M[Ce+3],Ce+=4,R=te,U=H,G=K;for(ae=0;ae<4;ae++)N[(3&-ae)+V]=vt[R>>>24]<<24^vt[U>>16&255]<<16^vt[G>>8&255]<<8^vt[Y&255]^M[Ce++],te=R,R=U,U=G,G=Y,Y=te},x}(),c=function(x){t(y,x);function y(){var D;return D=x.call(this,n)||this,D.jobs=[],D.delay=1,D.timeout_=null,D}var E=y.prototype;return E.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},E.push=function(A){this.jobs.push(A),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},y}(n),d=function(y){return y<<24|(y&65280)<<8|(y&16711680)>>8|y>>>24},h=function(y,E,D){var A=new Int32Array(y.buffer,y.byteOffset,y.byteLength>>2),L=new l(Array.prototype.slice.call(E)),O=new Uint8Array(y.byteLength),N=new Int32Array(O.buffer),V,M,R,U,G,Y,te,H,K;for(V=D[0],M=D[1],R=D[2],U=D[3],K=0;K<A.length;K+=4)G=d(A[K]),Y=d(A[K+1]),te=d(A[K+2]),H=d(A[K+3]),L.decrypt(G,Y,te,H,N,K),N[K]=d(N[K]^V),N[K+1]=d(N[K+1]^M),N[K+2]=d(N[K+2]^R),N[K+3]=d(N[K+3]^U),V=G,M=Y,R=te,U=H;return O},v=function(){function x(E,D,A,L){var O=x.STEP,N=new Int32Array(E.buffer),V=new Uint8Array(E.byteLength),M=0;for(this.asyncStream_=new c,this.asyncStream_.push(this.decryptChunk_(N.subarray(M,M+O),D,A,V)),M=O;M<N.length;M+=O)A=new Uint32Array([d(N[M-4]),d(N[M-3]),d(N[M-2]),d(N[M-1])]),this.asyncStream_.push(this.decryptChunk_(N.subarray(M,M+O),D,A,V));this.asyncStream_.push(function(){L(null,s(V))})}var y=x.prototype;return y.decryptChunk_=function(D,A,L,O){return function(){var N=h(D,A,L);O.set(N,D.byteOffset)}},r(x,null,[{key:"STEP",get:function(){return 32e3}}]),x}(),T=function(y){var E={};return Object.keys(y).forEach(function(D){var A=y[D];ArrayBuffer.isView(A)?E[D]={bytes:A.buffer,byteOffset:A.byteOffset,byteLength:A.byteLength}:E[D]=A}),E};self.onmessage=function(x){var y=x.data,E=new Uint8Array(y.encrypted.bytes,y.encrypted.byteOffset,y.encrypted.byteLength),D=new Uint32Array(y.key.bytes,y.key.byteOffset,y.key.byteLength/4),A=new Uint32Array(y.iv.bytes,y.iv.byteOffset,y.iv.byteLength/4);new v(E,D,A,function(L,O){self.postMessage(T({source:y.source,decrypted:O}),[O.buffer])})}})),_E=$p(yE),TE=function(e){var r=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(r="main-desc"),r},Ms=function(e,r){e.abort(),e.pause(),r&&r.activePlaylistLoader&&(r.activePlaylistLoader.pause(),r.activePlaylistLoader=null)},Cl=function(e,r){r.activePlaylistLoader=e,e.load()},bE=function(e,r){return function(){var i=r.segmentLoaders,t=i[e],n=i.main,s=r.mediaTypes[e],o=s.activeTrack(),u=s.getActiveGroup(),l=s.activePlaylistLoader,c=s.lastGroup_;if(!(u&&c&&u.id===c.id)&&(s.lastGroup_=u,s.lastTrack_=o,Ms(t,s),!(!u||u.isMasterPlaylist))){if(!u.playlistLoader){l&&n.resetEverything();return}t.resyncLoader(),Cl(u.playlistLoader,s)}}},xE=function(e,r){return function(){var i=r.segmentLoaders[e],t=r.mediaTypes[e];t.lastGroup_=null,i.abort(),i.pause()}},SE=function(e,r){return function(){var i=r.masterPlaylistLoader,t=r.segmentLoaders,n=t[e],s=t.main,o=r.mediaTypes[e],u=o.activeTrack(),l=o.getActiveGroup(),c=o.activePlaylistLoader,d=o.lastTrack_;if(!(d&&u&&d.id===u.id)&&(o.lastGroup_=l,o.lastTrack_=u,Ms(n,o),!!l)){if(l.isMasterPlaylist){if(!u||!d||u.id===d.id)return;var h=r.vhs.masterPlaylistController_,v=h.selectPlaylist();if(h.media()===v)return;o.logger_("track change. Switching master audio from "+d.id+" to "+u.id),i.pause(),s.resetEverything(),h.fastQualityChange_(v);return}if(e==="AUDIO"){if(!l.playlistLoader){s.setAudio(!0),s.resetEverything();return}n.setAudio(!0),s.setAudio(!1)}if(c===l.playlistLoader){Cl(l.playlistLoader,o);return}n.track&&n.track(u),n.resetEverything(),Cl(l.playlistLoader,o)}}},Ns={AUDIO:function(e,r){return function(){var i=r.segmentLoaders[e],t=r.mediaTypes[e],n=r.blacklistCurrentPlaylist;Ms(i,t);var s=t.activeTrack(),o=t.activeGroup(),u=(o.filter(function(d){return d.default})[0]||o[0]).id,l=t.tracks[u];if(s===l){n({message:"Problem encountered loading the default audio track."});return}B.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var c in t.tracks)t.tracks[c].enabled=t.tracks[c]===l;t.onTrackChanged()}},SUBTITLES:function(e,r){return function(){var i=r.segmentLoaders[e],t=r.mediaTypes[e];B.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Ms(i,t);var n=t.activeTrack();n&&(n.mode="disabled"),t.onTrackChanged()}}},xm={AUDIO:function(e,r,i){if(!!r){var t=i.tech,n=i.requestOptions,s=i.segmentLoaders[e];r.on("loadedmetadata",function(){var o=r.media();s.playlist(o,n),(!t.paused()||o.endList&&t.preload()!=="none")&&s.load()}),r.on("loadedplaylist",function(){s.playlist(r.media(),n),t.paused()||s.load()}),r.on("error",Ns[e](e,i))}},SUBTITLES:function(e,r,i){var t=i.tech,n=i.requestOptions,s=i.segmentLoaders[e],o=i.mediaTypes[e];r.on("loadedmetadata",function(){var u=r.media();s.playlist(u,n),s.track(o.activeTrack()),(!t.paused()||u.endList&&t.preload()!=="none")&&s.load()}),r.on("loadedplaylist",function(){s.playlist(r.media(),n),t.paused()||s.load()}),r.on("error",Ns[e](e,i))}},EE={AUDIO:function(e,r){var i=r.vhs,t=r.sourceType,n=r.segmentLoaders[e],s=r.requestOptions,o=r.master.mediaGroups,u=r.mediaTypes[e],l=u.groups,c=u.tracks,d=u.logger_,h=r.masterPlaylistLoader,v=Mn(h.master);(!o[e]||Object.keys(o[e]).length===0)&&(o[e]={main:{default:{default:!0}}},v&&(o[e].main.default.playlists=h.master.playlists));for(var T in o[e]){l[T]||(l[T]=[]);for(var x in o[e][T]){var y=o[e][T][x],E=void 0;if(v?(d("AUDIO group '"+T+"' label '"+x+"' is a master playlist"),y.isMasterPlaylist=!0,E=null):t==="vhs-json"&&y.playlists?E=new Ri(y.playlists[0],i,s):y.resolvedUri?E=new Ri(y.resolvedUri,i,s):y.playlists&&t==="dash"?E=new vl(y.playlists[0],i,s,h):E=null,y=B.mergeOptions({id:x,playlistLoader:E},y),xm[e](e,y.playlistLoader,r),l[T].push(y),typeof c[x]=="undefined"){var D=new B.AudioTrack({id:x,kind:TE(y),enabled:!1,language:y.language,default:y.default,label:x});c[x]=D}}}n.on("error",Ns[e](e,r))},SUBTITLES:function(e,r){var i=r.tech,t=r.vhs,n=r.sourceType,s=r.segmentLoaders[e],o=r.requestOptions,u=r.master.mediaGroups,l=r.mediaTypes[e],c=l.groups,d=l.tracks,h=r.masterPlaylistLoader;for(var v in u[e]){c[v]||(c[v]=[]);for(var T in u[e][v])if(!u[e][v][T].forced){var x=u[e][v][T],y=void 0;if(n==="hls")y=new Ri(x.resolvedUri,t,o);else if(n==="dash"){var E=x.playlists.filter(function(A){return A.excludeUntil!==1/0});if(!E.length)return;y=new vl(x.playlists[0],t,o,h)}else n==="vhs-json"&&(y=new Ri(x.playlists?x.playlists[0]:x.resolvedUri,t,o));if(x=B.mergeOptions({id:T,playlistLoader:y},x),xm[e](e,x.playlistLoader,r),c[v].push(x),typeof d[T]=="undefined"){var D=i.addRemoteTextTrack({id:T,kind:"subtitles",default:x.default&&x.autoselect,language:x.language,label:T},!1).track;d[T]=D}}}s.on("error",Ns[e](e,r))},"CLOSED-CAPTIONS":function(e,r){var i=r.tech,t=r.master.mediaGroups,n=r.mediaTypes[e],s=n.groups,o=n.tracks;for(var u in t[e]){s[u]||(s[u]=[]);for(var l in t[e][u]){var c=t[e][u][l];if(!!/^(?:CC|SERVICE)/.test(c.instreamId)){var d=i.options_.vhs&&i.options_.vhs.captionServices||{},h={label:l,language:c.language,instreamId:c.instreamId,default:c.default&&c.autoselect};if(d[h.instreamId]&&(h=B.mergeOptions(h,d[h.instreamId])),h.default===void 0&&delete h.default,s[u].push(B.mergeOptions({id:l},c)),typeof o[l]=="undefined"){var v=i.addRemoteTextTrack({id:h.instreamId,kind:"captions",default:h.default,language:h.language,label:h.label},!1).track;o[l]=v}}}}}},CE=function a(e,r){for(var i=0;i<e.length;i++)if(cl(r,e[i])||e[i].playlists&&a(e[i].playlists,r))return!0;return!1},DE=function(e,r){return function(i){var t=r.masterPlaylistLoader,n=r.mediaTypes[e].groups,s=t.media();if(!s)return null;var o=null;s.attributes[e]&&(o=n[s.attributes[e]]);var u=Object.keys(n);if(!o)if(e==="AUDIO"&&u.length>1&&Mn(r.master))for(var l=0;l<u.length;l++){var c=n[u[l]];if(CE(c,s)){o=c;break}}else n.main?o=n.main:u.length===1&&(o=n[u[0]]);return typeof i=="undefined"?o:i===null||!o?null:o.filter(function(d){return d.id===i.id})[0]||null}},AE={AUDIO:function(e,r){return function(){var i=r.mediaTypes[e].tracks;for(var t in i)if(i[t].enabled)return i[t];return null}},SUBTITLES:function(e,r){return function(){var i=r.mediaTypes[e].tracks;for(var t in i)if(i[t].mode==="showing"||i[t].mode==="hidden")return i[t];return null}}},wE=function(e,r){var i=r.mediaTypes;return function(){var t=i[e].activeTrack();return t?i[e].activeGroup(t):null}},kE=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(T){EE[T](T,e)});var r=e.mediaTypes,i=e.masterPlaylistLoader,t=e.tech,n=e.vhs,s=e.segmentLoaders,o=s.AUDIO,u=s.main;["AUDIO","SUBTITLES"].forEach(function(T){r[T].activeGroup=DE(T,e),r[T].activeTrack=AE[T](T,e),r[T].onGroupChanged=bE(T,e),r[T].onGroupChanging=xE(T,e),r[T].onTrackChanged=SE(T,e),r[T].getActiveGroup=wE(T,e)});var l=r.AUDIO.activeGroup();if(l){var c=(l.filter(function(T){return T.default})[0]||l[0]).id;r.AUDIO.tracks[c].enabled=!0,r.AUDIO.onGroupChanged(),r.AUDIO.onTrackChanged();var d=r.AUDIO.getActiveGroup();d.playlistLoader?(u.setAudio(!1),o.setAudio(!0)):u.setAudio(!0)}i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(T){return r[T].onGroupChanged()})}),i.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(T){return r[T].onGroupChanging()})});var h=function(){r.AUDIO.onTrackChanged(),t.trigger({type:"usage",name:"vhs-audio-change"}),t.trigger({type:"usage",name:"hls-audio-change"})};t.audioTracks().addEventListener("change",h),t.remoteTextTracks().addEventListener("change",r.SUBTITLES.onTrackChanged),n.on("dispose",function(){t.audioTracks().removeEventListener("change",h),t.remoteTextTracks().removeEventListener("change",r.SUBTITLES.onTrackChanged)}),t.clearTracks("audio");for(var v in r.AUDIO.tracks)t.audioTracks().addTrack(r.AUDIO.tracks[v])},PE=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(r){e[r]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:lr,activeTrack:lr,getActiveGroup:lr,onGroupChanged:lr,onTrackChanged:lr,lastTrack_:null,logger_:Lt("MediaGroups["+r+"]")}}),e},IE=60*2,cr,LE=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],OE=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},FE=function(e){var r=e.currentPlaylist,i=e.buffered,t=e.currentTime,n=e.nextPlaylist,s=e.bufferLowWaterLine,o=e.bufferHighWaterLine,u=e.duration,l=e.experimentalBufferBasedABR,c=e.log;if(!n)return B.log.warn("We received no playlist to switch to. Please check your stream."),!1;var d="allowing switch "+(r&&r.id||"null")+" -> "+n.id;if(!r)return c(d+" as current playlist is not set"),!0;if(n.id===r.id)return!1;var h=Boolean(Bi(i,t).length);if(!r.endList)return!h&&typeof r.partTargetDuration=="number"?(c("not "+d+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(c(d+" as current playlist is live"),!0);var v=al(i,t),T=l?Ue.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Ue.MAX_BUFFER_LOW_WATER_LINE;if(u<T)return c(d+" as duration < max low water line ("+u+" < "+T+")"),!0;var x=n.attributes.BANDWIDTH,y=r.attributes.BANDWIDTH;if(x<y&&(!l||v<o)){var E=d+" as next bandwidth < current bandwidth ("+x+" < "+y+")";return l&&(E+=" and forwardBuffer < bufferHighWaterLine ("+v+" < "+o+")"),c(E),!0}if((!l||x>y)&&v>=s){var D=d+" as forwardBuffer >= bufferLowWaterLine ("+v+" >= "+s+")";return l&&(D+=" and next bandwidth > current bandwidth ("+x+" > "+y+")"),c(D),!0}return c("not "+d+" as no switching criteria met"),!1},BE=function(a){$(e,a);function e(i){var t;t=a.call(this)||this;var n=i.src,s=i.handleManifestRedirects,o=i.withCredentials,u=i.tech,l=i.bandwidth,c=i.externVhs,d=i.useCueTags,h=i.blacklistDuration,v=i.enableLowInitialPlaylist,T=i.sourceType,x=i.cacheEncryptionKeys,y=i.experimentalBufferBasedABR,E=i.experimentalLeastPixelDiffSelector,D=i.captionServices;if(!n)throw new Error("A non-empty playlist URL or JSON manifest string is required");var A=i.maxPlaylistRetries;(A===null||typeof A=="undefined")&&(A=1/0),cr=c,t.experimentalBufferBasedABR=Boolean(y),t.experimentalLeastPixelDiffSelector=Boolean(E),t.withCredentials=o,t.tech_=u,t.vhs_=u.vhs,t.sourceType_=T,t.useCueTags_=d,t.blacklistDuration=h,t.maxPlaylistRetries=A,t.enableLowInitialPlaylist=v,t.useCueTags_&&(t.cueTagsTrack_=t.tech_.addTextTrack("metadata","ad-cues"),t.cueTagsTrack_.inBandMetadataTrackDispatchType=""),t.requestOptions_={withCredentials:o,handleManifestRedirects:s,maxPlaylistRetries:A,timeout:null},t.on("error",t.pauseLoading),t.mediaTypes_=PE(),t.mediaSource=new P.MediaSource,t.handleDurationChange_=t.handleDurationChange_.bind(se(t)),t.handleSourceOpen_=t.handleSourceOpen_.bind(se(t)),t.handleSourceEnded_=t.handleSourceEnded_.bind(se(t)),t.mediaSource.addEventListener("durationchange",t.handleDurationChange_),t.mediaSource.addEventListener("sourceopen",t.handleSourceOpen_),t.mediaSource.addEventListener("sourceended",t.handleSourceEnded_),t.seekable_=B.createTimeRanges(),t.hasPlayed_=!1,t.syncController_=new gE(i),t.segmentMetadataTrack_=u.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,t.decrypter_=new _E,t.sourceUpdater_=new ym(t.mediaSource),t.inbandTextTracks_={},t.timelineChangeController_=new vE;var L={vhs:t.vhs_,parse708captions:i.parse708captions,captionServices:D,mediaSource:t.mediaSource,currentTime:t.tech_.currentTime.bind(t.tech_),seekable:function(){return t.seekable()},seeking:function(){return t.tech_.seeking()},duration:function(){return t.duration()},hasPlayed:function(){return t.hasPlayed_},goalBufferLength:function(){return t.goalBufferLength()},bandwidth:l,syncController:t.syncController_,decrypter:t.decrypter_,sourceType:t.sourceType_,inbandTextTracks:t.inbandTextTracks_,cacheEncryptionKeys:x,sourceUpdater:t.sourceUpdater_,timelineChangeController:t.timelineChangeController_,experimentalExactManifestTimings:i.experimentalExactManifestTimings};t.masterPlaylistLoader_=t.sourceType_==="dash"?new vl(n,t.vhs_,t.requestOptions_):new Ri(n,t.vhs_,t.requestOptions_),t.setupMasterPlaylistLoaderListeners_(),t.mainSegmentLoader_=new xl(B.mergeOptions(L,{segmentMetadataTrack:t.segmentMetadataTrack_,loaderType:"main"}),i),t.audioSegmentLoader_=new xl(B.mergeOptions(L,{loaderType:"audio"}),i),t.subtitleSegmentLoader_=new fE(B.mergeOptions(L,{loaderType:"vtt",featuresNativeTextTracks:t.tech_.featuresNativeTextTracks}),i),t.setupSegmentLoaderListeners_(),t.experimentalBufferBasedABR&&(t.masterPlaylistLoader_.one("loadedplaylist",function(){return t.startABRTimer_()}),t.tech_.on("pause",function(){return t.stopABRTimer_()}),t.tech_.on("play",function(){return t.startABRTimer_()})),LE.forEach(function(N){t[N+"_"]=OE.bind(se(t),N)}),t.logger_=Lt("MPC"),t.triggeredFmp4Usage=!1,t.tech_.preload()==="none"?(t.loadOnPlay_=function(){t.loadOnPlay_=null,t.masterPlaylistLoader_.load()},t.tech_.one("play",t.loadOnPlay_)):t.masterPlaylistLoader_.load(),t.timeToLoadedData__=-1,t.mainAppendsToLoadedData__=-1,t.audioAppendsToLoadedData__=-1;var O=t.tech_.preload()==="none"?"play":"loadstart";return t.tech_.one(O,function(){var N=Date.now();t.tech_.one("loadeddata",function(){t.timeToLoadedData__=Date.now()-N,t.mainAppendsToLoadedData__=t.mainSegmentLoader_.mediaAppends,t.audioAppendsToLoadedData__=t.audioSegmentLoader_.mediaAppends})}),t}var r=e.prototype;return r.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},r.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},r.appendsToLoadedData_=function(){var t=this.mainAppendsToLoadedData_(),n=this.audioAppendsToLoadedData_();return t===-1||n===-1?-1:t+n},r.timeToLoadedData_=function(){return this.timeToLoadedData__},r.checkABR_=function(){var t=this.selectPlaylist();t&&this.shouldSwitchToMedia_(t)&&this.switchMedia_(t,"abr")},r.switchMedia_=function(t,n,s){var o=this.media(),u=o&&(o.id||o.uri),l=t.id||t.uri;u&&u!==l&&(this.logger_("switch media "+u+" -> "+l+" from "+n),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+n})),this.masterPlaylistLoader_.media(t,s)},r.startABRTimer_=function(){var t=this;this.stopABRTimer_(),this.abrTimer_=P.setInterval(function(){return t.checkABR_()},250)},r.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(P.clearInterval(this.abrTimer_),this.abrTimer_=null)},r.getAudioTrackPlaylists_=function(){var t=this.master(),n=t&&t.playlists||[];if(!t||!t.mediaGroups||!t.mediaGroups.AUDIO)return n;var s=t.mediaGroups.AUDIO,o=Object.keys(s),u;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)u=this.mediaTypes_.AUDIO.activeTrack();else{var l=s.main||o.length&&s[o[0]];for(var c in l)if(l[c].default){u={label:c};break}}if(!u)return n;var d=[];for(var h in s)if(s[h][u.label]){var v=s[h][u.label];if(v.playlists&&v.playlists.length)d.push.apply(d,v.playlists);else if(v.uri)d.push(v);else if(t.playlists.length)for(var T=0;T<t.playlists.length;T++){var x=t.playlists[T];x.attributes&&x.attributes.AUDIO&&x.attributes.AUDIO===h&&d.push(x)}}return d.length?d:n},r.setupMasterPlaylistLoaderListeners_=function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var n=t.masterPlaylistLoader_.media(),s=n.targetDuration*1.5*1e3;ll(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=s,n.endList&&t.tech_.preload()!=="none"&&(t.mainSegmentLoader_.playlist(n,t.requestOptions_),t.mainSegmentLoader_.load()),kE({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,vhs:t.vhs_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),n),t.setupFirstPlay(),!t.mediaTypes_.AUDIO.activePlaylistLoader||t.mediaTypes_.AUDIO.activePlaylistLoader.media()?t.trigger("selectedinitialmedia"):t.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){t.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){t.loadOnPlay_&&t.tech_.off("play",t.loadOnPlay_);var n=t.masterPlaylistLoader_.media();if(!n){t.excludeUnsupportedVariants_();var s;if(t.enableLowInitialPlaylist&&(s=t.selectInitialPlaylist()),s||(s=t.selectPlaylist()),!s||!t.shouldSwitchToMedia_(s))return;t.initialMedia_=s,t.switchMedia_(t.initialMedia_,"initial");var o=t.sourceType_==="vhs-json"&&t.initialMedia_.segments;if(!o)return;n=t.initialMedia_}t.handleUpdatedMediaPlaylist(n)}),this.masterPlaylistLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var n=t.masterPlaylistLoader_.media(),s=n.targetDuration*1.5*1e3;ll(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=s,t.mainSegmentLoader_.playlist(n,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var n=t.masterPlaylistLoader_.media();if(n.lastExcludeReason_!=="playlist-unchanged"){var s=t.stuckAtPlaylistEnd_(n);s&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),t.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},r.handleUpdatedMediaPlaylist=function(t){this.useCueTags_&&this.updateAdCues_(t),this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.updateDuration(!t.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},r.triggerPresenceUsage_=function(t,n){var s=t.mediaGroups||{},o=!0,u=Object.keys(s.AUDIO);for(var l in s.AUDIO)for(var c in s.AUDIO[l]){var d=s.AUDIO[l][c];d.uri||(o=!1)}o&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(s.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),cr.Playlist.isAes(n)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),u.length&&Object.keys(s.AUDIO[u[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},r.shouldSwitchToMedia_=function(t){var n=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,s=this.tech_.currentTime(),o=this.bufferLowWaterLine(),u=this.bufferHighWaterLine(),l=this.tech_.buffered();return FE({buffered:l,currentTime:s,currentPlaylist:n,nextPlaylist:t,bufferLowWaterLine:o,bufferHighWaterLine:u,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},r.setupSegmentLoaderListeners_=function(){var t=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",function(){var s=t.selectPlaylist();t.shouldSwitchToMedia_(s)&&t.switchMedia_(s,"bandwidthupdate"),t.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){t.trigger("progress")})),this.mainSegmentLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){t.error=t.mainSegmentLoader_.error_,t.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){t.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){t.error=t.audioSegmentLoader_.error_,t.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){t.logger_("main segment loader ended"),t.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(s){t.experimentalBufferBasedABR||(t.delegateLoaders_("all",["abort"]),t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},IE))});var n=function(){if(!t.sourceUpdater_.hasCreatedSourceBuffers())return t.tryToCreateSourceBuffers_();var o=t.getCodecsOrExclude_();!o||t.sourceUpdater_.addOrChangeSourceBuffers(o)};this.mainSegmentLoader_.on("trackinfo",n),this.audioSegmentLoader_.on("trackinfo",n),this.mainSegmentLoader_.on("fmp4",function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){t.logger_("audioSegmentLoader ended"),t.onEndOfStream()})},r.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},r.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},r.smoothQualityChange_=function(t){t===void 0&&(t=this.selectPlaylist()),this.fastQualityChange_(t)},r.fastQualityChange_=function(t){var n=this;if(t===void 0&&(t=this.selectPlaylist()),t===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(t,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){B.browser.IE_VERSION||B.browser.IS_EDGE?n.tech_.setCurrentTime(n.tech_.currentTime()+.04):n.tech_.setCurrentTime(n.tech_.currentTime())})},r.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var t=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0))return this.tech_.setCurrentTime(t.end(t.length-1))}},r.setupFirstPlay=function(){var t=this,n=this.masterPlaylistLoader_.media();if(!n||this.tech_.paused()||this.hasPlayed_)return!1;if(!n.endList){var s=this.seekable();if(!s.length)return!1;if(B.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){t.trigger("firstplay"),t.tech_.setCurrentTime(s.end(0)),t.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(s.end(0))}return this.hasPlayed_=!0,this.load(),!0},r.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var t=this.tech_.play();typeof t!="undefined"&&typeof t.then=="function"&&t.then(null,function(n){})}this.trigger("sourceopen")},r.handleSourceEnded_=function(){if(!!this.inbandTextTracks_.metadataTrack_){var t=this.inbandTextTracks_.metadataTrack_.cues;if(!(!t||!t.length)){var n=this.duration();t[t.length-1].endTime=isNaN(n)||Math.abs(n)===1/0?Number.MAX_VALUE:n}}},r.handleDurationChange_=function(){this.tech_.trigger("durationchange")},r.onEndOfStream=function(){var t=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var n=this.mainSegmentLoader_.getCurrentMediaInfo_();!n||n.hasVideo?t=t&&this.audioSegmentLoader_.ended_:t=this.audioSegmentLoader_.ended_}!t||(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},r.stuckAtPlaylistEnd_=function(t){var n=this.seekable();if(!n.length)return!1;var s=this.syncController_.getExpiredTime(t,this.duration());if(s===null)return!1;var o=cr.Playlist.playlistEnd(t,s),u=this.tech_.currentTime(),l=this.tech_.buffered();if(!l.length)return o-u<=Vt;var c=l.end(l.length-1);return c-u<=Vt&&o-c<=Vt},r.blacklistCurrentPlaylist=function(t,n){t===void 0&&(t={});var s=t.playlist||this.masterPlaylistLoader_.media();if(n=n||t.blacklistDuration||this.blacklistDuration,!s){this.error=t,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}s.playlistErrors_++;var o=this.masterPlaylistLoader_.master.playlists,u=o.filter(ks),l=u.length===1&&u[0]===s;if(o.length===1&&n!==1/0)return B.log.warn("Problem encountered with playlist "+s.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(l);if(l){var c=!1;o.forEach(function(E){if(E!==s){var D=E.excludeUntil;typeof D!="undefined"&&D!==1/0&&(c=!0,delete E.excludeUntil)}}),c&&(B.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var d;s.playlistErrors_>this.maxPlaylistRetries?d=1/0:d=Date.now()+n*1e3,s.excludeUntil=d,t.reason&&(s.lastExcludeReason_=t.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var h=this.selectPlaylist();if(!h){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var v=t.internal?this.logger_:B.log.warn,T=t.message?" "+t.message:"";v((t.internal?"Internal problem":"Problem")+" encountered with playlist "+s.id+"."+(T+" Switching to playlist "+h.id+".")),h.attributes.AUDIO!==s.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),h.attributes.SUBTITLES!==s.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var x=h.targetDuration/2*1e3||5*1e3,y=typeof h.lastRequest=="number"&&Date.now()-h.lastRequest<=x;return this.switchMedia_(h,"exclude",l||y)},r.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},r.delegateLoaders_=function(t,n){var s=this,o=[],u=t==="all";(u||t==="main")&&o.push(this.masterPlaylistLoader_);var l=[];(u||t==="audio")&&l.push("AUDIO"),(u||t==="subtitle")&&(l.push("CLOSED-CAPTIONS"),l.push("SUBTITLES")),l.forEach(function(c){var d=s.mediaTypes_[c]&&s.mediaTypes_[c].activePlaylistLoader;d&&o.push(d)}),["main","audio","subtitle"].forEach(function(c){var d=s[c+"SegmentLoader_"];d&&(t===c||t==="all")&&o.push(d)}),o.forEach(function(c){return n.forEach(function(d){typeof c[d]=="function"&&c[d]()})})},r.setCurrentTime=function(t){var n=Bi(this.tech_.buffered(),t);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(n&&n.length)return t;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},r.duration=function(){if(!this.masterPlaylistLoader_)return 0;var t=this.masterPlaylistLoader_.media();return t?t.endList?this.mediaSource?this.mediaSource.duration:cr.Playlist.duration(t):1/0:0},r.seekable=function(){return this.seekable_},r.onSyncInfoUpdate_=function(){var t;if(!(!this.masterPlaylistLoader_||this.sourceUpdater_.hasCreatedSourceBuffers())){var n=this.masterPlaylistLoader_.media();if(!!n){var s=this.syncController_.getExpiredTime(n,this.duration());if(s!==null){var o=this.masterPlaylistLoader_.master,u=cr.Playlist.seekable(n,s,cr.Playlist.liveEdgeDelay(o,n));if(u.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),s=this.syncController_.getExpiredTime(n,this.duration()),s===null||(t=cr.Playlist.seekable(n,s,cr.Playlist.liveEdgeDelay(o,n)),t.length===0)))){var l,c;this.seekable_&&this.seekable_.length&&(l=this.seekable_.end(0),c=this.seekable_.start(0)),t?t.start(0)>u.end(0)||u.start(0)>t.end(0)?this.seekable_=u:this.seekable_=B.createTimeRanges([[t.start(0)>u.start(0)?t.start(0):u.start(0),t.end(0)<u.end(0)?t.end(0):u.end(0)]]):this.seekable_=u,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===l&&this.seekable_.start(0)===c)&&(this.logger_("seekable updated ["+Tp(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},r.updateDuration=function(t){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,t),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(t){var n=this.seekable();if(!n.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<n.end(n.length-1))&&this.sourceUpdater_.setDuration(n.end(n.length-1));return}var s=this.tech_.buffered(),o=cr.Playlist.duration(this.masterPlaylistLoader_.media());s.length>0&&(o=Math.max(o,s.end(s.length-1))),this.mediaSource.duration!==o&&this.sourceUpdater_.setDuration(o)},r.dispose=function(){var t=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(n){var s=t.mediaTypes_[n].groups;for(var o in s)s[o].forEach(function(u){u.playlistLoader&&u.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},r.master=function(){return this.masterPlaylistLoader_.master},r.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},r.areMediaTypesKnown_=function(){var t=!!this.mediaTypes_.AUDIO.activePlaylistLoader,n=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),s=t?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!n||!s)},r.getCodecsOrExclude_=function(){var t=this,n={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};n.video=n.main;var s=Un(this.master(),this.media()),o={},u=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(n.main.hasVideo&&(o.video=s.video||n.main.videoCodec||x2),n.main.isMuxed&&(o.video+=","+(s.audio||n.main.audioCodec||Ld)),(n.main.hasAudio&&!n.main.isMuxed||n.audio.hasAudio||u)&&(o.audio=s.audio||n.main.audioCodec||n.audio.audioCodec||Ld,n.audio.isFmp4=n.main.hasAudio&&!n.main.isMuxed?n.main.isFmp4:n.audio.isFmp4),!o.audio&&!o.video){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var l=function(y,E){return y?Na(E):Oo(E)},c={},d;if(["video","audio"].forEach(function(x){if(o.hasOwnProperty(x)&&!l(n[x].isFmp4,o[x])){var y=n[x].isFmp4?"browser":"muxer";c[y]=c[y]||[],c[y].push(o[x]),x==="audio"&&(d=y)}}),u&&d&&this.media().attributes.AUDIO){var h=this.media().attributes.AUDIO;this.master().playlists.forEach(function(x){var y=x.attributes&&x.attributes.AUDIO;y===h&&x!==t.media()&&(x.excludeUntil=1/0)}),this.logger_("excluding audio group "+h+" as "+d+' does not support codec(s): "'+o.audio+'"')}if(Object.keys(c).length){var v=Object.keys(c).reduce(function(x,y){return x&&(x+=", "),x+=y+' does not support codec(s): "'+c[y].join(",")+'"',x},"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:v,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var T=[];if(["video","audio"].forEach(function(x){var y=(Nt(t.sourceUpdater_.codecs[x]||"")[0]||{}).type,E=(Nt(o[x]||"")[0]||{}).type;y&&E&&y.toLowerCase()!==E.toLowerCase()&&T.push('"'+t.sourceUpdater_.codecs[x]+'" -> "'+o[x]+'"')}),T.length){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+T.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return o},r.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&!!this.areMediaTypesKnown_()){var t=this.getCodecsOrExclude_();if(!!t){this.sourceUpdater_.createSourceBuffers(t);var n=[t.video,t.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(n)}}},r.excludeUnsupportedVariants_=function(){var t=this,n=this.master().playlists,s=[];Object.keys(n).forEach(function(o){var u=n[o];if(s.indexOf(u.id)===-1){s.push(u.id);var l=Un(t.master,u),c=[];l.audio&&!Oo(l.audio)&&!Na(l.audio)&&c.push("audio codec "+l.audio),l.video&&!Oo(l.video)&&!Na(l.video)&&c.push("video codec "+l.video),l.text&&l.text==="stpp.ttml.im1t"&&c.push("text codec "+l.text),c.length&&(u.excludeUntil=1/0,t.logger_("excluding "+u.id+" for unsupported: "+c.join(", ")))}})},r.excludeIncompatibleVariants_=function(t){var n=this,s=[],o=this.master().playlists,u=Os(Nt(t)),l=sm(u),c=u.video&&Nt(u.video)[0]||null,d=u.audio&&Nt(u.audio)[0]||null;Object.keys(o).forEach(function(h){var v=o[h];if(!(s.indexOf(v.id)!==-1||v.excludeUntil===1/0)){s.push(v.id);var T=[],x=Un(n.masterPlaylistLoader_.master,v),y=sm(x);if(!(!x.audio&&!x.video)){if(y!==l&&T.push('codec count "'+y+'" !== "'+l+'"'),!n.sourceUpdater_.canChangeType()){var E=x.video&&Nt(x.video)[0]||null,D=x.audio&&Nt(x.audio)[0]||null;E&&c&&E.type.toLowerCase()!==c.type.toLowerCase()&&T.push('video codec "'+E.type+'" !== "'+c.type+'"'),D&&d&&D.type.toLowerCase()!==d.type.toLowerCase()&&T.push('audio codec "'+D.type+'" !== "'+d.type+'"')}T.length&&(v.excludeUntil=1/0,n.logger_("blacklisting "+v.id+": "+T.join(" && ")))}}})},r.updateAdCues_=function(t){var n=0,s=this.seekable();s.length&&(n=s.start(0)),pE(t,this.cueTagsTrack_,n)},r.goalBufferLength=function(){var t=this.tech_.currentTime(),n=Ue.GOAL_BUFFER_LENGTH,s=Ue.GOAL_BUFFER_LENGTH_RATE,o=Math.max(n,Ue.MAX_GOAL_BUFFER_LENGTH);return Math.min(n+t*s,o)},r.bufferLowWaterLine=function(){var t=this.tech_.currentTime(),n=Ue.BUFFER_LOW_WATER_LINE,s=Ue.BUFFER_LOW_WATER_LINE_RATE,o=Math.max(n,Ue.MAX_BUFFER_LOW_WATER_LINE),u=Math.max(n,Ue.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(n+t*s,this.experimentalBufferBasedABR?u:o)},r.bufferHighWaterLine=function(){return Ue.BUFFER_HIGH_WATER_LINE},e}(B.EventTarget),RE=function(e,r,i){return function(t){var n=e.master.playlists[r],s=ul(n),o=ks(n);return typeof t=="undefined"?o:(t?delete n.disabled:n.disabled=!0,t!==o&&!s&&(i(),t?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),t)}},ME=function(e,r,i){var t=e.masterPlaylistController_,n=e.options_.smoothQualityChange,s=n?"smooth":"fast",o=t[s+"QualityChange_"].bind(t);if(r.attributes){var u=r.attributes.RESOLUTION;this.width=u&&u.width,this.height=u&&u.height,this.bandwidth=r.attributes.BANDWIDTH}this.codecs=Un(t.master(),r),this.playlist=r,this.id=i,this.enabled=RE(e.playlists,r.id,o)},NE=function(e){e.representations=function(){var r=e.masterPlaylistController_.master(),i=Mn(r)?e.masterPlaylistController_.getAudioTrackPlaylists_():r.playlists;return i?i.filter(function(t){return!ul(t)}).map(function(t,n){return new ME(e,t,t.id)}):[]}},Sm=["seeking","seeked","pause","playing","error"],UE=function(){function a(r){var i=this;this.masterPlaylistController_=r.masterPlaylistController,this.tech_=r.tech,this.seekable=r.seekable,this.allowSeeksWithinUnsafeLiveWindow=r.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=r.liveRangeSafeTimeDelta,this.media=r.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Lt("PlaybackWatcher"),this.logger_("initialize");var t=function(){return i.monitorCurrentTime_()},n=function(){return i.monitorCurrentTime_()},s=function(){return i.techWaiting_()},o=function(){return i.cancelTimer_()},u=this.masterPlaylistController_,l=["main","subtitle","audio"],c={};l.forEach(function(h){c[h]={reset:function(){return i.resetSegmentDownloads_(h)},updateend:function(){return i.checkSegmentDownloads_(h)}},u[h+"SegmentLoader_"].on("appendsdone",c[h].updateend),u[h+"SegmentLoader_"].on("playlistupdate",c[h].reset),i.tech_.on(["seeked","seeking"],c[h].reset)});var d=function(v){["main","audio"].forEach(function(T){u[T+"SegmentLoader_"][v]("appended",i.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){i.fixesBadSeeks_()&&(i.consecutiveUpdates=0,i.lastRecordedTime=i.tech_.currentTime(),d("off"))},this.clearSeekingAppendCheck_=function(){return d("off")},this.watchForBadSeeking_=function(){i.clearSeekingAppendCheck_(),d("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(Sm,o),this.tech_.on("canplay",n),this.tech_.one("play",t),this.dispose=function(){i.clearSeekingAppendCheck_(),i.logger_("dispose"),i.tech_.off("waiting",s),i.tech_.off(Sm,o),i.tech_.off("canplay",n),i.tech_.off("play",t),i.tech_.off("seeking",i.watchForBadSeeking_),i.tech_.off("seeked",i.clearSeekingAppendCheck_),l.forEach(function(h){u[h+"SegmentLoader_"].off("appendsdone",c[h].updateend),u[h+"SegmentLoader_"].off("playlistupdate",c[h].reset),i.tech_.off(["seeked","seeking"],c[h].reset)}),i.checkCurrentTimeTimeout_&&P.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}var e=a.prototype;return e.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&P.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=P.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function(i){var t=this.masterPlaylistController_[i+"SegmentLoader_"];this[i+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+i+" loader"),this[i+"StalledDownloads_"]=0,this[i+"Buffered_"]=t.buffered_()},e.checkSegmentDownloads_=function(i){var t=this.masterPlaylistController_,n=t[i+"SegmentLoader_"],s=n.buffered_(),o=Fx(this[i+"Buffered_"],s);if(this[i+"Buffered_"]=s,o){this.resetSegmentDownloads_(i);return}this[i+"StalledDownloads_"]++,this.logger_("found #"+this[i+"StalledDownloads_"]+" "+i+" appends that did not increase buffer (possible stalled download)",{playlistId:n.playlist_&&n.playlist_.id,buffered:Xr(s)}),!(this[i+"StalledDownloads_"]<10)&&(this.logger_(i+" loader stalled download exclusion"),this.resetSegmentDownloads_(i),this.tech_.trigger({type:"usage",name:"vhs-"+i+"-download-exclusion"}),i!=="subtitle"&&t.blacklistCurrentPlaylist({message:"Excessive "+i+" segment downloading detected."},1/0))},e.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var i=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===i&&(!t.length||i+Vt>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&i===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):i===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=i)}},e.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function(){var i=this.tech_.seeking();if(!i)return!1;var t=this.seekable(),n=this.tech_.currentTime(),s=this.afterSeekableWindow_(t,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow),o;if(s){var u=t.end(t.length-1);o=u}if(this.beforeSeekableWindow_(t,n)){var l=t.start(0);o=l+(l===t.end(0)?0:Vt)}if(typeof o!="undefined")return this.logger_("Trying to seek outside of seekable at time "+n+" with "+("seekable range "+Tp(t)+". Seeking to ")+(o+".")),this.tech_.setCurrentTime(o),!0;for(var c=this.masterPlaylistController_.sourceUpdater_,d=this.tech_.buffered(),h=c.audioBuffer?c.audioBuffered():null,v=c.videoBuffer?c.videoBuffered():null,T=this.media(),x=T.partTargetDuration?T.partTargetDuration:(T.targetDuration-Er)*2,y=[h,v],E=0;E<y.length;E++)if(!!y[E]){var D=al(y[E],n);if(D<x)return!1}var A=ws(d,n);return A.length===0?!1:(o=A.start(0)+Vt,this.logger_("Buffered region starts ("+A.start(0)+") "+(" just beyond seek point ("+n+"). Seeking to "+o+".")),this.tech_.setCurrentTime(o),!0)},e.waiting_=function(){if(!this.techWaiting_()){var i=this.tech_.currentTime(),t=this.tech_.buffered(),n=Bi(t,i);if(n.length&&i+3<=n.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(i),this.logger_("Stopped at "+i+" while inside a buffered region "+("["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},e.techWaiting_=function(){var i=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(i,t)){var n=i.end(i.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to "+("live point (seekable end) "+n)),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var s=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,o=this.tech_.buffered(),u=this.videoUnderflow_({audioBuffered:s.audioBuffered(),videoBuffered:s.videoBuffered(),currentTime:t});if(u)return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var l=ws(o,t);if(l.length>0){var c=l.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+c+", seeking "+("to "+l.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),c*1e3,t),!0}return!1},e.afterSeekableWindow_=function(i,t,n,s){if(s===void 0&&(s=!1),!i.length)return!1;var o=i.end(i.length-1)+Vt,u=!n.endList;return u&&s&&(o=i.end(i.length-1)+n.targetDuration*3),t>o},e.beforeSeekableWindow_=function(i,t){return!!(i.length&&i.start(0)>0&&t<i.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function(i){var t=i.videoBuffered,n=i.audioBuffered,s=i.currentTime;if(!!t){var o;if(t.length&&n.length){var u=Bi(t,s-3),l=Bi(t,s),c=Bi(n,s);c.length&&!l.length&&u.length&&(o={start:u.end(0),end:c.end(0)})}else{var d=ws(t,s);d.length||(o=this.gapFromVideoUnderflow_(t,s))}return o?(this.logger_("Encountered a gap in video from "+o.start+" to "+o.end+". "+("Seeking to current time "+s)),!0):!1}},e.skipTheGap_=function(i){var t=this.tech_.buffered(),n=this.tech_.currentTime(),s=ws(t,n);this.cancelTimer_(),!(s.length===0||n!==i)&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",i,"nextRange start:",s.start(0)),this.tech_.setCurrentTime(s.start(0)+Er),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function(i,t){for(var n=Ix(i),s=0;s<n.length;s++){var o=n.start(s),u=n.end(s);if(t-o<4&&t-o>2)return{start:o,end:u}}return null},a}(),qE={errorInterval:30,getSource:function(e){var r=this.tech({IWillNotUseThisInPlugins:!0}),i=r.currentSource_||this.currentSource();return e(i)}},VE=function a(e,r){var i=0,t=0,n=B.mergeOptions(qE,r);e.ready(function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var s=function(){t&&e.currentTime(t)},o=function(h){h!=null&&(t=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",s),e.src(h),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},u=function(){if(Date.now()-i<n.errorInterval*1e3){e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),e.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!n.getSource||typeof n.getSource!="function"){B.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return i=Date.now(),n.getSource.call(e,o)},l=function d(){e.off("loadedmetadata",s),e.off("error",u),e.off("dispose",d)},c=function(h){l(),a(e,h)};e.on("error",u),e.on("dispose",l),e.reloadSourceOnError=c},HE=function(e){VE(this,e)},Em="2.12.0",jE="5.14.1",GE="0.19.2",zE="4.7.0",WE="3.1.2",He={PlaylistLoader:Ri,Playlist:ut,utils:nS,STANDARD_PLAYLIST_SELECTOR:lm,INITIAL_PLAYLIST_SELECTOR:zS,lastBandwidthSelector:lm,movingAverageBandwidthSelector:jS,comparePlaylistBandwidth:bl,comparePlaylistResolution:HS,xhr:Np()};Object.keys(Ue).forEach(function(a){Object.defineProperty(He,a,{get:function(){return B.log.warn("using Vhs."+a+" is UNSAFE be sure you know what you are doing"),Ue[a]},set:function(r){if(B.log.warn("using Vhs."+a+" is UNSAFE be sure you know what you are doing"),typeof r!="number"||r<0){B.log.warn("value of Vhs."+a+" must be greater than or equal to 0");return}Ue[a]=r}})});var Cm="videojs-vhs",Dm=function(e,r){for(var i=r.media(),t=-1,n=0;n<e.length;n++)if(e[n].id===i.id){t=n;break}e.selectedIndex_=t,e.trigger({selectedIndex:t,type:"change"})},$E=function(e,r){r.representations().forEach(function(i){e.addQualityLevel(i)}),Dm(e,r.playlists)};He.canPlaySource=function(){return B.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var KE=function(e,r,i){if(!e)return e;var t={};r&&r.attributes&&r.attributes.CODECS&&(t=Os(Nt(r.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(t.audio=i.attributes.CODECS);var n=un(t.video),s=un(t.audio),o={};for(var u in e)o[u]={},s&&(o[u].audioContentType=s),n&&(o[u].videoContentType=n),r.contentProtection&&r.contentProtection[u]&&r.contentProtection[u].pssh&&(o[u].pssh=r.contentProtection[u].pssh),typeof e[u]=="string"&&(o[u].url=e[u]);return B.mergeOptions(e,o)},XE=function(e,r){return e.reduce(function(i,t){if(!t.contentProtection)return i;var n=r.reduce(function(s,o){var u=t.contentProtection[o];return u&&u.pssh&&(s[o]={pssh:u.pssh}),s},{});return Object.keys(n).length&&i.push(n),i},[])},QE=function(e){var r=e.player,i=e.sourceKeySystems,t=e.audioMedia,n=e.mainPlaylists;if(!r.eme.initializeMediaKeys)return Promise.resolve();var s=t?n.concat([t]):n,o=XE(s,Object.keys(i)),u=[],l=[];return o.forEach(function(c){l.push(new Promise(function(d,h){r.tech_.one("keysessioncreated",d)})),u.push(new Promise(function(d,h){r.eme.initializeMediaKeys({keySystems:c},function(v){if(v){h(v);return}d()})}))}),Promise.race([Promise.all(u),Promise.race(l)])},YE=function(e){var r=e.player,i=e.sourceKeySystems,t=e.media,n=e.audioMedia,s=KE(i,t,n);return s?(r.currentSource().keySystems=s,s&&!r.eme?(B.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},Am=function(){if(!P.localStorage)return null;var e=P.localStorage.getItem(Cm);if(!e)return null;try{return JSON.parse(e)}catch{return null}},JE=function(e){if(!P.localStorage)return!1;var r=Am();r=r?B.mergeOptions(r,e):e;try{P.localStorage.setItem(Cm,JSON.stringify(r))}catch{return!1}return r},ZE=function(e){return e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(e.substring(e.indexOf(",")+1)):e};He.supportsNativeHls=function(){if(!W||!W.createElement)return!1;var a=W.createElement("video");if(!B.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(r){return/maybe|probably/i.test(a.canPlayType(r))})}();He.supportsNativeDash=function(){return!W||!W.createElement||!B.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(W.createElement("video").canPlayType("application/dash+xml"))}();He.supportsTypeNatively=function(a){return a==="hls"?He.supportsNativeHls:a==="dash"?He.supportsNativeDash:!1};He.isSupported=function(){return B.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var e1=B.getComponent("Component"),Dl=function(a){$(e,a);function e(i,t,n){var s;if(s=a.call(this,t,B.mergeOptions(n.hls,n.vhs))||this,n.hls&&Object.keys(n.hls).length&&B.log.warn("Using hls options is deprecated. Use vhs instead."),typeof n.initialBandwidth=="number"&&(s.options_.bandwidth=n.initialBandwidth),s.logger_=Lt("VhsHandler"),t.options_&&t.options_.playerId){var o=B(t.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return B.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),t.trigger({type:"usage",name:"hls-player-access"}),se(s)},configurable:!0}),o.hasOwnProperty("vhs")||Object.defineProperty(o,"vhs",{get:function(){return B.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),t.trigger({type:"usage",name:"vhs-player-access"}),se(s)},configurable:!0}),o.hasOwnProperty("dash")||Object.defineProperty(o,"dash",{get:function(){return B.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),se(s)},configurable:!0}),s.player_=o}if(s.tech_=t,s.source_=i,s.stats={},s.ignoreNextSeekingEvent_=!1,s.setOptions_(),s.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(s.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return s.on(W,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(u){var l=W.fullscreenElement||W.webkitFullscreenElement||W.mozFullScreenElement||W.msFullscreenElement;l&&l.contains(s.tech_.el())?s.masterPlaylistController_.fastQualityChange_():s.masterPlaylistController_.checkABR_()}),s.on(s.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),s.on(s.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),s.on(s.tech_,"play",s.play),s}var r=e.prototype;return r.setOptions_=function(){var t=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage!="undefined"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var n=Am();n&&n.bandwidth&&(this.options_.bandwidth=n.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),n&&n.throughput&&(this.options_.throughput=n.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Ue.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Ue.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(s){typeof t.source_[s]!="undefined"&&(t.options_[s]=t.source_[s])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},r.src=function(t,n){var s=this;if(!!t){this.setOptions_(),this.options_.src=ZE(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=He,this.options_.sourceType=Od(n),this.options_.seekTo=function(l){s.tech_.setCurrentTime(l)},this.options_.smoothQualityChange&&B.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new BE(this.options_);var o=B.mergeOptions({liveRangeSafeTimeDelta:Vt},this.options_,{seekable:function(){return s.seekable()},media:function(){return s.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new UE(o),this.masterPlaylistController_.on("error",function(){var l=B.players[s.tech_.options_.playerId],c=s.masterPlaylistController_.error;typeof c=="object"&&!c.code?c.code=3:typeof c=="string"&&(c={message:c,code:3}),l.error(c)});var u=this.options_.experimentalBufferBasedABR?He.movingAverageBandwidthSelector(.55):He.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):u.bind(this),this.masterPlaylistController_.selectInitialPlaylist=He.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(c){this.masterPlaylistController_.selectPlaylist=c.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(c){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=c,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var c=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,d=P.navigator.connection||P.navigator.mozConnection||P.navigator.webkitConnection,h=1e7;if(this.options_.useNetworkInformationApi&&d){var v=d.downlink*1e3*1e3;v>=h&&c>=h?c=Math.max(c,v):c=v}return c},set:function(c){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=c,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var c=1/(this.bandwidth||1),d;this.throughput>0?d=1/this.throughput:d=0;var h=Math.floor(1/(c+d));return h},set:function(){B.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return s.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return s.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return s.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return s.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return s.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return s.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return s.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return s.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return s.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return s.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return s.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return Xr(s.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return s.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return s.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return s.tech_.name_},enumerable:!0},duration:{get:function(){return s.tech_.duration()},enumerable:!0},master:{get:function(){return s.playlists.master},enumerable:!0},playerDimensions:{get:function(){return s.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Xr(s.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return s.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){s.options_.useBandwidthFromLocalStorage&&JE({bandwidth:s.bandwidth,throughput:Math.round(s.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){NE(s)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){s.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),!!this.tech_.el()&&(this.mediaSourceUrl_=P.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},r.setupEme_=function(){var t=this,n=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,s=YE({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:n&&n.media()});if(this.player_.tech_.on("keystatuschange",function(o){o.status==="output-restricted"&&t.masterPlaylistController_.blacklistCurrentPlaylist({playlist:t.masterPlaylistController_.media(),message:"DRM keystatus changed to "+o.status+". Playlist will fail to play. Check for HDCP content.",blacklistDuration:1/0})}),B.browser.IE_VERSION===11||!s){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.logger_("waiting for EME key session creation"),QE({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:n&&n.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){t.logger_("created EME key session"),t.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(o){t.logger_("error while creating EME key session",o),t.player_.error({message:"Failed to initialize media keys for EME",code:3})})},r.setupQualityLevels_=function(){var t=this,n=B.players[this.tech_.options_.playerId];!n||!n.qualityLevels||this.qualityLevels_||(this.qualityLevels_=n.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){$E(t.qualityLevels_,t)}),this.playlists.on("mediachange",function(){Dm(t.qualityLevels_,t.playlists)}))},e.version=function(){return{"@videojs/http-streaming":Em,"mux.js":jE,"mpd-parser":GE,"m3u8-parser":zE,"aes-decrypter":WE}},r.version=function(){return this.constructor.version()},r.canChangeType=function(){return ym.canChangeType()},r.play=function(){this.masterPlaylistController_.play()},r.setCurrentTime=function(t){this.masterPlaylistController_.setCurrentTime(t)},r.duration=function(){return this.masterPlaylistController_.duration()},r.seekable=function(){return this.masterPlaylistController_.seekable()},r.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&P.URL.revokeObjectURL&&(P.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),a.prototype.dispose.call(this)},r.convertToProgramTime=function(t,n){return dS({playlist:this.masterPlaylistController_.media(),time:t,callback:n})},r.seekToProgramTime=function(t,n,s,o){return s===void 0&&(s=!0),o===void 0&&(o=2),fS({programTime:t,playlist:this.masterPlaylistController_.media(),retryCount:o,pauseAfterSeek:s,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:n})},e}(e1),Us={name:"videojs-http-streaming",VERSION:Em,canHandleSource:function(e,r){r===void 0&&(r={});var i=B.mergeOptions(B.options,r);return Us.canPlayType(e.type,i)},handleSource:function(e,r,i){i===void 0&&(i={});var t=B.mergeOptions(B.options,i);return r.vhs=new Dl(e,r,t),B.hasOwnProperty("hls")||Object.defineProperty(r,"hls",{get:function(){return B.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),r.vhs},configurable:!0}),r.vhs.xhr=Np(),r.vhs.src(e.src,e.type),r.vhs},canPlayType:function(e,r){r===void 0&&(r={});var i=B.mergeOptions(B.options,r),t=i.vhs.overrideNative,n=t===void 0?!B.browser.IS_ANY_SAFARI:t,s=Od(e),o=s&&(!He.supportsTypeNatively(s)||n);return o?"maybe":""}},t1=function(){return Na("avc1.4d400d,mp4a.40.2")};t1()&&B.getTech("Html5").registerSourceHandler(Us,0);B.VhsHandler=Dl;Object.defineProperty(B,"HlsHandler",{get:function(){return B.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),Dl},configurable:!0});B.VhsSourceHandler=Us;Object.defineProperty(B,"HlsSourceHandler",{get:function(){return B.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Us},configurable:!0});B.Vhs=He;Object.defineProperty(B,"Hls",{get:function(){return B.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),He},configurable:!0});B.use||(B.registerComponent("Hls",He),B.registerComponent("Vhs",He));B.options.vhs=B.options.vhs||{};B.options.hls=B.options.hls||{};if(!B.getPlugin||!B.getPlugin("reloadSourceOnError")){var r1=B.registerPlugin||B.plugin;r1("reloadSourceOnError",HE)}var i1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:B}),n1={exports:{}},a1=ho(i1);(function(a,e){(function(r,i){{var t=a1;a.exports=i(t.default||t)}})(mr,function(r){var i=r.browser.IS_IOS||r.browser.IS_NATIVE_ANDROID,t=r.getTech("Tech"),n=r.extend(t,{constructor:function(l,c){t.call(this,l,c),this.setPoster(l.poster),this.setSrc(this.options_.source,!0),this.setTimeout(function(){this.el_&&(this.el_.parentNode.className+=" vjs-youtube",i&&(this.el_.parentNode.className+=" vjs-youtube-mobile"),n.isApiReady?this.initYTPlayer():n.apiReadyQueue.push(this))}.bind(this))},dispose:function(){if(this.ytPlayer)this.ytPlayer.stopVideo&&this.ytPlayer.stopVideo(),this.ytPlayer.destroy&&this.ytPlayer.destroy();else{var l=n.apiReadyQueue.indexOf(this);l!==-1&&n.apiReadyQueue.splice(l,1)}this.ytPlayer=null,this.el_.parentNode.className=this.el_.parentNode.className.replace(" vjs-youtube","").replace(" vjs-youtube-mobile",""),this.el_.parentNode.removeChild(this.el_),t.prototype.dispose.call(this)},createEl:function(){var l=document.createElement("div");l.setAttribute("id",this.options_.techId),l.setAttribute("style","width:100%;height:100%;top:0;left:0;position:absolute"),l.setAttribute("class","vjs-tech");var c=document.createElement("div");if(c.appendChild(l),!i&&!this.options_.ytControls){var d=document.createElement("div");d.setAttribute("class","vjs-iframe-blocker"),d.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%"),d.onclick=function(){this.pause()}.bind(this),c.appendChild(d)}return c},initYTPlayer:function(){var l={controls:0,modestbranding:1,rel:0,showinfo:0,loop:this.options_.loop?1:0};if(typeof this.options_.autohide!="undefined"&&(l.autohide=this.options_.autohide),typeof this.options_.cc_load_policy!="undefined"&&(l.cc_load_policy=this.options_.cc_load_policy),typeof this.options_.ytControls!="undefined"&&(l.controls=this.options_.ytControls),typeof this.options_.disablekb!="undefined"&&(l.disablekb=this.options_.disablekb),typeof this.options_.color!="undefined"&&(l.color=this.options_.color),l.controls?typeof this.options_.fs!="undefined"&&(l.fs=this.options_.fs):l.fs=0,this.options_.source.src.indexOf("end=")!==-1){var c=this.options_.source.src.match(/end=([0-9]*)/);this.options_.end=parseInt(c[1])}if(typeof this.options_.end!="undefined"&&(l.end=this.options_.end),typeof this.options_.hl!="undefined"?l.hl=this.options_.hl:typeof this.options_.language!="undefined"&&(l.hl=this.options_.language.substr(0,2)),typeof this.options_.iv_load_policy!="undefined"&&(l.iv_load_policy=this.options_.iv_load_policy),typeof this.options_.list!="undefined"?l.list=this.options_.list:this.url&&typeof this.url.listId!="undefined"&&(l.list=this.url.listId),typeof this.options_.listType!="undefined"&&(l.listType=this.options_.listType),typeof this.options_.modestbranding!="undefined"&&(l.modestbranding=this.options_.modestbranding),typeof this.options_.playlist!="undefined"&&(l.playlist=this.options_.playlist),typeof this.options_.playsinline!="undefined"&&(l.playsinline=this.options_.playsinline),typeof this.options_.rel!="undefined"&&(l.rel=this.options_.rel),typeof this.options_.showinfo!="undefined"&&(l.showinfo=this.options_.showinfo),this.options_.source.src.indexOf("start=")!==-1){var d=this.options_.source.src.match(/start=([0-9]*)/);this.options_.start=parseInt(d[1])}if(typeof this.options_.start!="undefined"&&(l.start=this.options_.start),typeof this.options_.theme!="undefined"&&(l.theme=this.options_.theme),typeof this.options_.customVars!="undefined"){var h=this.options_.customVars;Object.keys(h).forEach(function(T){l[T]=h[T]})}this.activeVideoId=this.url?this.url.videoId:null,this.activeList=l.list;var v={videoId:this.activeVideoId,playerVars:l,events:{onReady:this.onPlayerReady.bind(this),onPlaybackQualityChange:this.onPlayerPlaybackQualityChange.bind(this),onPlaybackRateChange:this.onPlayerPlaybackRateChange.bind(this),onStateChange:this.onPlayerStateChange.bind(this),onVolumeChange:this.onPlayerVolumeChange.bind(this),onError:this.onPlayerError.bind(this)}};typeof this.options_.enablePrivacyEnhancedMode!="undefined"&&this.options_.enablePrivacyEnhancedMode&&(v.host="https://www.youtube-nocookie.com"),this.ytPlayer=new YT.Player(this.options_.techId,v)},onPlayerReady:function(){this.options_.muted&&this.ytPlayer.mute();var l=this.ytPlayer.getAvailablePlaybackRates();l.length>1&&(this.featuresPlaybackRate=!0),this.playerReady_=!0,this.triggerReady(),this.playOnReady?this.play():this.cueOnReady&&(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)},onPlayerPlaybackQualityChange:function(){},onPlayerPlaybackRateChange:function(){this.trigger("ratechange")},onPlayerStateChange:function(l){var c=l.data;if(!(c===this.lastState||this.errorNumber))switch(this.lastState=c,c){case-1:this.trigger("loadstart"),this.trigger("loadedmetadata"),this.trigger("durationchange"),this.trigger("ratechange");break;case YT.PlayerState.ENDED:this.trigger("ended");break;case YT.PlayerState.PLAYING:this.trigger("timeupdate"),this.trigger("durationchange"),this.trigger("playing"),this.trigger("play"),this.isSeeking&&this.onSeeked();break;case YT.PlayerState.PAUSED:this.trigger("canplay"),this.isSeeking?this.onSeeked():this.trigger("pause");break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate"),this.player_.trigger("waiting");break}},onPlayerVolumeChange:function(){this.trigger("volumechange")},onPlayerError:function(l){this.errorNumber=l.data,this.trigger("pause"),this.trigger("error")},error:function(){var l=1e3+this.errorNumber;switch(this.errorNumber){case 5:return{code:l,message:"Error while trying to play the video"};case 2:case 100:return{code:l,message:"Unable to find the video"};case 101:case 150:return{code:l,message:"Playback on other Websites has been disabled by the video owner."}}return{code:l,message:"YouTube unknown error ("+this.errorNumber+")"}},loadVideoById_:function(l){var c={videoId:l};this.options_.start&&(c.startSeconds=this.options_.start),this.options_.end&&(c.endSeconds=this.options_.end),this.ytPlayer.loadVideoById(c)},cueVideoById_:function(l){var c={videoId:l};this.options_.start&&(c.startSeconds=this.options_.start),this.options_.end&&(c.endSeconds=this.options_.end),this.ytPlayer.cueVideoById(c)},src:function(l){return l&&this.setSrc({src:l}),this.source},poster:function(){return i?null:this.poster_},setPoster:function(l){this.poster_=l},setSrc:function(l){!l||!l.src||(delete this.errorNumber,this.source=l,this.url=n.parseUrl(l.src),this.options_.poster||this.url.videoId&&(this.poster_="https://img.youtube.com/vi/"+this.url.videoId+"/0.jpg",this.trigger("posterchange"),this.checkHighResPoster()),this.options_.autoplay&&!i?this.isReady_?this.play():this.playOnReady=!0:this.activeVideoId!==this.url.videoId&&(this.isReady_?(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId):this.cueOnReady=!0))},autoplay:function(){return this.options_.autoplay},setAutoplay:function(l){this.options_.autoplay=l},loop:function(){return this.options_.loop},setLoop:function(l){this.options_.loop=l},play:function(){!this.url||!this.url.videoId||(this.wasPausedBeforeSeek=!1,this.isReady_?(this.url.listId&&(this.activeList===this.url.listId?this.ytPlayer.playVideo():(this.ytPlayer.loadPlaylist(this.url.listId),this.activeList=this.url.listId)),this.activeVideoId===this.url.videoId?this.ytPlayer.playVideo():(this.loadVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)):(this.trigger("waiting"),this.playOnReady=!0))},pause:function(){this.ytPlayer&&this.ytPlayer.pauseVideo()},paused:function(){return this.ytPlayer?this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING:!0},currentTime:function(){return this.ytPlayer?this.ytPlayer.getCurrentTime():0},setCurrentTime:function(l){this.lastState===YT.PlayerState.PAUSED&&(this.timeBeforeSeek=this.currentTime()),this.isSeeking||(this.wasPausedBeforeSeek=this.paused()),this.ytPlayer.seekTo(l,!0),this.trigger("timeupdate"),this.trigger("seeking"),this.isSeeking=!0,this.lastState===YT.PlayerState.PAUSED&&this.timeBeforeSeek!==l&&(clearInterval(this.checkSeekedInPauseInterval),this.checkSeekedInPauseInterval=setInterval(function(){this.lastState!==YT.PlayerState.PAUSED||!this.isSeeking?clearInterval(this.checkSeekedInPauseInterval):this.currentTime()!==this.timeBeforeSeek&&(this.trigger("timeupdate"),this.onSeeked())}.bind(this),250))},seeking:function(){return this.isSeeking},seekable:function(){return this.ytPlayer?r.createTimeRange(0,this.ytPlayer.getDuration()):r.createTimeRange()},onSeeked:function(){clearInterval(this.checkSeekedInPauseInterval),this.isSeeking=!1,this.wasPausedBeforeSeek&&this.pause(),this.trigger("seeked")},playbackRate:function(){return this.ytPlayer?this.ytPlayer.getPlaybackRate():1},setPlaybackRate:function(l){!this.ytPlayer||this.ytPlayer.setPlaybackRate(l)},duration:function(){return this.ytPlayer?this.ytPlayer.getDuration():0},currentSrc:function(){return this.source&&this.source.src},ended:function(){return this.ytPlayer?this.lastState===YT.PlayerState.ENDED:!1},volume:function(){return this.ytPlayer?this.ytPlayer.getVolume()/100:1},setVolume:function(l){!this.ytPlayer||this.ytPlayer.setVolume(l*100)},muted:function(){return this.ytPlayer?this.ytPlayer.isMuted():!1},setMuted:function(l){if(this.ytPlayer)this.muted(!0);else return;l?this.ytPlayer.mute():this.ytPlayer.unMute(),this.setTimeout(function(){this.trigger("volumechange")},50)},buffered:function(){if(!this.ytPlayer||!this.ytPlayer.getVideoLoadedFraction)return r.createTimeRange();var l=this.ytPlayer.getVideoLoadedFraction()*this.ytPlayer.getDuration();return r.createTimeRange(0,l)},preload:function(){},load:function(){},reset:function(){},networkState:function(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case-1:return 0;case 3:return 2;default:return 1}},readyState:function(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case-1:return 0;case 5:return 1;case 3:return 2;default:return 4}},supportsFullScreen:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled},checkHighResPoster:function(){var l="https://img.youtube.com/vi/"+this.url.videoId+"/maxresdefault.jpg";try{var c=new Image;c.onload=function(){if("naturalHeight"in c){if(c.naturalHeight<=90||c.naturalWidth<=120)return}else if(c.height<=90||c.width<=120)return;this.poster_=l,this.trigger("posterchange")}.bind(this),c.onerror=function(){},c.src=l}catch{}}});n.isSupported=function(){return!0},n.canPlaySource=function(l){return n.canPlayType(l.type)},n.canPlayType=function(l){return l==="video/youtube"},n.parseUrl=function(l){var c={videoId:null},d=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,h=l.match(d);h&&h[2].length===11&&(c.videoId=h[2]);var v=/[?&]list=([^#\&\?]+)/;return h=l.match(v),h&&h[1]&&(c.listId=h[1]),c};function s(){YT.ready(function(){n.isApiReady=!0;for(var l=0;l<n.apiReadyQueue.length;++l)n.apiReadyQueue[l].initYTPlayer()})}function o(l,c){var d=!1,h=document.createElement("script"),v=document.getElementsByTagName("script")[0];!v||(v.parentNode.insertBefore(h,v),h.onload=function(){d||(d=!0,c())},h.onreadystatechange=function(){!d&&(this.readyState==="complete"||this.readyState==="loaded")&&(d=!0,c())},h.src=l)}function u(){var l=".vjs-youtube .vjs-iframe-blocker { display: none; }.vjs-youtube.vjs-user-inactive .vjs-iframe-blocker { display: block; }.vjs-youtube .vjs-poster { background-size: cover; }.vjs-youtube-mobile .vjs-big-play-button { display: none; }",c=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.type="text/css",d.styleSheet?d.styleSheet.cssText=l:d.appendChild(document.createTextNode(l)),c.appendChild(d)}n.apiReadyQueue=[],typeof document!="undefined"&&(o("https://www.youtube.com/iframe_api",s),u()),typeof r.registerTech!="undefined"?r.registerTech("Youtube",n):r.registerComponent("Youtube",n)})})(n1);export{b1 as $,g1 as A,yv as B,Lr as C,bv as D,va as E,Et as F,Ft as G,s1 as H,gv as I,mv as J,h1 as K,to as L,zi as M,o1 as N,x1 as O,Hv as P,T1 as Q,Wt as R,xa as S,Kt as T,Xt as U,$t as V,hv as W,S1 as X,Rt as Y,v1 as Z,m1 as _,yt as a,E1 as a0,p1 as a1,l1 as a2,ya as a3,uv as a4,w1 as a5,D1 as a6,A1 as a7,u1 as a8,C1 as a9,k1 as aa,av as ab,d1 as ac,B as ad,Bt as b,Dt as c,Te as d,ct as e,ii as f,Ct as g,vc as h,ba as i,f1 as j,Qt as k,c1 as l,Yt as m,xc as n,dt as o,Sc as p,rt as q,fv as r,Wi as s,fa as t,yc as u,ma as v,y1 as w,_1 as x,vv as y,Ec as z};
